(function(){(this||window).webpackJsonp.registerAbsMids({"00feeeeb8e7f06976b5e2df2628e58e82dbd1d66":"00feeeeb8e7f06976b5e2df2628e58e82dbd1d66","860c8bd84e18b7d8b67be9b4cb1c65024cd3b63b":"860c8bd84e18b7d8b67be9b4cb1c65024cd3b63b","dojo/Deferred":"dojo/Deferred","dojo/Evented":"dojo/Evented","dojo/_base/Deferred":"dojo/_base/Deferred","dojo/_base/array":"dojo/_base/array","dojo/_base/config":"dojo/_base/config","dojo/_base/connect":"dojo/_base/connect","dojo/_base/declare":"dojo/_base/declare","dojo/_base/event":"dojo/_base/event","dojo/_base/json":"dojo/_base/json","dojo/_base/kernel":"dojo/_base/kernel","dojo/_base/lang":"dojo/_base/lang","dojo/_base/sniff":"dojo/_base/sniff","dojo/_base/window":"dojo/_base/window","dojo/_base/xhr":"dojo/_base/xhr","dojo/aspect":"dojo/aspect","dojo/dom":"dojo/dom","dojo/dom-attr":"dojo/dom-attr","dojo/dom-construct":"dojo/dom-construct","dojo/dom-form":"dojo/dom-form","dojo/dom-geometry":"dojo/dom-geometry","dojo/dom-prop":"dojo/dom-prop","dojo/dom-style":"dojo/dom-style","dojo/domReady":"dojo/domReady","dojo/domReady!":"dojo/domReady!","dojo/errors/CancelError":"dojo/errors/CancelError","dojo/errors/RequestError":"dojo/errors/RequestError","dojo/errors/RequestTimeoutError":"dojo/errors/RequestTimeoutError","dojo/errors/create":"dojo/errors/create","dojo/global":"dojo/global","dojo/has":"dojo/has","dojo/io-query":"dojo/io-query","dojo/json":"dojo/json","dojo/keys":"dojo/keys","dojo/mouse":"dojo/mouse","dojo/on":"dojo/on","dojo/promise/Promise":"dojo/promise/Promise","dojo/promise/all":"dojo/promise/all","dojo/request/handlers":"dojo/request/handlers","dojo/request/script":"dojo/request/script","dojo/request/util":"dojo/request/util","dojo/request/watch":"dojo/request/watch","dojo/request/xhr":"dojo/request/xhr","dojo/sniff":"dojo/sniff","dojo/topic":"dojo/topic","dojo/when":"dojo/when","dojox/cometd/AckExtension":"dojox/cometd/AckExtension","dojox/cometd/cometd":"dojox/cometd/cometd","mw-deprecation-utils/deprecation":"mw-deprecation-utils/deprecation","mw-fctrl/Features":"mw-fctrl/Features","mw-html-utils/HtmlUtils":"mw-html-utils/HtmlUtils","mw-html-utils/_parseHtml/sanitize":"mw-html-utils/_parseHtml/sanitize","mw-log/Log":"mw-log/Log","mw-log/impl/Backlog":"mw-log/impl/Backlog","mw-log/impl/Levels":"mw-log/impl/Levels","mw-log/impl/Modes":"mw-log/impl/Modes","mw-log/util/LogUtils":"mw-log/util/LogUtils","mw-messageservice/MessageService":"mw-messageservice/MessageService","mw-messageservice/messageserviceimpl/MessageServiceAsync":"mw-messageservice/messageserviceimpl/MessageServiceAsync","mw-messageservice/messageserviceimpl/MessageServiceBase":"mw-messageservice/messageserviceimpl/MessageServiceBase","mw-messageservice/messageserviceimpl/MessageServiceState":"mw-messageservice/messageserviceimpl/MessageServiceState","mw-messageservice/messageserviceimpl/createMessageServiceDefaultInstance":"mw-messageservice/messageserviceimpl/createMessageServiceDefaultInstance","mw-messageservice/messageserviceimpl/instanceEnums":"mw-messageservice/messageserviceimpl/instanceEnums","mw-messageservice/messageserviceimpl/messageServiceFactory":"mw-messageservice/messageserviceimpl/messageServiceFactory","mw-messageservice/messageserviceimpl/transportEnums":"mw-messageservice/messageserviceimpl/transportEnums","mw-mvm/CapabilitiesList":"mw-mvm/CapabilitiesList","mw-mvm/Capability":"mw-mvm/Capability","mw-mvm/RunOptions":"mw-mvm/RunOptions","mw-mvm/UserMvm":"mw-mvm/UserMvm","mw-mvm/WhenToDequeue":"mw-mvm/WhenToDequeue","mw-mvm/impl/AttachDetach":"mw-mvm/impl/AttachDetach","mw-mvm/impl/Bang":"mw-mvm/impl/Bang","mw-mvm/impl/Connection":"mw-mvm/impl/Connection","mw-mvm/impl/ConnectionData":"mw-mvm/impl/ConnectionData","mw-mvm/impl/Debugger":"mw-mvm/impl/Debugger","mw-mvm/impl/EvalFevalCancel":"mw-mvm/impl/EvalFevalCancel","mw-mvm/impl/EventManager":"mw-mvm/impl/EventManager","mw-mvm/impl/MVM":"mw-mvm/impl/MVM","mw-mvm/impl/MVMConnection":"mw-mvm/impl/MVMConnection","mw-mvm/impl/More":"mw-mvm/impl/More","mw-mvm/impl/Pause":"mw-mvm/impl/Pause","mw-mvm/impl/RuntimeException":"mw-mvm/impl/RuntimeException","mw-mvm/impl/StackFrame":"mw-mvm/impl/StackFrame","mw-remote/EndPointsManager":"mw-remote/EndPointsManager","mw-remote/Remote":"mw-remote/Remote","mw-remote/RemoteEndPointsManager":"mw-remote/RemoteEndPointsManager","mw-remote/ReplaceUploadIframe":"mw-remote/ReplaceUploadIframe","mw-remote/UploadToWorker":"mw-remote/UploadToWorker","mw-remote/defaultMessageMapping":"mw-remote/defaultMessageMapping","mw-remote/iframeproxy/CheckUrlService":"mw-remote/iframeproxy/CheckUrlService","mw-remote/iframeproxy/IframeProxyClient":"mw-remote/iframeproxy/IframeProxyClient","mw-remote/iframeproxy/IframeProxyReplace":"mw-remote/iframeproxy/IframeProxyReplace","mw-remote/impl/AutoDetectedTransaction":"mw-remote/impl/AutoDetectedTransaction","mw-remote/impl/FaultManager":"mw-remote/impl/FaultManager","mw-remote/impl/JsonTransaction":"mw-remote/impl/JsonTransaction","mw-remote/impl/RequestManager":"mw-remote/impl/RequestManager","mw-remote/impl/ResponseManager":"mw-remote/impl/ResponseManager","mw-remote/impl/Transaction":"mw-remote/impl/Transaction","mw-remote/serviceRegistryLookup":"mw-remote/serviceRegistryLookup","mw-remote/serviceRegistryLookup!":"mw-remote/serviceRegistryLookup!","mw-remote/utils/RemoteUrlUtils":"mw-remote/utils/RemoteUrlUtils","mw-remote/utils/SendMessageUtil":"mw-remote/utils/SendMessageUtil","mw-statemachine/StateMachine":"mw-statemachine/StateMachine","mw-statemachine/statemachineimpl/EventTrigger":"mw-statemachine/statemachineimpl/EventTrigger","mw-statemachine/statemachineimpl/MessageTrigger":"mw-statemachine/statemachineimpl/MessageTrigger","mw-statemachine/statemachineimpl/RemoteTrigger":"mw-statemachine/statemachineimpl/RemoteTrigger","mw-statemachine/statemachineimpl/State":"mw-statemachine/statemachineimpl/State","mw-statemachine/statemachineimpl/TimeoutTrigger":"mw-statemachine/statemachineimpl/TimeoutTrigger","mw-statemachine/statemachineimpl/Transition":"mw-statemachine/statemachineimpl/Transition","mw-statemachine/statemachineimpl/Trigger":"mw-statemachine/statemachineimpl/Trigger","mw-utils/Utils":"mw-utils/Utils","mw-utils/deprecation":"mw-utils/deprecation","richcontent_preview_plugin/_impl/RichContentPreviewPlugin":"richcontent_preview_plugin/_impl/RichContentPreviewPlugin","richcontent_preview_plugin/index":"richcontent_preview_plugin/index"},{MW_BUNDLE_CHUNK_ID:"mwBundle.richcontent_preview_plugin"})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([["mwBundle.richcontent_preview_plugin"],{0:function(b,S,e){b.exports=e},"00feeeeb8e7f06976b5e2df2628e58e82dbd1d66":function(b,S,e){var A,E;A=[],E=e.dj.d(A,function(){return function(d,v,h,c){var n,i,t;if(d.load(v,h,function(s){i=s,t=!0,n&&n(s)},{isBuild:!0}),t)return i;if(!c)throw new Error(v+" unavailable");return i=new Promise(function(s){n=s}),i.__DOJO_WEBPACK_DEFINE_PROMISE__=!0,i}},b,S),b.exports=E},"860c8bd84e18b7d8b67be9b4cb1c65024cd3b63b":function(b,S){b.exports=void 0},"dojo/Deferred":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/errors/CancelError"]),e(e.dj.r.absMids["dojo/promise/Promise"]),e(e.dj.r.absMids["860c8bd84e18b7d8b67be9b4cb1c65024cd3b63b"])],E=e.dj.d(A,function(d,v,h,c,n){"use strict";var i=0,t=1,s=2,o="This deferred has already been fulfilled.",r=Object.freeze||function(){},l=function(g,m,y,C,P){d("config-deferredInstrumentation")&&m===s&&f.instrumentRejected&&g.length===0&&f.instrumentRejected(y,!1,C,P);for(var D=0;D<g.length;D++)u(g[D],m,y,C)},u=function(g,m,y,C){var P=g[m],D=g.deferred;if(P)try{var M=P(y);if(m===i)typeof M!="undefined"&&p(D,m,M);else{if(M&&typeof M.then=="function"){g.cancel=M.cancel,M.then(a(D,t),a(D,s),a(D,i));return}p(D,t,M)}}catch(x){p(D,s,x)}else p(D,m,y);d("config-deferredInstrumentation")&&m===s&&f.instrumentRejected&&f.instrumentRejected(y,!!P,C,D.promise)},a=function(g,m){return function(y){p(g,m,y)}},p=function(g,m,y){if(!g.isCanceled())switch(m){case i:g.progress(y);break;case t:g.resolve(y);break;case s:g.reject(y);break}},f=function(g){var m=this.promise=new c,y=this,C,P,D,M=!1,x=[];d("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(y,f),Error.captureStackTrace(m,f)),this.isResolved=m.isResolved=function(){return C===t},this.isRejected=m.isRejected=function(){return C===s},this.isFulfilled=m.isFulfilled=function(){return!!C},this.isCanceled=m.isCanceled=function(){return M},this.progress=function(j,w){if(C){if(w===!0)throw new Error(o);return m}else return l(x,i,j,null,y),m},this.resolve=function(j,w){if(C){if(w===!0)throw new Error(o);return m}else return l(x,C=t,P=j,null,y),x=null,m};var R=this.reject=function(j,w){if(C){if(w===!0)throw new Error(o);return m}else return d("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(D={},R),l(x,C=s,P=j,D,y),x=null,m};this.then=m.then=function(j,w,O){var F=[O,j,w];return F.cancel=m.cancel,F.deferred=new f(function(I){return F.cancel&&F.cancel(I)}),C&&!x?u(F,C,P,D):x.push(F),F.deferred.promise},this.cancel=m.cancel=function(j,w){if(C){if(w===!0)throw new Error(o)}else{if(g){var O=g(j);j=typeof O=="undefined"?j:O}if(M=!0,C){if(C===s&&P===j)return j}else return typeof j=="undefined"&&(j=new h),R(j),j}},r(m)};return f.prototype.toString=function(){return"[object Deferred]"},n&&n(f),f},b,S),b.exports=E},"dojo/Evented":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/on"])],E=e.dj.d(A,function(d,v){"use strict";var h=d.after;function c(){}return c.prototype={on:function(n,i){return v.parse(this,n,i,function(t,s){return h(t,"on"+s,i,!0)})},emit:function(n,i){var t=[this];return t.push.apply(t,arguments),v.emit.apply(v,t)}},c},b,S),b.exports=E},"dojo/_base/Deferred":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["dojo/promise/Promise"]),e(e.dj.r.absMids["dojo/errors/CancelError"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/when"])],E=e.dj.d(A,function(d,v,h,c,n,i,t){var s=function(){},o=Object.freeze||function(){},r=d.Deferred=function(l){var u,a,p,f,g,m,y,C=this.promise=new h;function P(x){if(a)throw new Error("This deferred has already been resolved");u=x,a=!0,D()}function D(){for(var x;!x&&y;){var R=y;y=y.next,(x=R.progress==s)&&(a=!1);var j=g?R.error:R.resolved;if(n("config-useDeferredInstrumentation")&&g&&v.instrumentRejected&&v.instrumentRejected(u,!!j),j)try{var w=j(u);if(w&&typeof w.then=="function"){w.then(i.hitch(R.deferred,"resolve"),i.hitch(R.deferred,"reject"),i.hitch(R.deferred,"progress"));continue}var O=x&&w===void 0;x&&!O&&(g=w instanceof Error),R.deferred[O&&g?"reject":"resolve"](O?u:w)}catch(F){R.deferred.reject(F)}else g?R.deferred.reject(u):R.deferred.resolve(u)}}this.isResolved=C.isResolved=function(){return f==0},this.isRejected=C.isRejected=function(){return f==1},this.isFulfilled=C.isFulfilled=function(){return f>=0},this.isCanceled=C.isCanceled=function(){return p},this.resolve=this.callback=function(x){this.fired=f=0,this.results=[x,null],P(x)},this.reject=this.errback=function(x){g=!0,this.fired=f=1,n("config-useDeferredInstrumentation")&&v.instrumentRejected&&v.instrumentRejected(x,!!y),P(x),this.results=[null,x]},this.progress=function(x){for(var R=y;R;){var j=R.progress;j&&j(x),R=R.next}},this.addCallbacks=function(x,R){return this.then(x,R,s),this},C.then=this.then=function(x,R,j){var w=j==s?this:new r(C.cancel),O={resolved:x,error:R,progress:j,deferred:w};return y?m=m.next=O:y=m=O,a&&D(),w.promise};var M=this;C.cancel=this.cancel=function(){if(!a){var x=l&&l(M);a||(x instanceof Error||(x=new c(x)),x.log=!1,M.reject(x))}p=!0},o(C)};return i.extend(r,{addCallback:function(l){return this.addCallbacks(i.hitch.apply(d,arguments))},addErrback:function(l){return this.addCallbacks(null,i.hitch.apply(d,arguments))},addBoth:function(l){var u=i.hitch.apply(d,arguments);return this.addCallbacks(u,u)},fired:-1}),r.when=d.when=t,r},b,S),b.exports=E},"dojo/_base/array":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/_base/lang"])],E=e.dj.d(A,function(d,v,h){var c={},n,i;v("csp-restrictions")||(i=function(r){return c[r]=new Function("item","index","array",r)});function t(r){var l=!r;return function(u,a,p){var f=0,g=u&&u.length||0,m;if(g&&typeof u=="string"&&(u=u.split("")),typeof a=="string"){if(v("csp-restrictions"))throw new TypeError("callback must be a function");a=c[a]||i(a)}if(p){for(;f<g;++f)if(m=!a.call(p,u[f],f,u),r^m)return!m}else for(;f<g;++f)if(m=!a(u[f],f,u),r^m)return!m;return l}}function s(r){var l=1,u=0,a=0;return r||(l=u=a=-1),function(p,f,g,m){if(m&&l>0)return o.lastIndexOf(p,f,g);var y=p&&p.length||0,C=r?y+a:u,P;for(g===n?P=r?u:y+a:g<0?(P=y+g,P<0&&(P=u)):P=g>=y?y+a:g,y&&typeof p=="string"&&(p=p.split(""));P!=C;P+=l)if(p[P]==f)return P;return-1}}var o={every:t(!1),some:t(!0),indexOf:s(!0),lastIndexOf:s(!1),forEach:function(r,l,u){var a=0,p=r&&r.length||0;if(p&&typeof r=="string"&&(r=r.split("")),typeof l=="string"){if(v("csp-restrictions"))throw new TypeError("callback must be a function");l=c[l]||i(l)}if(u)for(;a<p;++a)l.call(u,r[a],a,r);else for(;a<p;++a)l(r[a],a,r)},map:function(r,l,u,a){var p=0,f=r&&r.length||0,g=new(a||Array)(f);if(f&&typeof r=="string"&&(r=r.split("")),typeof l=="string"){if(v("csp-restrictions"))throw new TypeError("callback must be a function");l=c[l]||i(l)}if(u)for(;p<f;++p)g[p]=l.call(u,r[p],p,r);else for(;p<f;++p)g[p]=l(r[p],p,r);return g},filter:function(r,l,u){var a=0,p=r&&r.length||0,f=[],g;if(p&&typeof r=="string"&&(r=r.split("")),typeof l=="string"){if(v("csp-restrictions"))throw new TypeError("callback must be a function");l=c[l]||i(l)}if(u)for(;a<p;++a)g=r[a],l.call(u,g,a,r)&&f.push(g);else for(;a<p;++a)g=r[a],l(g,a,r)&&f.push(g);return f},clearCache:function(){c={}}};return v("extend-dojo")&&h.mixin(d,o),o},b,S),b.exports=E},"dojo/_base/config":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/global"]),e(e.dj.r.absMids["dojo/has"]),e.dj.c(b.i)],E=e.dj.d(A,function(d,v,h){var c={};if(v("dojo-config-api")){var n=h.rawConfig,i;for(i in n)c[i]=n[i]}else{var t=function(o,r,l){for(i in o)i!="has"&&v.add(r+i,o[i],0,l)};c=v("dojo-loader")?h.rawConfig:d.dojoConfig||d.djConfig||{},t(c,"config",1),t(c.has,"",1)}if(c.updateLocale=function(o,r){var l,u,a="en-us";if(o.indexOf(r)>=0&&r!=="zh"){c.locale=r;return}if(l=r.split("-")[0],l==="zh"){c.locale=a.toLocaleLowerCase();return}for(var p=0;p<o.length;p=p+1)if(u=o[p].split("-")[0],l===u){c.locale=o[p];break}c.locale||(c.locale=a.toLowerCase())},!c.locale&&typeof navigator!="undefined"){var s=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage;s=c._testLanguageOverride||s,s&&(s=s.toLowerCase(),c.supportedLocales&&c.updateLocale(c.supportedLocales,s))}return c.locale||(c.locale="en-us"),c},b,S),b.exports=E},"dojo/_base/connect":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/topic"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/_base/event"]),e(e.dj.r.absMids["dojo/mouse"]),e(e.dj.r.absMids["dojo/_base/sniff"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/keys"])],E=e.dj.d(A,function(d,v,h,c,n,i,t,s){t.add("events-keypress-typed",function(){var m={charCode:0};try{m=document.createEvent("KeyboardEvent"),(m.initKeyboardEvent||m.initKeyEvent).call(m,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(y){}return m.charCode==0&&!t("opera")});function o(m,y,C,P,D){if(P=s.hitch(C,P),!m||!(m.addEventListener||m.attachEvent))return c.after(m||d.global,y,P,!0);if(typeof y=="string"&&y.substring(0,2)=="on"&&(y=y.substring(2)),m||(m=d.global),!D)switch(y){case"keypress":y=p;break;case"mouseenter":y=i.enter;break;case"mouseleave":y=i.leave;break}return v(m,y,P,D)}var r={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},l=t("mac")?"metaKey":"ctrlKey",u=function(m,y){var C=s.mixin({},m,y);return a(C),C.preventDefault=function(){m.preventDefault()},C.stopPropagation=function(){m.stopPropagation()},C};function a(m){m.keyChar=m.charCode?String.fromCharCode(m.charCode):"",m.charOrCode=m.keyChar||m.keyCode}var p;if(t("events-keypress-typed")){var f=function(m,y){try{return m.keyCode=y}catch(C){return 0}};p=function(m,y){var C=v(m,"keydown",function(D){var M=D.keyCode,x=M!=13&&M!=32&&(M!=27||!t("ie"))&&(M<48||M>90)&&(M<96||M>111)&&(M<186||M>192)&&(M<219||M>222)&&M!=229;if(x||D.ctrlKey){var R=x?0:M;if(D.ctrlKey){if(M==3||M==13)return y.call(D.currentTarget,D);R>95&&R<106?R-=48:!D.shiftKey&&R>=65&&R<=90?R+=32:R=r[R]||R}var j=u(D,{type:"keypress",faux:!0,charCode:R});y.call(D.currentTarget,j),t("ie")&&f(D,j.keyCode)}}),P=v(m,"keypress",function(D){var M=D.charCode;return M=M>=32?M:0,D=u(D,{charCode:M,faux:!0}),y.call(this,D)});return{remove:function(){C.remove(),P.remove()}}}}else t("opera")?p=function(m,y){return v(m,"keypress",function(C){var P=C.which;return P==3&&(P=99),P=P<32&&!C.shiftKey?0:P,C.ctrlKey&&!C.shiftKey&&P>=65&&P<=90&&(P+=32),y.call(this,u(C,{charCode:P}))})}:p=function(m,y){return v(m,"keypress",function(C){return a(C),y.call(this,C)})};var g={_keypress:p,connect:function(m,y,C,P,D){var M=arguments,x=[],R=0;x.push(typeof M[0]=="string"?null:M[R++],M[R++]);var j=M[R+1];x.push(typeof j=="string"||typeof j=="function"?M[R++]:null,M[R++]);for(var w=M.length;R<w;R++)x.push(M[R]);return o.apply(this,x)},disconnect:function(m){m&&m.remove()},subscribe:function(m,y,C){return h.subscribe(m,s.hitch(y,C))},publish:function(m,y){return h.publish.apply(h,[m].concat(y))},connectPublisher:function(m,y,C){var P=function(){g.publish(m,arguments)};return C?g.connect(y,C,P):g.connect(y,P)},isCopyKey:function(m){return m[l]}};return g.unsubscribe=g.disconnect,t("extend-dojo")&&s.mixin(d,g),g},b,S),b.exports=E},"dojo/_base/declare":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/_base/lang"])],E=e.dj.d(A,function(d,v,h){var c=h.mixin,n=Object.prototype,i=n.toString,t,s=0,o="constructor";v("csp-restrictions")?t=function(){}:t=new Function;function r(F,I){throw new Error("declare"+(I?" "+I:"")+": "+F)}function l(F,I){for(var N=[],U=[{cls:0,refs:[]}],K={},B=1,k=F.length,Y=0,V,H,J,_,Z,q,ee,te;Y<k;++Y){for(J=F[Y],J?i.call(J)!="[object Function]"&&r("mixin #"+Y+" is not a callable constructor.",I):r("mixin #"+Y+" is unknown. Did you use dojo.require to pull it in?",I),H=J._meta?J._meta.bases:[J],_=0,V=H.length-1;V>=0;--V)Z=H[V].prototype,Z.hasOwnProperty("declaredClass")||(Z.declaredClass="uniqName_"+s++),ee=Z.declaredClass,K.hasOwnProperty(ee)||(K[ee]={count:0,refs:[],cls:H[V]},++B),q=K[ee],_&&_!==q&&(q.refs.push(_),++_.count),_=q;++_.count,U[0].refs.push(_)}for(;U.length;){for(_=U.pop(),N.push(_.cls),--B;te=_.refs,te.length==1;){if(_=te[0],!_||--_.count){_=0;break}N.push(_.cls),--B}if(_)for(Y=0,k=te.length;Y<k;++Y)_=te[Y],--_.count||U.push(_)}return B&&r("can't build consistent linearization",I),J=F[0],N[0]=J?J._meta&&J===N[N.length-J._meta.bases.length]?J._meta.bases.length:1:0,N}function u(F,I,N,U){var K,B,k,Y,V,H,J,_,Z,q=this._inherited=this._inherited||{};if(typeof F=="string"&&(K=F,F=I,I=N,N=U),typeof F=="function")Y=F,F=I,I=N;else try{Y=F.callee}catch(ee){if(ee instanceof TypeError)r("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);else throw ee}if(K=K||Y.nom,K||r("can't deduce a name to call inherited()",this.declaredClass),N=U=0,V=this.constructor._meta,k=V.bases,Z=q.p,K!=o){if(q.c!==Y&&(Z=0,H=k[0],V=H._meta,V.hidden[K]!==Y)){B=V.chains,B&&typeof B[K]=="string"&&r("calling chained method with inherited: "+K,this.declaredClass);do if(V=H._meta,J=H.prototype,V&&(J[K]===Y&&J.hasOwnProperty(K)||V.hidden[K]===Y))break;while(H=k[++Z]);Z=H?Z:-1}if(H=k[++Z],H)if(J=H.prototype,H._meta&&J.hasOwnProperty(K))N=J[K];else{_=n[K];do if(J=H.prototype,N=J[K],N&&(H._meta?J.hasOwnProperty(K):N!==_))break;while(H=k[++Z])}N=H&&N||n[K]}else{if(q.c!==Y&&(Z=0,V=k[0]._meta,V&&V.ctor!==Y)){for(B=V.chains,(!B||B.constructor!=="manual")&&r("calling chained constructor with inherited",this.declaredClass);(H=k[++Z])&&(V=H._meta,!(V&&V.ctor===Y)););Z=H?Z:-1}for(;(H=k[++Z])&&(V=H._meta,N=V?V.ctor:H,!N););N=H&&N}if(q.c=N,q.p=Z,N)return I===!0?N:N.apply(this,I||F)}function a(F,I,N){return typeof F=="string"?typeof I=="function"?this.__inherited(F,I,N,!0):this.__inherited(F,I,!0):typeof F=="function"?this.__inherited(F,I,!0):this.__inherited(F,!0)}function p(F,I,N,U){var K=this.getInherited(F,I,N);if(K)return K.apply(this,U||N||I||F)}var f=d.config.isDebug?p:u;function g(F){for(var I=this.constructor._meta.bases,N=0,U=I.length;N<U;++N)if(I[N]===F)return!0;return this instanceof F}function m(F,I){for(var N in I)N!=o&&I.hasOwnProperty(N)&&(F[N]=I[N]);if(v("bug-for-in-skips-shadowed"))for(var U=h._extraNames,K=U.length;K;)N=U[--K],N!=o&&I.hasOwnProperty(N)&&(F[N]=I[N])}function y(F,I){var N,U;for(N in I)U=I[N],(U!==n[N]||!(N in n))&&N!=o&&(i.call(U)=="[object Function]"&&(U.nom=N),F[N]=U);if(v("bug-for-in-skips-shadowed")&&I)for(var K=h._extraNames,B=K.length;B;)N=K[--B],U=I[N],(U!==n[N]||!(N in n))&&N!=o&&(i.call(U)=="[object Function]"&&(U.nom=N),F[N]=U);return F}function C(F){return O.safeMixin(this.prototype,F),this}function P(F,I){return F instanceof Array||typeof F=="function"||(I=F,F=void 0),I=I||{},F=F||[],O([this].concat(F),I)}function D(F,I){return function(){var N=arguments,U=N,K=N[0],B,k,Y,V=F.length,H;if(!(this instanceof N.callee))return w(N);if(I&&(K&&K.preamble||this.preamble))for(H=new Array(F.length),H[0]=N,k=0;K=N[0],K&&(B=K.preamble,B&&(N=B.apply(this,N)||N)),B=F[k].prototype,B=B.hasOwnProperty("preamble")&&B.preamble,B&&(N=B.apply(this,N)||N),++k!=V;)H[k]=N;for(k=V-1;k>=0;--k)B=F[k],Y=B._meta,B=Y?Y.ctor:B,B&&B.apply(this,H?H[k]:N);B=this.postscript,B&&B.apply(this,U)}}function M(F,I){return function(){var N=arguments,U=N,K=N[0],B;if(!(this instanceof N.callee))return w(N);I&&(K&&(B=K.preamble,B&&(U=B.apply(this,U)||U)),B=this.preamble,B&&B.apply(this,U)),F&&F.apply(this,N),B=this.postscript,B&&B.apply(this,N)}}function x(F){return function(){var I=arguments,N=0,U,K;if(!(this instanceof I.callee))return w(I);for(;U=F[N];++N)if(K=U._meta,U=K?K.ctor:U,U){U.apply(this,I);break}U=this.postscript,U&&U.apply(this,I)}}function R(F,I,N){return function(){var U,K,B,k=0,Y=1;for(N&&(k=I.length-1,Y=-1);U=I[k];k+=Y)K=U._meta,B=(K?K.hidden:U.prototype)[F],B&&B.apply(this,arguments)}}function j(F){t.prototype=F.prototype;var I=new t;return t.prototype=null,I}function w(F){var I=F.callee,N=j(I);return I.apply(N,F),N}function O(F,I,N){typeof F!="string"&&(N=I,I=F,F=""),N=N||{};var U,K,B,k,Y,V,H,J=1,_=I;if(i.call(I)=="[object Array]"?(V=l(I,F),B=V[0],J=V.length-B,I=V[J]):(V=[0],I?i.call(I)=="[object Function]"?(B=I._meta,V=V.concat(B?B.bases:I)):r("base class is not a callable constructor.",F):I!==null&&r("unknown base class. Did you use dojo.require to pull it in?",F)),I)for(K=J-1;U=j(I),!!K;--K)B=V[K],(B._meta?m:c)(U,B.prototype),v("csp-restrictions")?k=function(){}:k=new Function,k.superclass=I,k.prototype=U,I=U.constructor=k;else U={};for(O.safeMixin(U,N),B=N.constructor,B!==n.constructor&&(B.nom=o,U.constructor=B),K=J-1;K;--K)B=V[K]._meta,B&&B.chains&&(H=c(H||{},B.chains));if(U["-chains-"]&&(H=c(H||{},U["-chains-"])),I&&I.prototype&&I.prototype["-chains-"]&&(H=c(H||{},I.prototype["-chains-"])),B=!H||!H.hasOwnProperty(o),V[0]=k=H&&H.constructor==="manual"?x(V):V.length==1?M(N.constructor,B):D(V,B),k._meta={bases:V,hidden:N,chains:H,parents:_,ctor:N.constructor},k.superclass=I&&I.prototype,k.extend=C,k.createSubclass=P,k.prototype=U,U.constructor=k,U.getInherited=a,U.isInstanceOf=g,U.inherited=f,U.__inherited=u,F&&(U.declaredClass=F,h.setObject(F,k)),H)for(Y in H)U[Y]&&typeof H[Y]=="string"&&Y!=o&&(B=U[Y]=R(Y,V,H[Y]==="after"),B.nom=Y);return k}return d.safeMixin=O.safeMixin=y,d.declare=O,O},b,S),b.exports=E},"dojo/_base/event":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/dom-geometry"])],E=e.dj.d(A,function(d,v,h,c){if(v._fixEvent){var n=v._fixEvent;v._fixEvent=function(t,s){return t=n(t,s),t&&c.normalizeEvent(t),t}}var i={fix:function(t,s){return v._fixEvent?v._fixEvent(t,s):t},stop:function(t){h("dom-addeventlistener")||t&&t.preventDefault?(t.preventDefault(),t.stopPropagation()):(t=t||window.event,t.cancelBubble=!0,v._preventDefault.call(t))}};return h("extend-dojo")&&(d.fixEvent=i.fix,d.stopEvent=i.stop),i},b,S),b.exports=E},"dojo/_base/json":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/kernel"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/json"])],__WEBPACK_AMD_DEFINE_RESULT__=__webpack_require__.dj.d(__WEBPACK_AMD_DEFINE_ARRAY__,function(dojo,json){return dojo.fromJson=function(js){return eval("("+js+")")},dojo._escapeString=json.stringify,dojo.toJsonIndentStr="	",dojo.toJson=function(b,S){return json.stringify(b,function(e,A){if(A){var E=A.__json__||A.json;if(typeof E=="function")return E.call(A)}return A},S&&dojo.toJsonIndentStr)},dojo},module,exports),module.exports=__WEBPACK_AMD_DEFINE_RESULT__},"dojo/_base/kernel":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/global"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/_base/config"]),e.dj.c(b.i),e.dj.m(b)],E=e.dj.d(A,function(d,v,h,c,n){var i,t,s={},o={},r={config:h,global:d,dijit:s,dojox:o},l={dojo:["dojo",r],dijit:["dijit",s],dojox:["dojox",o]},u=c.map&&c.map[n.id.match(/[^\/]+/)[0]],a;for(t in u)l[t]?l[t][0]=u[t]:l[t]=[u[t],{}];for(t in l)a=l[t],a[1]._scopeName=a[0],h.noGlobals||(d[a[0]]=a[1]);r.scopeMap=l,r.baseUrl=r.config.baseUrl=c.baseUrl,r.isAsync=!v("dojo-loader")||c.async,r.locale=h.locale;var p="$Rev:$".match(/[0-9a-f]{7,}/);if(r.version={major:1,minor:17,patch:1,flag:"",revision:p?p[0]:NaN,toString:function(){var y=r.version;return y.major+"."+y.minor+"."+y.patch+y.flag+" ("+y.revision+")"}},v.add("extend-dojo",1),v("csp-restrictions")||Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(r),v("host-rhino")?r.exit=function(y){quit(y)}:r.exit=function(){},v("host-webworker")||v.add("dojo-guarantee-console",1),v("dojo-guarantee-console")){v.add("console-as-object",function(){return Function.prototype.bind&&console&&typeof console.log=="object"}),typeof console!="undefined"||(console={});var f=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"],g;for(i=0;g=f[i++];)console[g]?v("console-as-object")&&(console[g]=Function.prototype.bind.call(console[g],console)):function(){var y=g+"";console[y]="log"in console?function(){var C=Array.prototype.slice.call(arguments);C.unshift(y+":"),console.log(C.join(" "))}:function(){},console[y]._fake=!0}()}if(v.add("dojo-debug-messages",!!h.isDebug),r.deprecated=r.experimental=function(){},v("dojo-debug-messages")&&(r.deprecated=function(y,C,P){var D="DEPRECATED: "+y;C&&(D+=" "+C),P&&(D+=" -- will be removed in version: "+P),console.warn(D)},r.experimental=function(y,C){var P="EXPERIMENTAL: "+y+" -- APIs subject to change without notice.";C&&(P+=" "+C),console.warn(P)}),v.add("dojo-modulePaths",1),v("dojo-modulePaths")&&h.modulePaths){r.deprecated("dojo.modulePaths","use paths configuration");var m={};for(t in h.modulePaths)m[t.replace(/\./g,"/")]=h.modulePaths[t];c({paths:m})}return v.add("dojo-moduleUrl",1),v("dojo-moduleUrl")&&(r.moduleUrl=function(y,C){r.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var P=null;return y&&(P=c.toUrl(y.replace(/\./g,"/")+(C?"/"+C:"")+"/*.*").replace(/\/\*\.\*/,"")+(C?"":"/")),P}),r._hasResource={},r},b,S),b.exports=E},"dojo/_base/lang":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/sniff"])],E=e.dj.d(A,function(d,v){v.add("bug-for-in-skips-shadowed",function(){for(var r in{toString:1})return 0;return 1});var h=v("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],c=h.length,n=function(r,l,u){u||(r[0]&&d.scopeMap[r[0]]?u=d.scopeMap[r.shift()][1]:u=d.global);try{for(var a=0;a<r.length;a++){var p=r[a];if(p==="__proto__"||p==="constructor")return;if(!(p in u))if(l)u[p]={};else return;u=u[p]}return u}catch(f){}},i=Object.prototype.toString,t=function(r,l,u){return(u||[]).concat(Array.prototype.slice.call(r,l||0))},s=/\{([^\}]+)\}/g,o={_extraNames:h,_mixin:function(r,l,u){var a,p,f,g={};for(a in l)p=l[a],(!(a in r)||r[a]!==p&&(!(a in g)||g[a]!==p))&&(r[a]=u?u(p):p);if(v("bug-for-in-skips-shadowed")&&l)for(f=0;f<c;++f)a=h[f],p=l[a],(!(a in r)||r[a]!==p&&(!(a in g)||g[a]!==p))&&(r[a]=u?u(p):p);return r},mixin:function(r,l){r||(r={});for(var u=1,a=arguments.length;u<a;u++)o._mixin(r,arguments[u]);return r},setObject:function(r,l,u){var a=r.split("."),p=a.pop(),f=n(a,!0,u);return f&&p?f[p]=l:void 0},getObject:function(r,l,u){return r?n(r.split("."),l,u):u},exists:function(r,l){return o.getObject(r,!1,l)!==void 0},isString:function(r){return typeof r=="string"||r instanceof String},isArray:Array.isArray||function(r){return i.call(r)=="[object Array]"},isFunction:function(r){return i.call(r)==="[object Function]"},isObject:function(r){return r!==void 0&&(r===null||typeof r=="object"||o.isArray(r)||o.isFunction(r))},isArrayLike:function(r){return!!r&&!o.isString(r)&&!o.isFunction(r)&&!(r.tagName&&r.tagName.toLowerCase()=="form")&&(o.isArray(r)||isFinite(r.length))},isAlien:function(r){return r&&!o.isFunction(r)&&/\{\s*\[native code\]\s*\}/.test(String(r))},extend:function(r,l){for(var u=1,a=arguments.length;u<a;u++)o._mixin(r.prototype,arguments[u]);return r},_hitchArgs:function(r,l){var u=o._toArray(arguments,2),a=o.isString(l);return function(){var p=o._toArray(arguments),f=a?(r||d.global)[l]:l;return f&&f.apply(r||this,u.concat(p))}},hitch:function(r,l){if(arguments.length>2)return o._hitchArgs.apply(d,arguments);if(l||(l=r,r=null),o.isString(l)){if(r=r||d.global,!r[l])throw['lang.hitch: scope["',l,'"] is null (scope="',r,'")'].join("");return function(){return r[l].apply(r,arguments||[])}}return r?function(){return l.apply(r,arguments||[])}:l},delegate:function(){function r(){}return function(l,u){r.prototype=l;var a=new r;return r.prototype=null,u&&o._mixin(a,u),a}}(),_toArray:v("ie")?function(){function r(l,u,a){for(var p=a||[],f=u||0;f<l.length;f++)p.push(l[f]);return p}return function(l){return(l.item?r:t).apply(this,arguments)}}():t,partial:function(r){var l=[null];return o.hitch.apply(d,l.concat(o._toArray(arguments)))},clone:function(r){if(!r||typeof r!="object"||o.isFunction(r))return r;if(r.nodeType&&"cloneNode"in r)return r.cloneNode(!0);if(r instanceof Date)return new Date(r.getTime());if(r instanceof RegExp)return new RegExp(r);var l,u,a;if(o.isArray(r))for(l=[],u=0,a=r.length;u<a;++u)u in r&&(l[u]=o.clone(r[u]));else l=r.constructor?new r.constructor:{};return o._mixin(l,r,o.clone)},trim:String.prototype.trim?function(r){return r.trim()}:function(r){return r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(r,l,u){return r.replace(u||s,o.isFunction(l)?l:function(a,p){return o.getObject(p,!1,l)})}};return v("extend-dojo")&&o.mixin(d,o),o},b,S),b.exports=E},"dojo/_base/sniff":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/sniff"])],E=e.dj.d(A,function(d,v,h){return h("host-browser")&&(d._name="browser",v.mixin(d,{isBrowser:!0,isFF:h("ff"),isIE:h("ie"),isKhtml:h("khtml"),isWebKit:h("webkit"),isMozilla:h("mozilla"),isMoz:h("mozilla"),isOpera:h("opera"),isSafari:h("safari"),isChrome:h("chrome"),isMac:h("mac"),isIos:h("ios"),isAndroid:h("android"),isWii:h("wii"),isQuirks:h("quirks"),isAir:h("air")})),h},b,S),b.exports=E},"dojo/_base/window":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/sniff"])],E=e.dj.d(A,function(d,v,h){var c={global:d.global,doc:d.global.document||null,body:function(n){return n=n||d.doc,n.body||n.getElementsByTagName("body")[0]},setContext:function(n,i){d.global=c.global=n,d.doc=c.doc=i},withGlobal:function(n,i,t,s){var o=d.global;try{return d.global=c.global=n,c.withDoc.call(null,n.document,i,t,s)}finally{d.global=c.global=o}},withDoc:function(n,i,t,s){var o=c.doc,r=h("quirks"),l=h("ie"),u,a,p;try{return d.doc=c.doc=n,d.isQuirks=h.add("quirks",d.doc.compatMode=="BackCompat",!0,!0),h("ie")&&(p=n.parentWindow)&&p.navigator&&(u=parseFloat(p.navigator.appVersion.split("MSIE ")[1])||void 0,a=n.documentMode,a&&a!=5&&Math.floor(u)!=a&&(u=a),d.isIE=h.add("ie",u,!0,!0)),t&&typeof i=="string"&&(i=t[i]),i.apply(t,s||[])}finally{d.doc=c.doc=o,d.isQuirks=h.add("quirks",r,!0,!0),d.isIE=h.add("ie",l,!0,!0)}}};return h("extend-dojo")&&v.mixin(d,c),c},b,S),b.exports=E},"dojo/_base/xhr":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/_base/sniff"]),e.dj.c(b.i),e(e.dj.r.absMids["dojo/io-query"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/dom-form"]),e(e.dj.r.absMids["dojo/_base/Deferred"]),e(e.dj.r.absMids["dojo/_base/config"]),e(e.dj.r.absMids["dojo/_base/json"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/request/watch"]),e(e.dj.r.absMids["dojo/request/xhr"]),e(e.dj.r.absMids["dojo/request/util"])],E=e.dj.d(A,function(d,v,h,c,n,i,t,s,o,r,l,u,a,p,f,g){d._xhrObj=f._create;var m=d.config;d.objectToQuery=c.objectToQuery,d.queryToObject=c.queryToObject,d.fieldToObject=i.fieldToObject,d.formToObject=i.toObject,d.formToQuery=i.toQuery,d.formToJson=i.toJson,d._blockAsync=!1;var y=d._contentHandlers=d.contentHandlers={text:function(R){return R.responseText},json:function(R){return o.fromJson(R.responseText||null)},"json-comment-filtered":function(R){s.useCommentedJson||console.warn(`Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&
Use djConfig.useCommentedJson=true to turn off this message.`);var j=R.responseText,w=j.indexOf("/*"),O=j.lastIndexOf("*/");if(w==-1||O==-1)throw new Error("JSON was not comment filtered");return o.fromJson(j.substring(w+2,O))},javascript:function(R){return d.eval(R.responseText)},xml:function(R){var j=R.responseXML;if(j&&v("dom-qsa2.1")&&!j.querySelectorAll&&v("dom-parser")&&(j=new DOMParser().parseFromString(R.responseText,"application/xml")),v("ie")&&(!j||!j.documentElement)){var w=function(F){return"MSXML"+F+".DOMDocument"},O=["Microsoft.XMLDOM",w(6),w(4),w(3),w(2)];l.some(O,function(F){try{var I=new ActiveXObject(F);I.async=!1,I.loadXML(R.responseText),j=I}catch(N){return!1}return!0})}return j},"json-comment-optional":function(R){return R.responseText&&/^[^{\[]*\/\*/.test(R.responseText)?y["json-comment-filtered"](R):y.json(R)}};d._ioSetArgs=function(R,j,w,O){var F={args:R,url:R.url},I=null;if(R.form){var N=n.byId(R.form),U=N.getAttributeNode("action");F.url=F.url||(U?U.value:d.doc?d.doc.URL:null),I=i.toObject(N)}var K={};I&&r.mixin(K,I),R.content&&r.mixin(K,R.content),R.preventCache&&(K["dojo.preventCache"]=new Date().valueOf()),F.query=c.objectToQuery(K),F.handleAs=R.handleAs||"text";var B=new t(function(H){H.canceled=!0,j&&j(H);var J=H.ioArgs.error;return J||(J=new Error("request cancelled"),J.dojoType="cancel",H.ioArgs.error=J),J});B.addCallback(w);var k=R.load;k&&r.isFunction(k)&&B.addCallback(function(H){return k.call(R,H,F)});var Y=R.error;Y&&r.isFunction(Y)&&B.addErrback(function(H){return Y.call(R,H,F)});var V=R.handle;return V&&r.isFunction(V)&&B.addBoth(function(H){return V.call(R,H,F)}),B.addErrback(function(H){return O(H,B)}),m.ioPublish&&d.publish&&F.args.ioPublish!==!1&&(B.addCallbacks(function(H){return d.publish("/dojo/io/load",[B,H]),H},function(H){return d.publish("/dojo/io/error",[B,H]),H}),B.addBoth(function(H){return d.publish("/dojo/io/done",[B,H]),H})),B.ioArgs=F,B};var C=function(R){var j=y[R.ioArgs.handleAs](R.ioArgs.xhr);return j===void 0?null:j},P=function(R,j){return j.ioArgs.args.failOk||console.error(R),R},D=function(R){M<=0&&(M=0,m.ioPublish&&d.publish&&(!R||R&&R.ioArgs.args.ioPublish!==!1)&&d.publish("/dojo/io/stop"))},M=0;a.after(p,"_onAction",function(){M-=1}),a.after(p,"_onInFlight",D),d._ioCancelAll=p.cancelAll,d._ioNotifyStart=function(R){m.ioPublish&&d.publish&&R.ioArgs.args.ioPublish!==!1&&(M||d.publish("/dojo/io/start"),M+=1,d.publish("/dojo/io/send",[R]))},d._ioWatch=function(R,j,w,O){var F=R.ioArgs.options=R.ioArgs.args;r.mixin(R,{response:R.ioArgs,isValid:function(I){return j(R)},isReady:function(I){return w(R)},handleResponse:function(I){return O(R)}}),p(R),D(R)};var x="application/x-www-form-urlencoded";return d._ioAddQueryToUrl=function(R){R.query.length&&(R.url+=(R.url.indexOf("?")==-1?"?":"&")+R.query,R.query=null)},d.xhr=function(R,j,w){var O,F=d._ioSetArgs(j,function(U){O&&O.cancel()},C,P),I=F.ioArgs;"postData"in j?I.query=j.postData:"putData"in j?I.query=j.putData:"rawBody"in j?I.query=j.rawBody:(arguments.length>2&&!w||"POST|PUT".indexOf(R.toUpperCase())===-1)&&d._ioAddQueryToUrl(I);var N={method:R,handleAs:"text",timeout:j.timeout,withCredentials:j.withCredentials,ioArgs:I};typeof j.headers!="undefined"&&(N.headers=j.headers),typeof j.contentType!="undefined"&&(N.headers||(N.headers={}),N.headers["Content-Type"]=j.contentType),typeof I.query!="undefined"&&(N.data=I.query),typeof j.sync!="undefined"&&(N.sync=j.sync),d._ioNotifyStart(F);try{O=f(I.url,N,!0)}catch(U){return F.cancel(),F}return F.ioArgs.xhr=O.response.xhr,O.then(function(){F.resolve(F)}).otherwise(function(U){I.error=U,U.response&&(U.status=U.response.status,U.responseText=U.response.text,U.xhr=U.response.xhr),F.reject(U)}),F},d.xhrGet=function(R){return d.xhr("GET",R)},d.rawXhrPost=d.xhrPost=function(R){return d.xhr("POST",R,!0)},d.rawXhrPut=d.xhrPut=function(R){return d.xhr("PUT",R,!0)},d.xhrDelete=function(R){return d.xhr("DELETE",R)},d._isDocumentOk=function(R){return g.checkStatus(R.status)},d._getText=function(R){var j;return d.xhrGet({url:R,sync:!0,load:function(w){j=w}}),j},r.mixin(d.xhr,{_xhrObj:d._xhrObj,fieldToObject:i.fieldToObject,formToObject:i.toObject,objectToQuery:c.objectToQuery,formToQuery:i.toQuery,formToJson:i.toJson,queryToObject:c.queryToObject,contentHandlers:y,_ioSetArgs:d._ioSetArgs,_ioCancelAll:d._ioCancelAll,_ioNotifyStart:d._ioNotifyStart,_ioWatch:d._ioWatch,_ioAddQueryToUrl:d._ioAddQueryToUrl,_isDocumentOk:d._isDocumentOk,_getText:d._getText,get:d.xhrGet,post:d.xhrPost,put:d.xhrPut,del:d.xhrDelete}),d.xhr},b,S),b.exports=E},"dojo/aspect":function(b,S,e){var A,E;A=[],E=e.dj.d(A,function(){"use strict";var d;function v(t,s,o,r){var l=t[s],u=s=="around",a;if(u){var p=o(function(){return l.advice(this,arguments)});a={remove:function(){p&&(p=t=o=null)},advice:function(f,g){return p?p.apply(f,g):l.advice(f,g)}}}else a={remove:function(){if(a.advice){var f=a.previous,g=a.next;!g&&!f?delete t[s]:(f?f.next=g:t[s]=g,g&&(g.previous=f)),t=o=a.advice=null}},id:t.nextId++,advice:o,receiveArguments:r};if(l&&!u)if(s=="after"){for(;l.next&&(l=l.next););l.next=a,a.previous=l}else s=="before"&&(t[s]=a,a.next=l,l.previous=a);else t[s]=a;return a}function h(t){return function(s,o,r,l){var u=s[o],a;(!u||u.target!=s)&&(s[o]=a=function(){for(var f=a.nextId,g=arguments,m=a.before;m;)m.advice&&(g=m.advice.apply(this,g)||g),m=m.next;if(a.around)var y=a.around.advice(this,g);for(var C=a.after;C&&C.id<f;){if(C.advice)if(C.receiveArguments){var P=C.advice.apply(this,g);y=P===d?y:P}else y=C.advice.call(this,y,g);C=C.next}return y},u&&(a.around={advice:function(f,g){return u.apply(f,g)}}),a.target=s,a.nextId=a.nextId||0);var p=v(a||u,t,r,l);return r=null,p}}var c=h("after"),n=h("before"),i=h("around");return{before:n,around:i,after:c}},b,S),b.exports=E},"dojo/dom":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/_base/window"]),e(e.dj.r.absMids["dojo/_base/kernel"])],E=e.dj.d(A,function(d,v,h){if(d("ie")<=7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(t){}var c={};d("ie")?c.byId=function(t,s){if(typeof t!="string")return t||null;var o=s||v.doc,r=t&&o.getElementById(t);if(r&&(r.attributes.id.value==t||r.id==t))return r;var l=o.all[t];(!l||l.nodeName)&&(l=[l]);for(var u=0;r=l[u++];)if(r.attributes&&r.attributes.id&&r.attributes.id.value==t||r.id==t)return r;return null}:c.byId=function(t,s){return(typeof t=="string"?(s||v.doc).getElementById(t):t)||null};var n=h.global.document||null;d.add("dom-contains",!!(n&&n.contains)),c.isDescendant=function(t,s){try{for(t=c.byId(t),s=c.byId(s);t;){if(t==s)return!0;t=t.parentNode}}catch(o){}return!1},d.add("css-user-select",function(t,s,o){if(!o)return!1;var r=o.style,l=["Khtml","O","Moz","Webkit"],u=l.length,a="userSelect",p;do if(typeof r[a]!="undefined")return a;while(u--&&(a=l[u]+"UserSelect"));return!1});var i=d("css-user-select");return c.setSelectable=i?function(t,s){c.byId(t).style[i]=s?"":"none"}:function(t,s){t=c.byId(t);var o=t.getElementsByTagName("*"),r=o.length;if(s)for(t.removeAttribute("unselectable");r--;)o[r].removeAttribute("unselectable");else for(t.setAttribute("unselectable","on");r--;)o[r].setAttribute("unselectable","on")},c},b,S),b.exports=E},"dojo/dom-attr":function(b,S,e){var A,E;A=[S,e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/dom-style"]),e(e.dj.r.absMids["dojo/dom-prop"])],E=e.dj.d(A,function(d,v,h,c,n,i){var t={innerHTML:1,textContent:1,className:1,htmlFor:v("ie")?1:0,value:1},s={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};function o(r,l){var u=r.getAttributeNode&&r.getAttributeNode(l);return!!u&&u.specified}d.has=function(l,u){var a=u.toLowerCase();return!!t[i.names[a]||u]||o(c.byId(l),s[a]||u)},d.get=function(l,u){l=c.byId(l);var a=u.toLowerCase(),p=i.names[a]||u,f=t[p],g=l[p];if(f&&typeof g!="undefined")return g;if(p=="textContent")return i.get(l,p);if(p!="href"&&(typeof g=="boolean"||h.isFunction(g)))return g;var m=s[a]||u;return o(l,m)?l.getAttribute(m):null},d.set=function(l,u,a){if(l=c.byId(l),arguments.length==2){for(var p in u)d.set(l,p,u[p]);return l}var f=u.toLowerCase(),g=i.names[f]||u,m=t[g];return g=="style"&&typeof a!="string"?(n.set(l,a),l):m||typeof a=="boolean"||h.isFunction(a)?i.set(l,u,a):(l.setAttribute(s[f]||u,a),l)},d.remove=function(l,u){c.byId(l).removeAttribute(s[u.toLowerCase()]||u)},d.getNodeProp=function(l,u){l=c.byId(l);var a=u.toLowerCase(),p=i.names[a]||u;if(p in l&&p!="href")return l[p];var f=s[a]||u;return o(l,f)?l.getAttribute(f):null}},b,S),b.exports=E},"dojo/dom-construct":function(b,S,e){var A,E;A=[S,e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/_base/window"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/dom-attr"])],E=e.dj.d(A,function(d,v,h,c,n,i){var t={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},s=/<\s*([\w\:]+)/,o={},r=0,l="__"+v._scopeName+"ToDomId";for(var u in t)if(t.hasOwnProperty(u)){var a=t[u];a.pre=u=="option"?'<select multiple="multiple">':"<"+a.join("><")+">",a.post="</"+a.reverse().join("></")+">"}var p;h("ie")<=8&&(p=function(D){D.__dojo_html5_tested="yes";var M=m("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},D.body);M.childNodes.length!==1&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(x){D.createElement(x)}),P(M)});function f(D,M){var x=M.parentNode;x&&x.insertBefore(D,M)}function g(D,M){var x=M.parentNode;x&&(x.lastChild==M?x.appendChild(D):x.insertBefore(D,M.nextSibling))}d.toDom=function(M,x){x=x||c.doc;var R=x[l];R||(x[l]=R=++r+"",o[R]=x.createElement("div")),h("ie")<=8&&!x.__dojo_html5_tested&&x.body&&p(x),M+="";var j=M.match(s),w=j?j[1].toLowerCase():"",O=o[R],F,I,N,U;if(j&&t[w])for(F=t[w],O.innerHTML=F.pre+M+F.post,I=F.length;I;--I)O=O.firstChild;else O.innerHTML=M;if(O.childNodes.length==1)return O.removeChild(O.firstChild);for(U=x.createDocumentFragment();N=O.firstChild;)U.appendChild(N);return U},d.place=function(M,x,R){if(x=n.byId(x),typeof M=="string"&&(M=/^\s*</.test(M)?d.toDom(M,x.ownerDocument):n.byId(M)),typeof R=="number"){var j=x.childNodes;!j.length||j.length<=R?x.appendChild(M):f(M,j[R<0?0:R])}else switch(R){case"before":f(M,x);break;case"after":g(M,x);break;case"replace":x.parentNode.replaceChild(M,x);break;case"only":d.empty(x),x.appendChild(M);break;case"first":if(x.firstChild){f(M,x.firstChild);break}default:x.appendChild(M)}return M};var m=d.create=function(M,x,R,j){var w=c.doc;return R&&(R=n.byId(R),w=R.ownerDocument),typeof M=="string"&&(M=w.createElement(M)),x&&i.set(M,x),R&&d.place(M,R,j),M};function y(D){if("innerHTML"in D)try{D.innerHTML="";return}catch(x){}for(var M;M=D.lastChild;)D.removeChild(M)}d.empty=function(M){y(n.byId(M))};function C(D,M){D.firstChild&&y(D),M&&(h("ie")&&M.canHaveChildren&&"removeNode"in D?D.removeNode(!1):M.removeChild(D))}var P=d.destroy=function(M){M=n.byId(M),!!M&&C(M,M.parentNode)}},b,S),b.exports=E},"dojo/dom-form":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/io-query"]),e(e.dj.r.absMids["dojo/json"])],E=e.dj.d(A,function(d,v,h,c){function n(s,o,r){if(r!==null){var l=s[o];typeof l=="string"?s[o]=[l,r]:d.isArray(l)?l.push(r):s[o]=r}}var i="file|submit|image|reset|button",t={fieldToObject:function(o){var r=null;if(o=v.byId(o),o){var l=o.name,u=(o.type||"").toLowerCase();if(l&&u&&!o.disabled)if(u=="radio"||u=="checkbox")o.checked&&(r=o.value);else if(o.multiple){r=[];for(var a=[o.firstChild];a.length;)for(var p=a.pop();p;p=p.nextSibling)if(p.nodeType==1&&p.tagName.toLowerCase()=="option")p.selected&&r.push(p.value);else{p.nextSibling&&a.push(p.nextSibling),p.firstChild&&a.push(p.firstChild);break}}else r=o.value}return r},toObject:function(o){for(var r={},l=v.byId(o).elements,u=0,a=l.length;u<a;++u){var p=l[u],f=p.name,g=(p.type||"").toLowerCase();f&&g&&i.indexOf(g)<0&&!p.disabled&&(n(r,f,t.fieldToObject(p)),g=="image"&&(r[f+".x"]=r[f+".y"]=r[f].x=r[f].y=0))}return r},toQuery:function(o){return h.objectToQuery(t.toObject(o))},toJson:function(o,r){return c.stringify(t.toObject(o),null,r?4:0)}};return t},b,S),b.exports=E},"dojo/dom-geometry":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/_base/window"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/dom-style"])],E=e.dj.d(A,function(d,v,h,c){var n={};n.boxModel="content-box",d("ie")&&(n.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box"),n.getPadExtents=function(a,p){a=h.byId(a);var f=p||c.getComputedStyle(a),g=c.toPixelValue,m=g(a,f.paddingLeft),y=g(a,f.paddingTop),C=g(a,f.paddingRight),P=g(a,f.paddingBottom);return{l:m,t:y,r:C,b:P,w:m+C,h:y+P}};var i="none";n.getBorderExtents=function(a,p){a=h.byId(a);var f=c.toPixelValue,g=p||c.getComputedStyle(a),m=g.borderLeftStyle!=i?f(a,g.borderLeftWidth):0,y=g.borderTopStyle!=i?f(a,g.borderTopWidth):0,C=g.borderRightStyle!=i?f(a,g.borderRightWidth):0,P=g.borderBottomStyle!=i?f(a,g.borderBottomWidth):0;return{l:m,t:y,r:C,b:P,w:m+C,h:y+P}},n.getPadBorderExtents=function(a,p){a=h.byId(a);var f=p||c.getComputedStyle(a),g=n.getPadExtents(a,f),m=n.getBorderExtents(a,f);return{l:g.l+m.l,t:g.t+m.t,r:g.r+m.r,b:g.b+m.b,w:g.w+m.w,h:g.h+m.h}},n.getMarginExtents=function(a,p){a=h.byId(a);var f=p||c.getComputedStyle(a),g=c.toPixelValue,m=g(a,f.marginLeft),y=g(a,f.marginTop),C=g(a,f.marginRight),P=g(a,f.marginBottom);return{l:m,t:y,r:C,b:P,w:m+C,h:y+P}},n.getMarginBox=function(a,p){a=h.byId(a);var f=p||c.getComputedStyle(a),g=n.getMarginExtents(a,f),m=a.offsetLeft-g.l,y=a.offsetTop-g.t,C=a.parentNode,P=c.toPixelValue,D;if(d("mozilla")){var M=parseFloat(f.left),x=parseFloat(f.top);!isNaN(M)&&!isNaN(x)?(m=M,y=x):C&&C.style&&(D=c.getComputedStyle(C),D.overflow!="visible"&&(m+=D.borderLeftStyle!=i?P(a,D.borderLeftWidth):0,y+=D.borderTopStyle!=i?P(a,D.borderTopWidth):0))}else(d("opera")||d("ie")==8&&!d("quirks"))&&C&&(D=c.getComputedStyle(C),m-=D.borderLeftStyle!=i?P(a,D.borderLeftWidth):0,y-=D.borderTopStyle!=i?P(a,D.borderTopWidth):0);return{l:m,t:y,w:a.offsetWidth+g.w,h:a.offsetHeight+g.h}},n.getContentBox=function(a,p){a=h.byId(a);var f=p||c.getComputedStyle(a),g=a.clientWidth,m,y=n.getPadExtents(a,f),C=n.getBorderExtents(a,f);return g?(m=a.clientHeight,C.w=C.h=0):(g=a.offsetWidth,m=a.offsetHeight),d("opera")&&(y.l+=C.l,y.t+=C.t),{l:y.l,t:y.t,w:g-y.w-C.w,h:m-y.h-C.h}};function t(u,a,p,f,g,m){m=m||"px";var y=u.style;isNaN(a)||(y.left=a+m),isNaN(p)||(y.top=p+m),f>=0&&(y.width=f+m),g>=0&&(y.height=g+m)}function s(u){return u.tagName.toLowerCase()=="button"||u.tagName.toLowerCase()=="input"&&(u.getAttribute("type")||"").toLowerCase()=="button"}function o(u){return n.boxModel=="border-box"||u.tagName.toLowerCase()=="table"||s(u)}function r(u){var a={x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0},p;try{p=u.getBoundingClientRect()}catch(f){return a}return typeof p.left=="undefined"?a:p}n.setContentSize=function(a,p,f){a=h.byId(a);var g=p.w,m=p.h;if(o(a)){var y=n.getPadBorderExtents(a,f);g>=0&&(g+=y.w),m>=0&&(m+=y.h)}t(a,NaN,NaN,g,m)};var l={l:0,t:0,w:0,h:0};return n.setMarginBox=function(a,p,f){a=h.byId(a);var g=f||c.getComputedStyle(a),m=p.w,y=p.h,C=o(a)?l:n.getPadBorderExtents(a,g),P=n.getMarginExtents(a,g);if(d("webkit")&&s(a)){var D=a.style;m>=0&&!D.width&&(D.width="4px"),y>=0&&!D.height&&(D.height="4px")}m>=0&&(m=Math.max(m-C.w-P.w,0)),y>=0&&(y=Math.max(y-C.h-P.h,0)),t(a,p.l,p.t,m,y)},n.isBodyLtr=function(a){return a=a||v.doc,(v.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()=="ltr"},n.docScroll=function(a){a=a||v.doc;var p=a.parentWindow||a.defaultView;return"pageXOffset"in p?{x:p.pageXOffset,y:p.pageYOffset}:(p=d("quirks")?v.body(a):a.documentElement)&&{x:n.fixIeBiDiScrollLeft(p.scrollLeft||0,a),y:p.scrollTop||0}},n.getIeDocumentElementOffset=function(u){return{x:0,y:0}},n.fixIeBiDiScrollLeft=function(a,p){p=p||v.doc;var f=d("ie");if(f&&!n.isBodyLtr(p)){var g=d("quirks"),m=g?v.body(p):p.documentElement,y=v.global;return f==6&&!g&&y.frameElement&&m.scrollHeight>m.clientHeight&&(a+=m.clientLeft),f<8||g?a+m.clientWidth-m.scrollWidth:-a}return a},n.position=function(u,a){u=h.byId(u);var p=v.body(u.ownerDocument),f=r(u);if(f={x:f.left,y:f.top,w:f.right-f.left,h:f.bottom-f.top},d("ie")<9&&(f.x-=d("quirks")?p.clientLeft+p.offsetLeft:0,f.y-=d("quirks")?p.clientTop+p.offsetTop:0),a){var g=n.docScroll(u.ownerDocument);f.x+=g.x,f.y+=g.y}return f},n.getMarginSize=function(a,p){a=h.byId(a);var f=n.getMarginExtents(a,p||c.getComputedStyle(a)),g=r(a);return{w:g.right-g.left+f.w,h:g.bottom-g.top+f.h}},n.normalizeEvent=function(u){if("layerX"in u||(u.layerX=u.offsetX,u.layerY=u.offsetY),!("pageX"in u)){var a=u.target,p=a&&a.ownerDocument||document,f=d("quirks")?p.body:p.documentElement;u.pageX=u.clientX+n.fixIeBiDiScrollLeft(f.scrollLeft||0,p),u.pageY=u.clientY+(f.scrollTop||0)}},n},b,S),b.exports=E},"dojo/dom-prop":function(b,S,e){var A,E;A=[S,e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/dom-style"]),e(e.dj.r.absMids["dojo/dom-construct"]),e(e.dj.r.absMids["dojo/_base/connect"])],E=e.dj.d(A,function(d,v,h,c,n,i,t,s){var o={},r=1,l=v._scopeName+"attrid";h.add("dom-textContent",function(a,p,f){return"textContent"in f}),d.names={class:"className",for:"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};function u(a){for(var p="",f=a.childNodes,g=0,m;m=f[g];g++)m.nodeType!=8&&(m.nodeType==1?p+=u(m):p+=m.nodeValue);return p}d.get=function(p,f){p=n.byId(p);var g=f.toLowerCase(),m=d.names[g]||f;return m=="textContent"&&!h("dom-textContent")?u(p):p[m]},d.set=function(p,f,g){p=n.byId(p);var m=arguments.length;if(m==2&&typeof f!="string"){for(var y in f)d.set(p,y,f[y]);return p}var C=f.toLowerCase(),P=d.names[C]||f;if(P=="style"&&typeof g!="string")return i.set(p,g),p;if(P=="innerHTML")return h("ie")&&p.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(t.empty(p),p.appendChild(t.toDom(g,p.ownerDocument))):p[P]=g,p;if(P=="textContent"&&!h("dom-textContent"))return t.empty(p),p.appendChild(p.ownerDocument.createTextNode(g)),p;if(c.isFunction(g)){var D=p[l];D||(D=r++,p[l]=D),o[D]||(o[D]={});var M=o[D][P];if(M)s.disconnect(M);else try{delete p[P]}catch(x){}return g?o[D][P]=s.connect(p,P,g):p[P]=null,p}return p[P]=g,p}},b,S),b.exports=E},"dojo/dom-style":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/sniff"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/_base/window"])],E=e.dj.d(A,function(d,v,h){var c,n={};d("webkit")?c=function(f){var g;if(f.nodeType==1){var m=f.ownerDocument.defaultView;g=m.getComputedStyle(f,null),!g&&f.style&&(f.style.display="",g=m.getComputedStyle(f,null))}return g||{}}:d("ie")&&(d("ie")<9||d("quirks"))?c=function(f){return f.nodeType==1&&f.currentStyle?f.currentStyle:{}}:c=function(f){if(f.nodeType===1){var g=f.ownerDocument.defaultView,m=g.opener?g:h.global.window;return m.getComputedStyle(f,null)||{}}return{}},n.getComputedStyle=c;var i;d("ie")?i=function(f,g){if(!g)return 0;if(g=="medium")return 4;if(g.slice&&g.slice(-2)=="px")return parseFloat(g);var m=f.style,y=f.runtimeStyle,C=f.currentStyle,P=m.left,D=y.left;y.left=C.left;try{m.left=g,g=m.pixelLeft}catch(M){g=0}return m.left=P,y.left=D,g}:i=function(f,g){return parseFloat(g)||0},n.toPixelValue=i;var t="DXImageTransform.Microsoft.Alpha",s=function(f,g){try{return f.filters.item(t)}catch(m){return g?{}:null}},o=d("ie")<9||d("ie")<10&&d("quirks")?function(f){try{return s(f).Opacity/100}catch(g){return 1}}:function(f){return c(f).opacity},r=d("ie")<9||d("ie")<10&&d("quirks")?function(f,g){g===""&&(g=1);var m=g*100,y=g===1;if(y?(f.style.zoom="",s(f)&&(f.style.filter=f.style.filter.replace(new RegExp("\\s*progid:"+t+"\\([^\\)]+?\\)","i"),""))):(f.style.zoom=1,s(f)?s(f,1).Opacity=m:f.style.filter+=" progid:"+t+"(Opacity="+m+")",s(f,1).Enabled=!0),f.tagName.toLowerCase()=="tr")for(var C=f.firstChild;C;C=C.nextSibling)C.tagName.toLowerCase()=="td"&&r(C,g);return g}:function(f,g){return f.style.opacity=g},l={left:!0,top:!0},u=/margin|padding|width|height|max|min|offset/;function a(f,g,m){if(g=g.toLowerCase(),m=="auto"){if(g=="height")return f.offsetHeight;if(g=="width")return f.offsetWidth}if(g=="fontweight")switch(m){case 700:return"bold";case 400:default:return"normal"}return g in l||(l[g]=u.test(g)),l[g]?i(f,m):m}var p={cssFloat:1,styleFloat:1,float:1};return n.get=function(g,m){var y=v.byId(g),C=arguments.length,P=m=="opacity";if(C==2&&P)return o(y);m=p[m]?"cssFloat"in y.style?"cssFloat":"styleFloat":m;var D=n.getComputedStyle(y);return C==1?D:a(y,m,D[m]||y.style[m])},n.set=function(g,m,y){var C=v.byId(g),P=arguments.length,D=m=="opacity";if(m=p[m]?"cssFloat"in C.style?"cssFloat":"styleFloat":m,P==3)return D?r(C,y):C.style[m]=y;for(var M in m)n.set(g,M,m[M]);return n.getComputedStyle(C)},n},b,S),b.exports=E},"dojo/domReady":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/global"]),e(e.dj.r.absMids["dojo/has"])],E=e.dj.d(A,function(d,v){var h=document,c={loaded:1,complete:1},n=typeof h.readyState!="string",i=!!c[h.readyState],t=[],s;function o(g){t.push(g),i&&r()}o.load=function(g,m,y){o(y)},o._Q=t,o._onQEmpty=function(){},n&&(h.readyState="loading");function r(){if(!s){for(s=!0;t.length;)try{t.shift()(h)}catch(g){console.error(g,"in domReady callback",g.stack)}s=!1,o._onQEmpty()}}if(!i){var l=[],u=function(g){g=g||d.event,!(i||g.type=="readystatechange"&&!c[h.readyState])&&(n&&(h.readyState="complete"),i=1,r())},a=function(g,m){g.addEventListener(m,u,!1),t.push(function(){g.removeEventListener(m,u,!1)})};if(!v("dom-addeventlistener")){a=function(g,m){m="on"+m,g.attachEvent(m,u),t.push(function(){g.detachEvent(m,u)})};var p=h.createElement("div");try{p.doScroll&&d.frameElement===null&&l.push(function(){try{return p.doScroll("left"),1}catch(g){}})}catch(g){}}if(a(h,"DOMContentLoaded"),a(d,"load"),"onreadystatechange"in h?a(h,"readystatechange"):n||l.push(function(){return c[h.readyState]}),l.length){var f=function(){if(!i){for(var g=l.length;g--;)if(l[g]()){u("poller");return}setTimeout(f,30)}};f()}}return o},b,S),b.exports=E},"dojo/domReady!":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/domReady"]),e("mwBundle.richcontent_preview_plugin|00feeeeb8e7f06976b5e2df2628e58e82dbd1d66"),e(e.dj.r.absMids["860c8bd84e18b7d8b67be9b4cb1c65024cd3b63b"])],E=e.dj.d(A,function(d,v){return v(d,"",e.dj.c(),!0)},b,S),b.exports=E},"dojo/errors/CancelError":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/errors/create"])],E=e.dj.d(A,function(d){return d("CancelError",null,null,{dojoType:"cancel",log:!1})},b,S),b.exports=E},"dojo/errors/RequestError":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/errors/create"])],E=e.dj.d(A,function(d){return d("RequestError",function(v,h){this.response=h})},b,S),b.exports=E},"dojo/errors/RequestTimeoutError":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/errors/create"]),e(e.dj.r.absMids["dojo/errors/RequestError"])],E=e.dj.d(A,function(d,v){return d("RequestTimeoutError",null,v,{dojoType:"timeout"})},b,S),b.exports=E},"dojo/errors/create":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/lang"])],E=e.dj.d(A,function(d){return function(v,h,c,n){c=c||Error;var i=function(t){if(c===Error){Error.captureStackTrace&&Error.captureStackTrace(this,i);var s=Error.call(this,t),o;for(o in s)s.hasOwnProperty(o)&&(this[o]=s[o]);this.message=t,this.stack=s.stack}else c.apply(this,arguments);h&&h.apply(this,arguments)};return i.prototype=d.delegate(c.prototype,n),i.prototype.name=v,i.prototype.constructor=i,i}},b,S),b.exports=E},"dojo/global":function(b,S,e){var A;A=function(){return typeof global!="undefined"&&typeof global!="function"?global:typeof window!="undefined"?window:typeof self!="undefined"?self:this}.call(null,e,S,b),A!==void 0&&(b.exports=A)},"dojo/has":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/global"]),e.dj.c(b.i),e.dj.m(b)],E=e.dj.d(A,function(d,v,h){var c=v.has||function(){};if(!c("dojo-has-api")){var n=typeof window!="undefined"&&typeof location!="undefined"&&typeof document!="undefined"&&window.location==location&&window.document==document,i=n&&document,t=i&&i.createElement("DiV"),s=h.config&&h.config()||{};c=function(r){return typeof s[r]=="function"?s[r]=s[r](d,i,t):s[r]},c.cache=s,c.add=function(r,l,u,a){return(typeof s[r]=="undefined"||a)&&(s[r]=l),u&&c(r)},c.add("host-browser",n),c.add("host-node",typeof process=="object"&&process.versions&&process.versions.node&&process.versions.v8),c.add("host-rhino",typeof load=="function"&&(typeof Packages=="function"||typeof Packages=="object")),c.add("dom",n),c.add("dojo-dom-ready-api",1),c.add("dojo-sniff",1)}if(c("host-browser")){c.add("dom-addeventlistener",!!document.addEventListener),c.add("touch","ontouchstart"in document||"onpointerdown"in document&&navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints),c.add("touch-events","ontouchstart"in document),c.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),c.add("MSPointer",window.navigator.msPointerEnabled),c.add("touch-action",c("touch")&&c("pointer-events")),c.add("device-width",screen.availWidth||innerWidth);var o=document.createElement("form");c.add("dom-attributes-explicit",o.attributes.length==0),c.add("dom-attributes-specified-flag",o.attributes.length>0&&o.attributes.length<40)}return c.clearElement=function(r){return r.innerHTML="",r},c.normalize=function(r,l){var u=r.match(/[\?:]|[^:\?]*/g),a=0,p=function(f){var g=u[a++];return g==":"?0:u[a++]=="?"?!f&&c(g)?p():(p(!0),p(f)):g||0};return r=p(),r&&l(r)},c.load=function(r,l,u){r?l([r],u):u()},c},b,S),b.exports=E},"dojo/io-query":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/lang"])],E=e.dj.d(A,function(d){var v={};return{objectToQuery:function(c){var n=encodeURIComponent,i=[];for(var t in c){var s=c[t];if(s!=v[t]){var o=n(t)+"=";if(d.isArray(s))for(var r=0,l=s.length;r<l;++r)i.push(o+n(s[r]));else i.push(o+n(s))}}return i.join("&")},queryToObject:function(c){for(var n=decodeURIComponent,i=c.split("&"),t={},s,o,r=0,l=i.length,u;r<l;++r)if(u=i[r],u.length){var a=u.indexOf("=");a<0?(s=n(u),o=""):(s=n(u.slice(0,a)),o=n(u.slice(a+1))),typeof t[s]=="string"&&(t[s]=[t[s]]),d.isArray(t[s])?t[s].push(o):t[s]=o}return t}}},b,S),b.exports=E},"dojo/json":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(__webpack_require__.dj.r.absMids["dojo/has"])],__WEBPACK_AMD_DEFINE_RESULT__=__webpack_require__.dj.d(__WEBPACK_AMD_DEFINE_ARRAY__,function(has){"use strict";var hasJSON=typeof JSON!="undefined";if(has.add("json-parse",hasJSON),has.add("json-stringify",hasJSON&&JSON.stringify({a:0},function(b,S){return S||1})=='{"a":1}'),has("json-stringify"))return JSON;var escapeString=function(b){return('"'+b.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:has("json-parse")?JSON.parse:function(str,strict){if(strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str))throw new SyntaxError("Invalid characters in JSON");return eval("("+str+")")},stringify:function(b,S,e){var A;typeof S=="string"&&(e=S,S=null);function E(d,v,h){S&&(d=S(h,d));var c,n=typeof d;if(n=="number")return isFinite(d)?d+"":"null";if(n=="boolean")return d+"";if(d===null)return"null";if(typeof d=="string")return escapeString(d);if(n=="function"||n=="undefined")return A;if(typeof d.toJSON=="function")return E(d.toJSON(h),v,h);if(d instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(p,f,g){var m=d["getUTC"+f]()+(g?1:0);return m<10?"0"+m:m});if(d.valueOf()!==d)return E(d.valueOf(),v,h);var i=e?v+e:"",t=e?" ":"",s=e?`
`:"";if(d instanceof Array){var o=d.length,r=[];for(h=0;h<o;h++){var l=d[h];c=E(l,i,h),typeof c!="string"&&(c="null"),r.push(s+i+c)}return"["+r.join(",")+s+v+"]"}var u=[];for(h in d){var a;if(d.hasOwnProperty(h)){if(typeof h=="number")a='"'+h+'"';else if(typeof h=="string")a=escapeString(h);else continue;if(c=E(d[h],i,h),typeof c!="string")continue;u.push(s+i+a+":"+t+c)}}return"{"+u.join(",")+s+v+"}"}return E(b,"","")}}},module,exports),module.exports=__WEBPACK_AMD_DEFINE_RESULT__},"dojo/keys":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/sniff"])],E=e.dj.d(A,function(d,v){return d.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:v("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:v("mac")&&!v("air")?v("safari")?91:224:17}},b,S),b.exports=E},"dojo/mouse":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/_base/window"])],E=e.dj.d(A,function(d,v,h,c,n){h.add("dom-quirks",n.doc&&n.doc.compatMode=="BackCompat"),h.add("events-mouseenter",n.doc&&"onmouseenter"in n.doc.createElement("div")),h.add("events-mousewheel",n.doc&&"onmousewheel"in n.doc);var i;h("dom-quirks")&&h("ie")||!h("dom-addeventlistener")?i={LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(o,r){return o.button&r},isLeft:function(o){return o.button&1},isMiddle:function(o){return o.button&4},isRight:function(o){return o.button&2}}:i={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(o,r){return o.button==r},isLeft:function(o){return o.button==0},isMiddle:function(o){return o.button==1},isRight:function(o){return o.button==2}},d.mouseButtons=i;function t(o,r){var l=function(u,a){return v(u,o,function(p){if(r)return r(p,a);if(!c.isDescendant(p.relatedTarget,u))return a.call(this,p)})};return l.bubble=function(u){return t(o,function(a,p){var f=u(a.target),g=a.relatedTarget;if(f&&f!=(g&&g.nodeType==1&&u(g)))return p.call(f,a)})},l}var s;return h("events-mousewheel")?s="mousewheel":s=function(o,r){return v(o,"DOMMouseScroll",function(l){l.wheelDelta=-l.detail,r.call(this,l)})},{_eventHandler:t,enter:t("mouseover"),leave:t("mouseout"),wheel:s,isLeft:i.isLeft,isMiddle:i.isMiddle,isRight:i.isRight}},b,S),b.exports=E},"dojo/on":function(b,S,e){var A,E;A=[e.dj.h("dom-addeventlistener?:dojo/aspect"),e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/sniff"])],E=e.dj.d(A,function(d,v,h){"use strict";if(h("dom")){var c=window.ScriptEngineMajorVersion;h.add("jscript",c&&c()+ScriptEngineMinorVersion()/10),h.add("event-orientationchange",h("touch")&&!h("android")),h.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation),h.add("event-focusin",function(j,w,O){return"onfocusin"in O}),h("touch")&&h.add("touch-can-modify-event-delegate",function(){var j=function(){};j.prototype=document.createEvent("MouseEvents");try{var w=new j;return w.target=null,w.target===null}catch(O){return!1}})}var n=function(j,w,O,F){return typeof j.on=="function"&&typeof w!="function"&&!j.nodeType?j.on(w,O):n.parse(j,w,O,t,F,this)};n.pausable=function(j,w,O,F){var I,N=n(j,w,function(){if(!I)return O.apply(this,arguments)},F);return N.pause=function(){I=!0},N.resume=function(){I=!1},N},n.once=function(j,w,O,F){var I=n(j,w,function(){return I.remove(),O.apply(this,arguments)});return I},n.parse=function(j,w,O,F,I,N){var U;if(w.call)return w.call(N,j,O);if(w instanceof Array?U=w:w.indexOf(",")>-1&&(U=w.split(/\s*,\s*/)),U){for(var K=[],B=0,k;k=U[B++];)K.push(n.parse(j,k,O,F,I,N));return K.remove=function(){for(var Y=0;Y<K.length;Y++)K[Y].remove()},K}return F(j,w,O,I,N)};var i=/^touch/;function t(j,w,O,F,I){var N=w.match(/(.*):(.*)/);if(N)return w=N[2],N=N[1],n.selector(N,w).call(I,j,O);if(h("touch")&&(i.test(w)&&(O=R(O)),!h("event-orientationchange")&&w=="orientationchange"&&(w="resize",j=window,O=R(O))),p&&(O=p(O)),j.addEventListener){var U=w in u,K=U?u[w]:w;return j.addEventListener(K,O,U),{remove:function(){j.removeEventListener(K,O,U)}}}if(w="on"+w,y&&j.attachEvent)return y(j,w,O);throw new Error("Target must be an event emitter")}n.matches=function(j,w,O,F,I){for(I=I&&typeof I.matches=="function"?I:v.query,F=F!==!1,j.nodeType!=1&&(j=j.parentNode);!I.matches(j,w,O);)if(j==O||F===!1||!(j=j.parentNode)||j.nodeType!=1)return!1;return j},n.selector=function(j,w,O){return function(F,I){var N=typeof j=="function"?{matches:j}:this,U=w.bubble;function K(B){return n.matches(B,j,F,O,N)}return U?n(F,U(K),I):n(F,w,function(B){var k=K(B.target);if(k)return B.selectorTarget=k,I.call(k,B)})}};function s(){this.cancelable=!1,this.defaultPrevented=!0}function o(){this.bubbles=!1}var r=[].slice,l=n.emit=function(j,w,O){var F=r.call(arguments,2),I="on"+w;if("parentNode"in j){var N=F[0]={};for(var U in O)N[U]=O[U];N.preventDefault=s,N.stopPropagation=o,N.target=j,N.type=w,O=N}do j[I]&&j[I].apply(j,F);while(O&&O.bubbles&&(j=j.parentNode));return O&&O.cancelable&&O},u=h("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!h("event-stopimmediatepropagation"))var a=function(){this.immediatelyStopped=!0,this.modified=!0},p=function(j){return function(w){if(!w.immediatelyStopped)return w.stopImmediatePropagation=a,j.apply(this,arguments)}};if(h("dom-addeventlistener"))n.emit=function(j,w,O){if(j.dispatchEvent&&document.createEvent){var F=j.ownerDocument||document,I=F.createEvent("HTMLEvents");I.initEvent(w,!!O.bubbles,!!O.cancelable);for(var N in O)N in I||(I[N]=O[N]);return j.dispatchEvent(I)&&I}return l.apply(n,arguments)};else{n._fixEvent=function(j,w){if(!j){var O=w&&(w.ownerDocument||w.document||w).parentWindow||window;j=O.event}if(!j)return j;try{f&&j.type==f.type&&j.srcElement==f.target&&(j=f)}catch(I){}if(!j.target)switch(j.target=j.srcElement,j.currentTarget=w||j.srcElement,j.type=="mouseover"&&(j.relatedTarget=j.fromElement),j.type=="mouseout"&&(j.relatedTarget=j.toElement),j.stopPropagation||(j.stopPropagation=P,j.preventDefault=D),j.type){case"keypress":var F="charCode"in j?j.charCode:j.keyCode;F==10?(F=0,j.keyCode=13):F==13||F==27?F=0:F==3&&(F=99),j.charCode=F,C(j);break}return j};var f,g=function(j){this.handle=j};g.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var m=function(j){return function(w){w=n._fixEvent(w,this);var O=j.call(this,w);return w.modified&&(f||setTimeout(function(){f=null}),f=w),O}},y=function(j,w,O){if(O=m(O),((j.ownerDocument?j.ownerDocument.parentWindow:j.parentWindow||j.window||window)!=top||h("jscript")<5.8)&&!h("config-_allow_leaks")){typeof _dojoIEListeners_=="undefined"&&(_dojoIEListeners_=[]);var F=j[w];if(!F||!F.listeners){var I=F;F=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}"),F.listeners=[],j[w]=F,F.global=this,I&&F.listeners.push(_dojoIEListeners_.push(I)-1)}var N;return F.listeners.push(N=F.global._dojoIEListeners_.push(O)-1),new g(N)}return d.after(j,w,O,!0)},C=function(j){j.keyChar=j.charCode?String.fromCharCode(j.charCode):"",j.charOrCode=j.keyChar||j.keyCode},P=function(){this.cancelBubble=!0},D=n._preventDefault=function(){if(this.bubbledKeyCode=this.keyCode,this.ctrlKey)try{this.keyCode=0}catch(j){}this.defaultPrevented=!0,this.returnValue=!1,this.modified=!0}}if(h("touch"))var M=function(){},x=window.orientation,R=function(j){return function(w){var O=w.corrected;if(!O){var F=w.type;try{delete w.type}catch(K){}if(w.type){if(h("touch-can-modify-event-delegate"))M.prototype=w,O=new M;else{O={};for(var I in w)O[I]=w[I]}O.preventDefault=function(){w.preventDefault()},O.stopPropagation=function(){w.stopPropagation()}}else O=w,O.type=F;if(w.corrected=O,F=="resize")return x==window.orientation?null:(x=window.orientation,O.type="orientationchange",j.call(this,O));if("rotation"in O||(O.rotation=0,O.scale=1),window.TouchEvent&&w instanceof TouchEvent){var N=O.changedTouches[0];for(var U in N)delete O[U],O[U]=N[U]}}return j.call(this,O)}};return n},b,S),b.exports=E},"dojo/promise/Promise":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/lang"])],E=e.dj.d(A,function(d){"use strict";function v(){throw new TypeError("abstract")}return d.extend(function(){},{then:function(h,c,n){v()},cancel:function(h,c){v()},isResolved:function(){v()},isRejected:function(){v()},isFulfilled:function(){v()},isCanceled:function(){v()},finally:function(h){return this.then(function(c){var n=h();return n&&typeof n.then=="function"?n.then(function(){return c}):c},function(c){var n=h();if(n&&typeof n.then=="function")return n.then(function(){throw c});throw c})},always:function(h){return this.then(h,h)},catch:function(h){return this.then(null,h)},otherwise:function(h){return this.then(null,h)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})},b,S),b.exports=E},"dojo/promise/all":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["dojo/when"])],E=e.dj.d(A,function(d,v,h,c){"use strict";var n=d.some;return function(t){var s,o;v.isArray(t)?o=t:t&&typeof t=="object"&&(s=t);var r,l=[];if(s){o=[];for(var u in s)Object.hasOwnProperty.call(s,u)&&(l.push(u),o.push(s[u]));r={}}else o&&(r=[]);if(!o||!o.length)return new h().resolve(r);var a=new h;a.promise.always(function(){r=l=null});var p=o.length;return n(o,function(f,g){return s||l.push(g),c(f,function(m){a.isFulfilled()||(r[l[g]]=m,--p===0&&a.resolve(r))},a.reject),a.isFulfilled()}),a.promise}},b,S),b.exports=E},"dojo/request/handlers":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/json"]),e(e.dj.r.absMids["dojo/_base/kernel"]),e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/has"]),e(e.dj.r.absMids["860c8bd84e18b7d8b67be9b4cb1c65024cd3b63b"])],E=e.dj.d(A,function(d,v,h,c){c.add("activex",typeof ActiveXObject!="undefined"),c.add("dom-parser",function(l){return"DOMParser"in l});var n;if(c("activex")){var i=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"],t;n=function(l){var u=l.data,a=l.text;u&&c("dom-qsa2.1")&&!u.querySelectorAll&&c("dom-parser")&&(u=new DOMParser().parseFromString(a,"application/xml"));function p(f){try{var g=new ActiveXObject(f);g.async=!1,g.loadXML(a),u=g,t=f}catch(m){return!1}return!0}return(!u||!u.documentElement)&&(!t||!p(t))&&h.some(i,p),u}}var s=function(l){return!c("native-xhr2-blob")&&l.options.handleAs==="blob"&&typeof Blob!="undefined"?new Blob([l.xhr.response],{type:l.xhr.getResponseHeader("Content-Type")}):l.xhr.response},o={javascript:function(l){return v.eval(l.text||"")},json:function(l){return d.parse(l.text||null)},xml:n,blob:s,arraybuffer:s,document:s};function r(l){var u=o[l.options.handleAs];return l.data=u?u(l):l.data||l.text,l}return r.register=function(l,u){o[l]=u},r},b,S),b.exports=E},"dojo/request/script":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__.dj.m(module),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/request/watch"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/request/util"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/kernel"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/array"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/lang"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/on"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/dom"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/dom-construct"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/has"]),__webpack_require__(__webpack_require__.dj.r.absMids["dojo/_base/window"])],__WEBPACK_AMD_DEFINE_RESULT__=__webpack_require__.dj.d(__WEBPACK_AMD_DEFINE_ARRAY__,function(module,watch,util,kernel,array,lang,on,dom,domConstruct,has,win){has.add("script-readystatechange",function(b,S){var e=S.createElement("script");return typeof e.onreadystatechange!="undefined"&&(typeof b.opera=="undefined"||b.opera.toString()!=="[object Opera]")});var mid=module.id.replace(/[\/\.\-]/g,"_"),counter=0,loadEvent=has("script-readystatechange")?"readystatechange":"load",readyRegExp=/complete|loaded/,callbacks=kernel.global[mid+"_callbacks"]={},deadScripts=[];function attach(b,S,e,A){var E=e||win.doc,d=E.createElement("script");A&&on.once(d,"error",A),d.type="text/javascript";try{d.src=S}catch(v){A&&A(d)}return d.id=b,d.async=!0,d.charset="utf-8",E.getElementsByTagName("head")[0].appendChild(d)}function remove(b,S,e){domConstruct.destroy(dom.byId(b,S)),callbacks[b]&&(e?callbacks[b]=function(){delete callbacks[b]}:delete callbacks[b])}function _addDeadScript(b){var S=b.response.options,e=S.ioArgs?S.ioArgs.frameDoc:S.frameDoc;deadScripts.push({id:b.id,frameDoc:e}),S.ioArgs&&(S.ioArgs.frameDoc=null),S.frameDoc=null}function canceler(b,S){b.canDelete&&script._remove(b.id,S.options.frameDoc,!0)}function isValid(b){return deadScripts&&deadScripts.length&&(array.forEach(deadScripts,function(S){script._remove(S.id,S.frameDoc),S.frameDoc=null}),deadScripts=[]),b.options.jsonp?!b.data:!0}function isReadyScript(b){return!!this.scriptLoaded}function isReadyCheckString(response){var checkString=response.options.checkString;return checkString&&eval("typeof("+checkString+') !== "undefined"')}function handleResponse(b,S){this.canDelete&&_addDeadScript(this),S?this.reject(S):this.resolve(b)}function script(b,S,e){var A=util.parseArgs(b,util.deepCopy({},S));b=A.url,S=A.options;var E=util.deferred(A,canceler,isValid,S.jsonp?null:S.checkString?isReadyCheckString:isReadyScript,handleResponse);if(lang.mixin(E,{id:mid+counter++,canDelete:!1}),S.jsonp){var d=new RegExp("[?&]"+S.jsonp+"=");d.test(b)||(b+=(~b.indexOf("?")?"&":"?")+S.jsonp+"="+(S.frameDoc?"parent.":"")+mid+"_callbacks."+E.id),E.canDelete=!0,callbacks[E.id]=function(c){A.data=c,E.handleResponse(A)}}if(util.notify&&util.notify.emit("send",A,E.promise.cancel),!S.canAttach||S.canAttach(E)){var v=script._attach(E.id,b,S.frameDoc,function(c){if(!(c instanceof Error)){var n=new Error("Error loading "+(c.target?c.target.src:"script"));n.source=c,c=n}E.reject(c),script._remove(E.id,S.frameDoc,!0)});if(!S.jsonp&&!S.checkString)var h=on(v,loadEvent,function(c){(c.type==="load"||readyRegExp.test(v.readyState))&&(h.remove(),E.scriptLoaded=c)})}return watch(E),e?E:E.promise}return script.get=script,script._attach=attach,script._remove=remove,script._callbacksProperty=mid+"_callbacks",script},module,exports),module.exports=__WEBPACK_AMD_DEFINE_RESULT__},"dojo/request/util":function(b,S,e){var A,E;A=[S,e(e.dj.r.absMids["dojo/errors/RequestError"]),e(e.dj.r.absMids["dojo/errors/CancelError"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["dojo/io-query"]),e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/promise/Promise"]),e(e.dj.r.absMids["dojo/has"])],E=e.dj.d(A,function(d,v,h,c,n,i,t,s,o){function r(y){return o("native-arraybuffer")&&y instanceof ArrayBuffer}function l(y){return o("native-blob")&&y instanceof Blob}function u(y){return typeof Element!="undefined"?y instanceof Element:y.nodeType===1}function a(y){return o("native-formdata")&&y instanceof FormData}function p(y){return y&&typeof y=="object"&&!a(y)&&!u(y)&&!l(y)&&!r(y)}d.deepCopy=function(y,C){for(var P in C){var D=y[P],M=C[P];P!=="__proto__"&&D!==M&&(p(M)?Object.prototype.toString.call(M)==="[object Date]"?y[P]=new Date(M):t.isArray(M)?y[P]=d.deepCopyArray(M):D&&typeof D=="object"?d.deepCopy(D,M):y[P]=d.deepCopy({},M):y[P]=M)}return y},d.deepCopyArray=function(y){for(var C=[],P=0,D=y.length;P<D;P++){var M=y[P];typeof M=="object"?C.push(d.deepCopy({},M)):C.push(M)}return C},d.deepCreate=function(C,P){P=P||{};var D=t.delegate(C),M,x;for(M in C)x=C[M],x&&typeof x=="object"&&(D[M]=d.deepCreate(x,P[M]));return d.deepCopy(D,P)};var f=Object.freeze||function(y){return y};function g(y){return f(y)}function m(y){return y.data!==void 0?y.data:y.text}d.deferred=function(C,P,D,M,x,R){var j=new c(function(U){return P&&P(j,C),!U||!(U instanceof v)&&!(U instanceof h)?new h("Request canceled",C):U});j.response=C,j.isValid=D,j.isReady=M,j.handleResponse=x;function w(U){throw U.response=C,U}var O=j.then(g).otherwise(w);d.notify&&O.then(t.hitch(d.notify,"emit","load"),t.hitch(d.notify,"emit","error"));var F=O.then(m),I=new s;for(var N in F)F.hasOwnProperty(N)&&(I[N]=F[N]);return I.response=O,f(I),R&&j.then(function(U){R.call(j,U)},function(U){R.call(j,C,U)}),j.promise=I,j.then=I.then,j},d.addCommonMethods=function(C,P){i.forEach(P||["GET","POST","PUT","DELETE"],function(D){C[(D==="DELETE"?"DEL":D).toLowerCase()]=function(M,x){return x=t.delegate(x||{}),x.method=D,C(M,x)}})},d.parseArgs=function(C,P,D){var M=P.data,x=P.query;return M&&!D&&typeof M=="object"&&(!o("native-xhr2")||!(r(M)||l(M)))&&(P.data=n.objectToQuery(M)),x?(typeof x=="object"&&(x=n.objectToQuery(x)),P.preventCache&&(x+=(x?"&":"")+"request.preventCache="+ +new Date)):P.preventCache&&(x="request.preventCache="+ +new Date),C&&x&&(C+=(~C.indexOf("?")?"&":"?")+x),{url:C,options:P,getHeader:function(R){return null}}},d.checkStatus=function(y){return y=y||0,y>=200&&y<300||y===304||y===1223||!y}},b,S),b.exports=E},"dojo/request/watch":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/request/util"]),e(e.dj.r.absMids["dojo/errors/RequestTimeoutError"]),e(e.dj.r.absMids["dojo/errors/CancelError"]),e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/_base/window"]),e.dj.h("dom-addeventlistener?:dojo/on")],E=e.dj.d(A,function(d,v,h,c,n,i){var t=null,s=[];function o(){for(var l=+new Date,u=0,a;u<s.length&&(a=s[u]);u++){var p=a.response,f=p.options;a.isCanceled&&a.isCanceled()||a.isValid&&!a.isValid(p)?(s.splice(u--,1),r._onAction&&r._onAction()):a.isReady&&a.isReady(p)?(s.splice(u--,1),a.handleResponse(p),r._onAction&&r._onAction()):a.startTime&&a.startTime+(f.timeout||0)<l&&(s.splice(u--,1),a.cancel(new v("Timeout exceeded",p)),r._onAction&&r._onAction())}r._onInFlight&&r._onInFlight(a),s.length||(clearInterval(t),t=null)}function r(l){l.response.options.timeout&&(l.startTime=+new Date),!l.isFulfilled()&&(s.push(l),t||(t=setInterval(o,50)),l.response.options.sync&&o())}return r.cancelAll=function(){try{c.forEach(s,function(u){try{u.cancel(new h("All requests canceled."))}catch(a){}})}catch(u){}},n&&i&&n.doc.attachEvent&&i(n.global,"unload",function(){r.cancelAll()}),r},b,S),b.exports=E},"dojo/request/xhr":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/errors/RequestError"]),e(e.dj.r.absMids["dojo/request/watch"]),e(e.dj.r.absMids["dojo/request/handlers"]),e(e.dj.r.absMids["dojo/request/util"]),e(e.dj.r.absMids["dojo/has"])],E=e.dj.d(A,function(d,v,h,c,n){n.add("native-xhr",function(){return typeof XMLHttpRequest!="undefined"}),n.add("dojo-force-activex-xhr",function(){return n("activex")&&window.location.protocol==="file:"}),n.add("native-xhr2",function(){if(!(!n("native-xhr")||n("dojo-force-activex-xhr"))){var g=new XMLHttpRequest;return typeof g.addEventListener!="undefined"&&(typeof opera=="undefined"||typeof g.upload!="undefined")}}),n.add("native-formdata",function(){return typeof FormData!="undefined"}),n.add("native-blob",function(){return typeof Blob!="undefined"}),n.add("native-arraybuffer",function(){return typeof ArrayBuffer!="undefined"}),n.add("native-response-type",function(){return n("native-xhr")&&typeof new XMLHttpRequest().responseType!="undefined"}),n.add("native-xhr2-blob",function(){if(!!n("native-response-type"))return!0});var i={blob:n("native-xhr2-blob")?"blob":"arraybuffer",document:"document",arraybuffer:"arraybuffer"};function t(g,m){var y=g.xhr;g.status=g.xhr.status;try{g.text=y.responseText}catch(P){}g.options.handleAs==="xml"&&(g.data=y.responseXML);var C;if(m)this.reject(m);else{try{h(g)}catch(P){C=P}c.checkStatus(y.status)?C?this.reject(C):this.resolve(g):C?(m=new d("Unable to load "+g.url+" status: "+y.status+" and an error in handleAs: transformation of response",g),this.reject(m)):(m=new d("Unable to load "+g.url+" status: "+y.status,g),this.reject(m))}}var s,o,r,l;n("native-xhr2")?(s=function(g){return!this.isFulfilled()},l=function(g,m){m.xhr.abort()},r=function(g,m,y,C){function P(j){m.handleResponse(y)}function D(j){var w=j.target,O=new d("Unable to load "+y.url+" status: "+w.status,y);m.handleResponse(y,O)}function M(j,w){y.transferType=j,w.lengthComputable?(y.loaded=w.loaded,y.total=w.total,m.progress(y)):y.xhr.readyState===3&&(y.loaded="loaded"in w?w.loaded:w.position,m.progress(y))}function x(j){return M("download",j)}function R(j){return M("upload",j)}return g.addEventListener("load",P,!1),g.addEventListener("error",D,!1),g.addEventListener("progress",x,!1),C&&g.upload&&g.upload.addEventListener("progress",R,!1),function(){g.removeEventListener("load",P,!1),g.removeEventListener("error",D,!1),g.removeEventListener("progress",x,!1),g.upload.removeEventListener("progress",R,!1),g=null}}):(s=function(g){return g.xhr.readyState},o=function(g){return g.xhr.readyState===4},l=function(g,m){var y=m.xhr,C=typeof y.abort;(C==="function"||C==="object"||C==="unknown")&&y.abort()});function u(g){return this.xhr.getResponseHeader(g)}var a,p={data:null,query:null,sync:!1,method:"GET"};function f(g,m,y){var C=n("native-formdata")&&m&&m.data&&m.data instanceof FormData,P=c.parseArgs(g,c.deepCreate(p,m),C);g=P.url,m=P.options;var D=!m.data&&m.method!=="POST"&&m.method!=="PUT";n("ie")<=10&&(g=g.split("#")[0]);var M,x=function(){M&&M()},R=c.deferred(P,l,s,o,t,x),j=P.xhr=f._create();if(!j)return R.cancel(new d("XHR was not created")),y?R:R.promise;P.getHeader=u,r&&(M=r(j,R,P,m.uploadProgress));var w=typeof m.data=="undefined"?null:m.data,O=!m.sync,F=m.method;try{j.open(F,g,O,m.user||a,m.password||a),m.withCredentials&&(j.withCredentials=m.withCredentials),n("native-response-type")&&m.handleAs in i&&(j.responseType=i[m.handleAs]);var I=m.headers,N=C||D?!1:"application/x-www-form-urlencoded";if(I)for(var U in I)U.toLowerCase()==="content-type"?N=I[U]:I[U]&&j.setRequestHeader(U,I[U]);N&&N!==!1&&j.setRequestHeader("Content-Type",N),(!I||!("X-Requested-With"in I))&&j.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.notify&&c.notify.emit("send",P,R.promise.cancel),j.send(w)}catch(K){R.reject(K)}return v(R),j=null,y?R:R.promise}if(f._create=function(){throw new Error("XMLHTTP not available")},n("native-xhr")&&!n("dojo-force-activex-xhr"))f._create=function(){return new XMLHttpRequest};else if(n("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),f._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(g){try{new ActiveXObject("Microsoft.XMLHTTP"),f._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(m){}}return c.addCommonMethods(f),f},b,S),b.exports=E},"dojo/sniff":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/has"])],E=e.dj.d(A,function(d){if(d("host-browser")){var v=navigator,h=v.userAgent,c=v.appVersion,n=parseFloat(c);if(d.add("air",h.indexOf("AdobeAIR")>=0),d.add("wp",parseFloat(h.split("Windows Phone")[1])||void 0),d.add("msapp",parseFloat(h.split("MSAppHost/")[1])||void 0),d.add("khtml",c.indexOf("Konqueror")>=0?n:void 0),d.add("edge",parseFloat(h.split("Edge/")[1])||void 0),d.add("opr",parseFloat(h.split("OPR/")[1])||void 0),d.add("webkit",!d("wp")&&!d("edge")&&parseFloat(h.split("WebKit/")[1])||void 0),d.add("chrome",!d("edge")&&!d("opr")&&parseFloat(h.split("Chrome/")[1])||void 0),d.add("android",!d("wp")&&parseFloat(h.split("Android ")[1])||void 0),d.add("safari",c.indexOf("Safari")>=0&&!d("wp")&&!d("chrome")&&!d("android")&&!d("edge")&&!d("opr")?parseFloat(c.split("Version/")[1]):void 0),d.add("mac",c.indexOf("Macintosh")>=0),d.add("quirks",document.compatMode=="BackCompat"),!d("wp")&&h.match(/(iPhone|iPod|iPad)/)){var i=RegExp.$1.replace(/P/,"p"),t=h.match(/OS ([\d_]+)/)?RegExp.$1:"1",s=parseFloat(t.replace(/_/,".").replace(/_/g,""));d.add(i,s),d.add("ios",s)}if(d.add("bb",(h.indexOf("BlackBerry")>=0||h.indexOf("BB10")>=0)&&parseFloat(h.split("Version/")[1])||void 0),d.add("trident",parseFloat(c.split("Trident/")[1])||void 0),d.add("svg",typeof SVGAngle!="undefined"),!d("webkit")){if(h.indexOf("Opera")>=0&&d.add("opera",n>=9.8&&parseFloat(h.split("Version/")[1])||n),h.indexOf("Gecko")>=0&&!d("wp")&&!d("khtml")&&!d("trident")&&!d("edge")&&d.add("mozilla",n),d("mozilla")&&d.add("ff",parseFloat(h.split("Firefox/")[1]||h.split("Minefield/")[1])||void 0),document.all&&!d("opera")){var o=parseFloat(c.split("MSIE ")[1])||void 0,r=document.documentMode;r&&r!=5&&Math.floor(o)!=r&&(o=r),d.add("ie",o)}d.add("wii",typeof opera!="undefined"&&opera.wiiremote)}}return d},b,S),b.exports=E},"dojo/topic":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/Evented"])],E=e.dj.d(A,function(d){var v=new d;return{publish:function(h,c){return v.emit.apply(v,arguments)},subscribe:function(h,c){return v.on.apply(v,arguments)}}},b,S),b.exports=E},"dojo/when":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["dojo/promise/Promise"])],E=e.dj.d(A,function(d,v){"use strict";return function(c,n,i,t){var s=c&&typeof c.then=="function",o=s&&c instanceof v;if(s){if(!o){var r=new d(c.cancel);c.then(r.resolve,r.reject,r.progress),c=r.promise}}else return arguments.length>1?n?n(c):c:new d().resolve(c);return n||i||t?c.then(n,i,t):c}},b,S),b.exports=E},"dojox/cometd/AckExtension":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojox/cometd/cometd"])],E=e.dj.d(A,function(d){return d.AckExtension=function(){var v,h=!1,c=-1;function n(i,t){v._debug(i,t)}this.registered=function(i,t){v=t,n("AckExtension: executing registration callback")},this.unregistered=function(){n("AckExtension: executing unregistration callback"),v=null},this.incoming=function(i){var t=i.channel;if(t=="/meta/handshake")h=i.ext&&i.ext.ack,n("AckExtension: server supports acks",h);else if(h&&t=="/meta/connect"&&i.successful){var s=i.ext;s&&typeof s.ack=="number"&&(c=s.ack,n("AckExtension: server sent ack id",c))}return i},this.outgoing=function(i){var t=i.channel;return t=="/meta/handshake"?(i.ext||(i.ext={}),i.ext.ack=v&&v.ackEnabled!==!1,c=-1):h&&t=="/meta/connect"&&(i.ext||(i.ext={}),i.ext.ack=c,n("AckExtension: client sending ack id",c)),i}}},b,S),b.exports=E},"dojox/cometd/cometd":function(b,S,e){var A;A=function(){this.org=this.org||{};var E=this.org;return E.cometd={},E.cometd.JSON={},E.cometd.JSON.toJSON=E.cometd.JSON.fromJSON=function(d){throw"Abstract"},E.cometd.Utils={},E.cometd.Utils.isString=function(d){return d==null?!1:typeof d=="string"||d instanceof String},E.cometd.Utils.isArray=function(d){return d==null?!1:d instanceof Array},E.cometd.Utils.inArray=function(d,v){for(var h=0;h<v.length;++h)if(d===v[h])return h;return-1},E.cometd.Utils.setTimeout=function(d,v,h){return window.setTimeout(function(){try{v()}catch(c){d._debug("Exception invoking timed function",v,c)}},h)},E.cometd.Utils.clearTimeout=function(d){window.clearTimeout(d)},E.cometd.TransportRegistry=function(){var d=[],v={};this.getTransportTypes=function(){return d.slice(0)},this.findTransportTypes=function(h,c,n){for(var i=[],t=0;t<d.length;++t){var s=d[t];v[s].accept(h,c,n)===!0&&i.push(s)}return i},this.negotiateTransport=function(h,c,n,i){for(var t=0;t<d.length;++t)for(var s=d[t],o=0;o<h.length;++o)if(s===h[o]){var r=v[s];if(r.accept(c,n,i)===!0)return r}return null},this.add=function(h,c,n){for(var i=!1,t=0;t<d.length;++t)if(d[t]===h){i=!0;break}return i||(typeof n!="number"?d.push(h):d.splice(n,0,h),v[h]=c),!i},this.find=function(h){for(var c=0;c<d.length;++c)if(d[c]===h)return v[h];return null},this.remove=function(h){for(var c=0;c<d.length;++c)if(d[c]===h){d.splice(c,1);var n=v[h];return delete v[h],n}return null},this.clear=function(){d=[],v={}},this.reset=function(){for(var h=0;h<d.length;++h)v[d[h]].reset()}},E.cometd.Transport=function(){var d,v;this.registered=function(h,c){d=h,v=c},this.unregistered=function(){d=null,v=null},this._debug=function(){v._debug.apply(v,arguments)},this._mixin=function(){return v._mixin.apply(v,arguments)},this.getConfiguration=function(){return v.getConfiguration()},this.getAdvice=function(){return v.getAdvice()},this.setTimeout=function(h,c){return E.cometd.Utils.setTimeout(v,h,c)},this.clearTimeout=function(h){E.cometd.Utils.clearTimeout(h)},this.convertToMessages=function(h){if(E.cometd.Utils.isString(h))try{return E.cometd.JSON.fromJSON(h)}catch(c){throw this._debug("Could not convert to JSON the following string",'"'+h+'"'),c}if(E.cometd.Utils.isArray(h))return h;if(h==null)return[];if(h instanceof Object)return[h];throw"Conversion Error "+h+", typeof "+typeof h},this.accept=function(h,c,n){throw"Abstract"},this.getType=function(){return d},this.send=function(h,c){throw"Abstract"},this.reset=function(){this._debug("Transport",d,"reset")},this.abort=function(){this._debug("Transport",d,"aborted")},this.toString=function(){return this.getType()}},E.cometd.Transport.derive=function(d){function v(){}return v.prototype=d,new v},E.cometd.RequestTransport=function(){var d=new E.cometd.Transport,v=E.cometd.Transport.derive(d),h=0,c=null,n=[],i=[];function t(a){for(;i.length>0;){var p=i[0],f=p[0],g=p[1];if(f.url===a.url&&f.sync===a.sync){i.shift(),a.messages=a.messages.concat(f.messages),this._debug("Coalesced",f.messages.length,"messages from request",g.id);continue}break}}function s(a,p){if(this.transportSend(a,p),p.expired=!1,!a.sync){var f=this.getConfiguration().maxNetworkDelay,g=f;p.metaConnect===!0&&(g+=this.getAdvice().timeout),this._debug("Transport",this.getType(),"waiting at most",g,"ms for the response, maxNetworkDelay",f);var m=this;p.timeout=this.setTimeout(function(){p.expired=!0,p.xhr&&p.xhr.abort();var y="Request "+p.id+" of transport "+m.getType()+" exceeded "+g+" ms max network delay";m._debug(y),m.complete(p,!1,p.metaConnect),a.onFailure(p.xhr,a.messages,"timeout",y)},g)}}function o(a){var p=++h,f={id:p,metaConnect:!1};n.length<this.getConfiguration().maxConnections-1?(n.push(f),s.call(this,a,f)):(this._debug("Transport",this.getType(),"queueing request",p,"envelope",a),i.push([a,f]))}function r(a){var p=a.id;if(this._debug("Transport",this.getType(),"metaConnect complete, request",p),c!==null&&c.id!==p)throw"Longpoll request mismatch, completing request "+p;c=null}function l(a,p){var f=E.cometd.Utils.inArray(a,n);if(f>=0&&n.splice(f,1),i.length>0){var g=i.shift(),m=g[0],y=g[1];if(this._debug("Transport dequeued request",y.id),p)this.getConfiguration().autoBatch&&t.call(this,m),o.call(this,m),this._debug("Transport completed request",a.id,m);else{var C=this;this.setTimeout(function(){C.complete(y,!1,y.metaConnect),m.onFailure(y.xhr,m.messages,"error","Previous request failed")},0)}}}v.complete=function(a,p,f){f?r.call(this,a):l.call(this,a,p)},v.transportSend=function(a,p){throw"Abstract"},v.transportSuccess=function(a,p,f){p.expired||(this.clearTimeout(p.timeout),this.complete(p,!0,p.metaConnect),f&&f.length>0?a.onSuccess(f):a.onFailure(p.xhr,a.messages,"Empty HTTP response"))},v.transportFailure=function(a,p,f,g){p.expired||(this.clearTimeout(p.timeout),this.complete(p,!1,p.metaConnect),a.onFailure(p.xhr,a.messages,f,g))};function u(a){if(c!==null)throw"Concurrent metaConnect requests not allowed, request id="+c.id+" not yet completed";var p=++h;this._debug("Transport",this.getType(),"metaConnect send, request",p,"envelope",a);var f={id:p,metaConnect:!0};s.call(this,a,f),c=f}return v.send=function(a,p){p?u.call(this,a):o.call(this,a)},v.abort=function(){d.abort();for(var a=0;a<n.length;++a){var p=n[a];this._debug("Aborting request",p),p.xhr&&p.xhr.abort()}c&&(this._debug("Aborting metaConnect request",c),c.xhr&&c.xhr.abort()),this.reset()},v.reset=function(){d.reset(),c=null,n=[],i=[]},v},E.cometd.LongPollingTransport=function(){var d=new E.cometd.RequestTransport,v=E.cometd.Transport.derive(d),h=!0;return v.accept=function(c,n,i){return h||!n},v.xhrSend=function(c){throw"Abstract"},v.transportSend=function(c,n){this._debug("Transport",this.getType(),"sending request",n.id,"envelope",c);var i=this;try{var t=!0;n.xhr=this.xhrSend({transport:this,url:c.url,sync:c.sync,headers:this.getConfiguration().requestHeaders,body:E.cometd.JSON.toJSON(c.messages),onSuccess:function(s){i._debug("Transport",i.getType(),"received response",s);var o=!1;try{var r=i.convertToMessages(s);r.length===0?(h=!1,i.transportFailure(c,n,"no response",null)):(o=!0,i.transportSuccess(c,n,r))}catch(l){i._debug(l),o||(h=!1,i.transportFailure(c,n,"bad response",l))}},onError:function(s,o){h=!1,t?i.setTimeout(function(){i.transportFailure(c,n,s,o)},0):i.transportFailure(c,n,s,o)}}),t=!1}catch(s){h=!1,this.setTimeout(function(){i.transportFailure(c,n,"error",s)},0)}},v.reset=function(){d.reset(),h=!0},v},E.cometd.CallbackPollingTransport=function(){var d=new E.cometd.RequestTransport,v=E.cometd.Transport.derive(d),h=2e3;return v.accept=function(c,n,i){return!0},v.jsonpSend=function(c){throw"Abstract"},v.transportSend=function(c,n){for(var i=this,t=0,s=c.messages.length,o=[];s>0;){var r=E.cometd.JSON.toJSON(c.messages.slice(t,t+s)),l=c.url.length+encodeURI(r).length;if(l>h){if(s===1){var u="Bayeux message too big ("+l+" bytes, max is "+h+") for transport "+this.getType();this.setTimeout(function(){i.transportFailure(c,n,"error",u)},0);return}--s;continue}o.push(s),t+=s,s=c.messages.length-t}var a=c;if(o.length>1){var p=0,f=o[0];this._debug("Transport",this.getType(),"split",c.messages.length,"messages into",o.join(" + ")),a=this._mixin(!1,{},c),a.messages=c.messages.slice(p,f),a.onSuccess=c.onSuccess,a.onFailure=c.onFailure;for(var g=1;g<o.length;++g){var m=this._mixin(!1,{},c);p=f,f+=o[g],m.messages=c.messages.slice(p,f),m.onSuccess=c.onSuccess,m.onFailure=c.onFailure,this.send(m,n.metaConnect)}}this._debug("Transport",this.getType(),"sending request",n.id,"envelope",a);try{var y=!0;this.jsonpSend({transport:this,url:a.url,sync:a.sync,headers:this.getConfiguration().requestHeaders,body:E.cometd.JSON.toJSON(a.messages),onSuccess:function(C){var P=!1;try{var D=i.convertToMessages(C);D.length===0?i.transportFailure(a,n,"no response"):(P=!0,i.transportSuccess(a,n,D))}catch(M){i._debug(M),P||i.transportFailure(a,n,"bad response",M)}},onError:function(C,P){y?i.setTimeout(function(){i.transportFailure(a,n,C,P)},0):i.transportFailure(a,n,C,P)}}),y=!1}catch(C){this.setTimeout(function(){i.transportFailure(a,n,"error",C)},0)}},v},E.cometd.WebSocketTransport=function(){var d=new E.cometd.Transport,v=E.cometd.Transport.derive(d),h,c=!0,n=!1,i={},t={},s=null,o=!1,r=!1,l;function u(){var f=h.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",f);var g=this,m=null,y=h.getConfiguration().connectTimeout;y>0&&(m=this.setTimeout(function(){m=null,o||(g._debug("Transport",g.getType(),"timed out while connecting to URL",f,":",y,"ms"),g.onClose(1002,"Connect Timeout"))},y));var C=new E.cometd.WebSocket(f),P=function(){if(g._debug("WebSocket opened",C),m&&(g.clearTimeout(m),m=null),C!==s){g._debug("Ignoring open event, WebSocket",s);return}g.onOpen()},D=function(x){var R=x?x.code:1e3,j=x?x.reason:void 0;if(g._debug("WebSocket closed",R,"/",j,C),m&&(g.clearTimeout(m),m=null),C!==s){g._debug("Ignoring close event, WebSocket",s);return}g.onClose(R,j)},M=function(x){if(g._debug("WebSocket message",x,C),C!==s){g._debug("Ignoring message event, WebSocket",s);return}g.onMessage(x)};C.onopen=P,C.onclose=D,C.onerror=function(){D({code:1002})},C.onmessage=M,s=C,this._debug("Transport",this.getType(),"configured callbacks on",C)}function a(f,g){var m=E.cometd.JSON.toJSON(f.messages);s.send(m),this._debug("Transport",this.getType(),"sent",f,"metaConnect =",g);var y=this.getConfiguration().maxNetworkDelay,C=y;g&&(C+=this.getAdvice().timeout,r=!0);for(var P=[],D=0;D<f.messages.length;++D){var M=f.messages[D];if(M.id){P.push(M.id);var x=this,R=s;t[M.id]=this.setTimeout(function(){R&&R.close(1e3,"Timeout")},C)}}this._debug("Transport",this.getType(),"waiting at most",C,"ms for messages",P,"maxNetworkDelay",y,", timeouts:",t)}function p(f,g){try{s===null?u.call(this):o&&a.call(this,f,g)}catch(y){var m=s;this.setTimeout(function(){f.onFailure(m,f.messages,"error",y)},0)}}return v.onOpen=function(){this._debug("Transport",this.getType(),"opened",s),o=!0,n=!0,this._debug("Sending pending messages",i);for(var f in i){var g=i[f],m=g[0],y=g[1];l=m.onSuccess,a.call(this,m,y)}},v.onMessage=function(f){this._debug("Transport",this.getType(),"received websocket message",f,s);for(var g=!1,m=this.convertToMessages(f.data),y=[],C=0;C<m.length;++C){var P=m[C];if((/^\/meta\//.test(P.channel)||P.data===void 0)&&P.id){y.push(P.id);var D=t[P.id];D&&(this.clearTimeout(D),delete t[P.id],this._debug("Transport",this.getType(),"removed timeout for message",P.id,", timeouts",t))}P.channel==="/meta/connect"&&(r=!1),P.channel==="/meta/disconnect"&&!r&&(g=!0)}for(var M=!1,x=0;x<y.length;++x){var R=y[x];for(var j in i){var w=j.split(","),O=E.cometd.Utils.inArray(R,w);if(O>=0){M=!0,w.splice(O,1);var F=i[j][0],I=i[j][1];delete i[j],w.length>0&&(i[w.join(",")]=[F,I]);break}}}M&&this._debug("Transport",this.getType(),"removed envelope, envelopes",i),l.call(this,m),g&&s.close(1e3,"Disconnect")},v.onClose=function(f,g){this._debug("Transport",this.getType(),"closed",f,g,s),c=n;for(var m in t)this.clearTimeout(t[m]);t={};for(var y in i){var C=i[y][0],P=i[y][1];P&&(r=!1),C.onFailure(s,C.messages,"closed "+f+"/"+g)}i={},s!==null&&o&&s.close(1e3,"Close"),o=!1,s=null},v.registered=function(f,g){d.registered(f,g),h=g},v.accept=function(f,g,m){return c&&!!E.cometd.WebSocket&&h.websocketEnabled!==!1},v.send=function(f,g){this._debug("Transport",this.getType(),"sending",f,"metaConnect =",g);for(var m=[],y=0;y<f.messages.length;++y){var C=f.messages[y];C.id&&m.push(C.id)}i[m.join(",")]=[f,g],this._debug("Transport",this.getType(),"stored envelope, envelopes",i),p.call(this,f,g)},v.abort=function(){if(d.abort(),s!==null)try{s.close(1001)}catch(f){this._debug(f)}this.reset()},v.reset=function(){d.reset(),s!==null&&o&&s.close(1e3,"Reset"),c=!0,n=!1,t={},i={},s=null,o=!1,l=null},v},E.cometd.Cometd=function(d){var v=this,h=d||"default",c=!1,n=new E.cometd.TransportRegistry,i,t="disconnected",s=0,o=null,r=0,l=[],u=!1,a={},p=0,f=null,g=[],m={},y,C={},P=!1,D=!1,M={connectTimeout:0,maxConnections:2,backoffIncrement:1e3,maxBackoff:6e4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1e4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,advice:{timeout:6e4,interval:0,reconnect:"retry"}};this._mixin=function(T,L,W){for(var X=L||{},z=2;z<arguments.length;++z){var G=arguments[z];if(G!=null)for(var Q in G){var $=G[Q],ne=X[Q];if($!==L&&$!==void 0)if(T&&typeof $=="object"&&$!==null)if($ instanceof Array)X[Q]=this._mixin(T,ne instanceof Array?ne:[],$);else{var se=typeof ne=="object"&&!(ne instanceof Array)?ne:{};X[Q]=this._mixin(T,se,$)}else X[Q]=$}}return X};function x(T){return E.cometd.Utils.isString(T)}function R(T){return T==null?!1:typeof T=="function"}function j(T,L){if(window.console){var W=window.console[T];R(W)&&W.apply(window.console,L)}}this._warn=function(){j("warn",arguments)},this._info=function(){M.logLevel!=="warn"&&j("info",arguments)},this._debug=function(){M.logLevel==="debug"&&j("debug",arguments)},this._isCrossDomain=function(T){return T&&T!==window.location.host};function w(T){if(v._debug("Configuring cometd object with",T),x(T)&&(T={url:T}),T||(T={}),M=v._mixin(!1,M,T),!M.url)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var L=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(M.url),W=L[2],X=L[8],z=L[9];if(c=v._isCrossDomain(W),M.appendMessageTypeToURL)if(z!==void 0&&z.length>0)v._info("Appending message type to URI "+X+z+" is not supported, disabling 'appendMessageTypeToURL' configuration"),M.appendMessageTypeToURL=!1;else{var G=X.split("/"),Q=G.length-1;X.match(/\/$/)&&(Q-=1),G[Q].indexOf(".")>=0&&(v._info("Appending message type to URI "+X+" is not supported, disabling 'appendMessageTypeToURL' configuration"),M.appendMessageTypeToURL=!1)}}function O(){for(var T in a)for(var L=a[T],W=L.length-1;W>=0;--W){var X=L[W];X&&!X.listener&&(L.splice(W,1),v._debug("Removed subscription",X,"for channel",T))}}function F(T){t!==T&&(v._debug("Status",t,"->",T),t=T)}function I(){return t==="disconnecting"||t==="disconnected"}function N(){return++s}function U(T,L,W,X,z){try{return L.call(T,X)}catch(Q){v._debug("Exception during execution of extension",W,Q);var G=v.onExtensionException;if(R(G)){v._debug("Invoking extension exception callback",W,Q);try{G.call(v,Q,W,z,X)}catch($){v._info("Exception during execution of exception callback in extension",W,$)}}return X}}function K(T){for(var L=0;L<g.length&&T!=null;++L){var W=M.reverseIncomingExtensions?g.length-1-L:L,X=g[W],z=X.extension.incoming;if(R(z)){var G=U(X.extension,z,X.name,T,!1);T=G===void 0?T:G}}return T}function B(T){for(var L=0;L<g.length&&T!=null;++L){var W=g[L],X=W.extension.outgoing;if(R(X)){var z=U(W.extension,X,W.name,T,!0);T=z===void 0?T:z}}return T}function k(T,L){var W=a[T];if(W&&W.length>0)for(var X=W.length-1;X>=0;--X){var z=W[X];try{z.callback.call(z.scope,L)}catch(Q){v._debug("Exception during notification",z,L,Q);var G=v.onListenerException;if(R(G)){v._debug("Invoking listener exception callback",z,Q);try{G.call(v,Q,z.handle,z.listener,L)}catch($){v._info("Exception during execution of listener callback",z,$)}}}}}function Y(T,L){k(T,L);for(var W=T.split("/"),X=W.length-1,z=X;z>0;--z){var G=W.slice(0,z).join("/")+"/*";z===X&&k(G,L),G+="*",k(G,L)}}function V(){f!==null&&E.cometd.Utils.clearTimeout(f),f=null}function H(T){V();var L=m.interval+p;v._debug("Function scheduled in",L,"ms, interval =",m.interval,"backoff =",p,T),f=E.cometd.Utils.setTimeout(v,T,L)}var J,_;function Z(T,L,W,X){for(var z=0;z<L.length;++z){var G=L[z];G.id=""+N(),o&&(G.clientId=o);var Q=void 0;R(G._callback)&&(Q=G._callback,delete G._callback),G=B(G),G!=null?(L[z]=G,Q&&(C[G.id]=Q)):L.splice(z--,1)}if(L.length!==0){var $=M.url;M.appendMessageTypeToURL&&($.match(/\/$/)||($=$+"/"),X&&($=$+X));var ne={url:$,sync:T,messages:L,onSuccess:function(se){try{J.call(v,se)}catch(ae){v._debug("Exception during handling of messages",ae)}},onFailure:function(se,ae,Be,Ke){try{_.call(v,se,ae,Be,Ke)}catch(He){v._debug("Exception during handling of failure",He)}}};v._debug("Send",ne),i.send(ne,W)}}function q(T){r>0||u===!0?l.push(T):Z(!1,[T],!1)}this.send=q;function ee(){p=0}function te(){p<M.maxBackoff&&(p+=M.backoffIncrement)}function Me(){++r}function ce(){var T=l;l=[],T.length>0&&Z(!1,T,!1)}function Ce(){if(--r,r<0)throw"Calls to startBatch() and endBatch() are not paired";r===0&&!I()&&!u&&ce()}function je(){if(!I()){var T={channel:"/meta/connect",connectionType:i.getType()};D||(T.advice={timeout:0}),F("connecting"),v._debug("Connect sent",T),Z(!1,[T],!0,"connect"),F("connected")}}function re(){F("connecting"),H(function(){je()})}function oe(T){T&&(m=v._mixin(!1,{},M.advice,T),v._debug("New advice",m))}function ie(T){V(),T&&i.abort(),o=null,F("disconnected"),r=0,ee(),l.length>0&&(_.call(v,void 0,l,"error","Disconnected"),l=[])}function le(T){o=null,O(),I()?(n.reset(),oe(M.advice)):oe(v._mixin(!1,m,{reconnect:"retry"})),r=0,u=!0,y=T;var L="1.0",W=n.findTransportTypes(L,c,M.url),X={version:L,minimumVersion:"0.9",channel:"/meta/handshake",supportedConnectionTypes:W,advice:{timeout:m.timeout,interval:m.interval}},z=v._mixin(!1,{},y,X);i=n.negotiateTransport(W,L,c,M.url),v._debug("Initial transport is",i.getType()),F("handshaking"),v._debug("Handshake sent",z),Z(!1,[z],!1,"handshake")}function de(){F("handshaking"),u=!0,H(function(){le(y)})}function ue(T){Y("/meta/handshake",T),Y("/meta/unsuccessful",T);var L=!I()&&m.reconnect!=="none";L?(te(),de()):ie(!1)}function Se(T){if(T.successful){o=T.clientId;var L=n.negotiateTransport(T.supportedConnectionTypes,T.version,c,M.url);if(L===null)throw"Could not negotiate transport with server; client "+n.findTransportTypes(T.version,c,M.url)+", server "+T.supportedConnectionTypes;i!==L&&(v._debug("Transport",i,"->",L),i=L),u=!1,ce(),T.reestablish=P,P=!0,Y("/meta/handshake",T);var W=I()?"none":m.reconnect;switch(W){case"retry":ee(),re();break;case"none":ie(!1);break;default:throw"Unrecognized advice action "+W}}else ue(T)}function De(T,L){ue({successful:!1,failure:!0,channel:"/meta/handshake",request:L,xhr:T,advice:{reconnect:"retry",interval:p}})}function fe(T){Y("/meta/connect",T),Y("/meta/unsuccessful",T);var L=I()?"none":m.reconnect;switch(L){case"retry":re(),te();break;case"handshake":n.reset(),ee(),de();break;case"none":ie(!1);break;default:throw"Unrecognized advice action"+L}}function Te(T){if(D=T.successful,D){Y("/meta/connect",T);var L=I()?"none":m.reconnect;switch(L){case"retry":ee(),re();break;case"none":ie(!1);break;default:throw"Unrecognized advice action "+L}}else fe(T)}function Re(T,L){D=!1,fe({successful:!1,failure:!0,channel:"/meta/connect",request:L,xhr:T,advice:{reconnect:"retry",interval:p}})}function he(T){ie(!0),Y("/meta/disconnect",T),Y("/meta/unsuccessful",T)}function Pe(T){T.successful?(ie(!1),Y("/meta/disconnect",T)):he(T)}function xe(T,L){he({successful:!1,failure:!0,channel:"/meta/disconnect",request:L,xhr:T,advice:{reconnect:"none",interval:0}})}function me(T){Y("/meta/subscribe",T),Y("/meta/unsuccessful",T)}function Ie(T){T.successful?Y("/meta/subscribe",T):me(T)}function Fe(T,L){me({successful:!1,failure:!0,channel:"/meta/subscribe",request:L,xhr:T,advice:{reconnect:"none",interval:0}})}function ge(T){Y("/meta/unsubscribe",T),Y("/meta/unsuccessful",T)}function Ne(T){T.successful?Y("/meta/unsubscribe",T):ge(T)}function we(T,L){ge({successful:!1,failure:!0,channel:"/meta/unsubscribe",request:L,xhr:T,advice:{reconnect:"none",interval:0}})}function pe(T){var L=C[T.id];R(L)&&(delete C[T.id],L.call(v,T))}function ve(T){pe(T),Y("/meta/publish",T),Y("/meta/unsuccessful",T)}function Oe(T){T.successful===void 0?T.data!==void 0&&T.data!==null?Y(T.channel,T):v._debug("Unknown message",T):T.successful?(pe(T),Y("/meta/publish",T)):ve(T)}function Le(T,L){ve({successful:!1,failure:!0,channel:L.channel,request:L,xhr:T,advice:{reconnect:"none",interval:0}})}function Ee(T){if(T=K(T),T!=null){oe(T.advice);var L=T.channel;switch(L){case"/meta/handshake":Se(T);break;case"/meta/connect":Te(T);break;case"/meta/disconnect":Pe(T);break;case"/meta/subscribe":Ie(T);break;case"/meta/unsubscribe":Ne(T);break;default:Oe(T);break}}}this.receive=Ee,J=function(T){v._debug("Received",T);for(var L=0;L<T.length;++L){var W=T[L];Ee(W)}},_=function(T,L,W,X){v._debug("handleFailure",T,L,W,X);for(var z=0;z<L.length;++z){var G=L[z],Q=G.channel;switch(Q){case"/meta/handshake":De(T,G);break;case"/meta/connect":Re(T,G);break;case"/meta/disconnect":xe(T,G);break;case"/meta/subscribe":Fe(T,G);break;case"/meta/unsubscribe":we(T,G);break;default:Le(T,G);break}}};function ye(T){var L=a[T];if(L){for(var W=0;W<L.length;++W)if(L[W])return!0}return!1}function be(T,L){var W={scope:T,method:L};if(R(T))W.scope=void 0,W.method=T;else if(x(L)){if(!T)throw"Invalid scope "+T;if(W.method=T[L],!R(W.method))throw"Invalid callback "+L+" for scope "+T}else if(!R(L))throw"Invalid callback "+L;return W}function Ae(T,L,W,X){var z=be(L,W);v._debug("Adding listener on",T,"with scope",z.scope,"and callback",z.method);var G={channel:T,scope:z.scope,callback:z.method,listener:X},Q=a[T];Q||(Q=[],Q.subscriptionCounter=0,a[T]=Q),Q.push(G);var $=Q.subscriptionCounter;return Q.subscriptionCounter=Q.subscriptionCounter+1,G.id=$,G.handle=[T,$],v._debug("Added listener",G,"for channel",T,"having id =",$),G.handle}function Ue(T,L){for(var W=0;W<T.length;){var X=T[W];if(X.id===L)return W;W=W+1}return-1}function We(T){var L=a[T[0]],W,X;L.length>0&&(W=T[1],X=Ue(L,W),X!==-1&&(L.splice(X,1),v._debug("Removed listener",T)))}this.registerTransport=function(T,L,W){var X=n.add(T,L,W);return X&&(this._debug("Registered transport",T),R(L.registered)&&L.registered(T,this)),X},this.getTransportTypes=function(){return n.getTransportTypes()},this.unregisterTransport=function(T){var L=n.remove(T);return L!==null&&(this._debug("Unregistered transport",T),R(L.unregistered)&&L.unregistered()),L},this.unregisterTransports=function(){n.clear()},this.findTransport=function(T){return n.find(T)},this.configure=function(T){w.call(this,T)},this.init=function(T,L){this.configure(T),this.handshake(L)},this.handshake=function(T){F("disconnected"),P=!1,le(T)},this.disconnect=function(T,L){if(!I()){L===void 0&&typeof T!="boolean"&&(L=T,T=!1);var W={channel:"/meta/disconnect"},X=this._mixin(!1,{},L,W);F("disconnecting"),Z(T===!0,[X],!1,"disconnect")}},this.startBatch=function(){Me()},this.endBatch=function(){Ce()},this.batch=function(T,L){var W=be(T,L);this.startBatch();try{W.method.call(W.scope),this.endBatch()}catch(X){throw this._debug("Exception during execution of batch",X),this.endBatch(),X}},this.addListener=function(T,L,W){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!x(T))throw"Illegal argument type: channel must be a string";return Ae(T,L,W,!0)},this.removeListener=function(T){if(!E.cometd.Utils.isArray(T))throw"Invalid argument: expected subscription, not "+T;We(T)},this.clearListeners=function(){a={}},this.subscribe=function(T,L,W,X){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!x(T))throw"Illegal argument type: channel must be a string";if(I())throw"Illegal state: already disconnected";R(L)&&(X=W,W=L,L=void 0);var z=!ye(T),G=Ae(T,L,W,!1);if(z){var Q={channel:"/meta/subscribe",subscription:T},$=this._mixin(!1,{},X,Q);q($)}return G},this.unsubscribe=function(T,L){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(I())throw"Illegal state: already disconnected";this.removeListener(T);var W=T[0];if(!ye(W)){var X={channel:"/meta/unsubscribe",subscription:W},z=this._mixin(!1,{},L,X);q(z)}},this.clearSubscriptions=function(){O()},this.publish=function(T,L,W,X){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(!x(T))throw"Illegal argument type: channel must be a string";if(I())throw"Illegal state: already disconnected";R(L)?(X=L,L=W={}):R(W)&&(X=W,W={});var z={channel:T,data:L,_callback:X},G=this._mixin(!1,{},W,z);q(G)},this.getStatus=function(){return t},this.isDisconnected=I,this.setBackoffIncrement=function(T){M.backoffIncrement=T},this.getBackoffIncrement=function(){return M.backoffIncrement},this.getBackoffPeriod=function(){return p},this.setLogLevel=function(T){M.logLevel=T},this.registerExtension=function(T,L){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!x(T))throw"Illegal argument type: extension name must be a string";for(var W=!1,X=0;X<g.length;++X){var z=g[X];if(z.name===T){W=!0;break}}return W?(this._info("Could not register extension with name",T,"since another extension with the same name already exists"),!1):(g.push({name:T,extension:L}),this._debug("Registered extension",T),R(L.registered)&&L.registered(T,this),!0)},this.unregisterExtension=function(T){if(!x(T))throw"Illegal argument type: extension name must be a string";for(var L=!1,W=0;W<g.length;++W){var X=g[W];if(X.name===T){g.splice(W,1),L=!0,this._debug("Unregistered extension",T);var z=X.extension;R(z.unregistered)&&z.unregistered();break}}return L},this.getExtension=function(T){for(var L=0;L<g.length;++L){var W=g[L];if(W.name===T)return W.extension}return null},this.getName=function(){return h},this.getClientId=function(){return o},this.getURL=function(){return M.url},this.getTransport=function(){return i},this.getConfiguration=function(){return this._mixin(!0,{},M)},this.getAdvice=function(){return this._mixin(!0,{},m)},E.cometd.WebSocket=window.WebSocket,E.cometd.WebSocket||(E.cometd.WebSocket=window.MozWebSocket)},E.cometd}.call(null,e,S,b),A!==void 0&&(b.exports=A)},"mw-deprecation-utils/deprecation":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/config"]),e(e.dj.r.absMids["mw-log/Log"])],E=e.dj.d(A,function(d,v){var h={deprecated:function(c){var n,i,t=!!d.isDebug||!!window.showDeprecationsAsErrors;t&&this._isConfigValid(c)&&(i=!!window.showDeprecationsAsErrors||c.deprecationLevel===this.ERROR?this.ERROR:this.WARN,n="DEPRECATED: ",c.deprecated&&(n+=c.deprecated.module,c.deprecated.method&&(n+="."+c.deprecated.method+"()"),n+="."),c.replacement&&(n+=" Use "+c.replacement.module,c.replacement.method&&(n+="."+c.replacement.method+"()"),n+=" instead."),c.removalVersion&&(n+=" Will be removed in version: "+c.removalVersion+"."),c.geckNumber&&(n+=" Please use g"+c.geckNumber+" to track latest information regarding this deprecation"),c.additionalInformation&&(n+=" "+c.additionalInformation),v[i](n))},_isConfigValid:function(c){var n=!!c.deprecated&&typeof c.deprecated=="object"&&c.deprecated.hasOwnProperty("module");return c.replacement&&(n=n&&typeof c.replacement=="object"&&c.replacement.hasOwnProperty("module")),c.geckNumber&&(n=n&&typeof c.geckNumber=="number"),n||v.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API"),n}};return Object.defineProperties(h,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}}),h},b,S),b.exports=E},"mw-fctrl/Features":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-messageservice/MessageService"]),e(e.dj.r.absMids["mw-utils/Utils"])],E=e.dj.d(A,function(d,v,h,c,n){return d(null,{_channels:{ADDCB:"/fctrl/addcb",ADDCB_RESPONSE:"/fctrl/response/addcb",RMCB:"/fctrl/rmcb",RMCB_RESPONSE:"/fctrl/response/rmcb",SET:"/fctrl/set",SET_RESPONSE:"/fctrl/response/set"},constructor:function(i=""){c.isStarted()||c.start(),this._mvmID=i,this._uuid=n.generateUuid(),this._counter=0,this._cache={},this._responses={},c.subscribe(this._channels.ADDCB_RESPONSE,"_fctrlCbResponse",this),c.subscribe(this._channels.SET_RESPONSE,"_fctrlSetResponse",this)},destroy:function(){Object.values(this._cache).forEach(i=>{i.destroy()})},getFeature:function(i){const t=new v,s=this._getCache(i),o=this;return s.deferred.then(function(r){t.resolve(o._clone(s.current.value))},function(r){t.reject(o._clone(r.error))}),t},setFeature:function(i,t){const s=new v,o=this._getCache(i),r=this._nextid(),l={id:r,mvm:this._mvmID,name:i,value:t},u=this;return o.deferred.then(function(a){u._responses[r]=function(p){Object.prototype.hasOwnProperty.call(p.data,"error")?s.reject(p.data):s.resolve(p.data)},h.info("assigning feature: "+i+" = "+t),c.publish(u._channels.SET,l)},function(a){s.reject(u._clone(a.error))}),s},addCallback:function(i,t){const s=this._nextid(),o=new v,r=this,l=this._getCache(i);l.deferred.then(function(a){const p=function(){const f={name:r._clone(i),value:r._clone(l.current.value)};t(f)};l.callbacks[s]=p,p()},function(a){o.reject(r._clone(a.error))});const u=d(null,{constructor:function(a){this._func=a},destroy:function(){this._func()},disconnect:function(){const a=this._func;this._func=function(){},a()}});return new u(function(){delete l.callbacks[s]})},_nextid:function(){return++this._counter,JSON.stringify({uuid:this._uuid,counter:this._counter})},_getCache:function(i){if(!Object.prototype.hasOwnProperty.call(this._cache,i)){h.info("accessing feature: "+i);const t=this._nextid(),s=new v,o=this,r={id:t,name:i,mvm:this._mvmID},l={deferred:s,current:void 0,callbacks:{},destroy:function(){c.publish(o._channels.RMCB,r)}};this._cache[i]=l,this._responses[t]=function(u){l.current=u.data,h.info(u.data),h.assert(Object.prototype.hasOwnProperty.call(u.data,"value")||Object.prototype.hasOwnProperty.call(u.data,"error"),"msg.data: "+JSON.stringify(u.data)),s.isFulfilled()||(Object.prototype.hasOwnProperty.call(u.data,"error")?s.reject(u.data):s.resolve(l)),Object.prototype.hasOwnProperty.call(l.current,"value")&&Object.values(l.callbacks).forEach(p=>{p()})},c.publish(this._channels.ADDCB,r)}return this._cache[i]},_fctrlCbResponse:function(i){const t=i.data.id;Object.prototype.hasOwnProperty.call(this._responses,t)&&this._responses[t](i)},_fctrlSetResponse:function(i){const t=i.data.id;if(Object.prototype.hasOwnProperty.call(this._responses,t)){const s=this._responses[t];delete this._responses[t],s(i)}},_clone:function(i){if(i==null||typeof i!="object")return i;{const t={};return Object.entries(i).forEach(s=>{const[o,r]=s;t[o]=this._clone(r)}),t}}})},b,S),b.exports=E},"mw-html-utils/HtmlUtils":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/io-query"]),e(e.dj.r.absMids["mw-html-utils/_parseHtml/sanitize"]),e(e.dj.r.absMids["mw-deprecation-utils/deprecation"])],E=e.dj.d(A,function(d,v,h){return{HYPERLINK_ESCAPE_REGEXP:/<a\s+href\s*=\s*"[^"]*"[^>]*>[\s\S]*?<\/a>/g,HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP:/<a\s+href\s*=\s*"([^"]*)"([^>]*)>([\s\S]*?)<\/a>/g,STRONG_ESCAPE_REGEXP:/<strong>|<\/strong>/g,BOLD_LINK_ATTRIBUTE_REGEX:/\bstyle\s*=\s*"[^"]*\bfont-weight\s*:\s*bold\b[^"]*"/,parseQueryString:function(){var n=window.location.search.substr(1,window.location.search.length);return this._parseQueryString(n)},_parseQueryString:function(n){return d.queryToObject(n)},parseUrl:function(n){var i=document.createElement("a");i.display="none",i.href=n||window.location.href,i.href=i.href;var t={protocol:i.protocol,hostname:i.hostname,port:i.port,pathname:i.pathname,search:i.search,hash:i.hash};return(t.protocol==="https:"||t.protocol==="http:")&&t.pathname.indexOf("/")!==0&&(t.pathname="/"+t.pathname),t.protocol==="https:"&&t.port==="443"&&n.indexOf("https://"+t.hostname+":443")!==0&&(t.port=""),t},escapeHtml:function(n){var i=document.createElement("div");i.textContent=n;var t=i.innerHTML;return t},escapeLinksAndHtml:function(n,i){h.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeLinksAndHtml"},replacement:{module:"mw-html-utils/HtmlUtils",method:"treatHtmlLikeCommandWindow"}});var t="",s=n.split(this.HYPERLINK_ESCAPE_REGEXP),o=n.match(this.HYPERLINK_ESCAPE_REGEXP),r="",l=this,u=0,a=function(f,g,m,y){var C=l.parseUrl(g).protocol;C!=="http:"&&C!=="https:"&&C!=="matlab:"&&(g="#"),g=l.escapeHtml(g),y=l._strongNotEscaped(y,!0),r='<a href="'+g+'">'+y+"</a>"};if(i)t=this.escapeHtml(n),t=this.escapeWhitespace(t);else if(s[0]!==""&&(t=this._strongNotEscaped(s[0],!0)),o!==null&&o.length!==0)for(u=0;u<o.length;u=u+1)o[u].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,a),s[u+1]!==""&&(s[u+1]=this._strongNotEscaped(s[u+1],!0)),t+=r+s[u+1];return t},treatHtmlLikeCommandWindow:function(n,i,t){if(typeof n!="string")return"";var s="",o=n.split(this.HYPERLINK_ESCAPE_REGEXP),r=n.match(this.HYPERLINK_ESCAPE_REGEXP),l="",u=this,a=0;t=t||{};var p=function(g,m,y,C){var P=u.parseUrl(m).protocol,D="";P!=="http:"&&P!=="https:"&&P!=="matlab:"&&(m="#"),m=u.escapeHtml(m),C=u._strongNotEscaped(C,!1),u.BOLD_LINK_ATTRIBUTE_REGEX.test(y)&&(D=' style="font-weight:bold"'),l='<a href="'+m+'"'+D+">"+C+"</a>"};if(i)s=this.escapeHtml(n);else if(o[0]!==""&&(s=this._strongNotEscaped(o[0],!1)),r!==null&&r.length!==0)for(a=0;a<r.length;a=a+1)r[a].replace(this.HYPERLINK_WITH_PARENTHESIS_ESCAPE_REGEXP,p),o[a+1]!==""&&(o[a+1]=this._strongNotEscaped(o[a+1],!1)),s+=l+o[a+1];return t.addPreTagToPreserveWhiteSpace&&(s='<span style="white-space: pre">'+s+"</span>"),s},_strongNotEscaped:function(n,i){var t="",s=n.match(this.STRONG_ESCAPE_REGEXP),o=n.split(this.STRONG_ESCAPE_REGEXP),r=function(a){return a};i&&(r=this.escapeWhitespace);var l=0;if(s!==null&&s.length!==0)for(t=r(this.escapeHtml(o[0])),l=0;l<s.length;l=l+1)t+=s[l]+r(this.escapeHtml(o[l+1]));else t=r(this.escapeHtml(n));return t},escapeWhitespace:function(n){return h.deprecated({deprecated:{module:"mw-html-utils/HtmlUtils",method:"escapeWhitespace"},replacement:{module:"Plain HTML",method:'Set class as white-space: pre or use <span style="white-space: pre">...</span>'}}),n=n||"",n.replace(/\n/g,"<br>").replace(/ {2}/g,"&nbsp;&nbsp;")},handleAnchors:function(n,i){if(i.target.href){i.preventDefault(),i.stopPropagation();var t=i.target.href;if(t.indexOf("matlab:")!==-1){var s=t.substring(0,7);if(s==="matlab:"){var o=i.target.href.substring(7);n(window.unescape(o))}}else window.open(i.target.href)}},isElementOverflown:function(n){return n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth},sanitizeHtmlFromJava:v.sanitizeHtmlFromJava}},b,S),b.exports=E},"mw-html-utils/_parseHtml/sanitize":function(b,S,e){"use strict";var A,E;A=[],E=e.dj.d(A,function(){var d={A:["target","href","title"],ABBR:["title"],ADDRESS:[],AREA:["shape","coords","href","alt"],ARTICLE:[],ASIDE:[],AUDIO:["autoplay","controls","loop","preload","src"],B:[],BDI:["dir"],BDO:["dir"],BIG:[],BLOCKQUOTE:["cite"],BR:[],CAPTION:[],CENTER:[],CITE:[],CODE:[],COL:["align","valign","span","width"],COLGROUP:["align","valign","span","width"],DD:[],DEL:["datetime"],DETAILS:["open"],DIV:[],DL:[],DT:[],EM:[],FONT:["color","size","face"],FOOTER:[],H1:[],H2:[],H3:[],H4:[],H5:[],H6:[],HEADER:[],HR:[],I:[],IMG:["src","alt","title","width","height"],INS:["datetime"],LI:[],MARK:[],NAV:[],OL:[],P:[],PRE:[],S:[],SECTION:[],SMALL:[],SPAN:[],SUB:[],SUP:[],STRONG:[],TABLE:["width","border","align","valign"],TBODY:["align","valign"],TD:["width","rowspan","colspan","align","valign"],TFOOT:["align","valign"],TH:["width","rowspan","colspan","align","valign"],THEAD:["align","valign"],TR:["rowspan","align","valign"],TT:[],U:[],UL:[],VIDEO:["autoplay","controls","loop","preload","src","height","width"]},v={href:{"http:":!0,"https:":!0,"mailto:":!0,"matlab:":!0,relative:{"#":!0,"/":!0}},src:{"http:":!0,"https:":!0,"mailto:":!0,relative:{"#":!0,"/":!0}}},h=["backgroundColor","borderBottom","borderBottomColor","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStyle","borderBottomWidth","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRadius","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderSpacing","borderStyle","borderTop","borderTopColor","borderTopLeftRadius","borderTopRightRadius","borderTopStyle","borderTopWidth","borderWidth","color","fontFamily","fontSize","fontStyle","fontWeight","height","lineHeight","margin","marginBottom","marginLeft","marginRight","marginTop","maxHeight","maxWidth","minHeight","minWidth","overflow","overflowWrap","overflowX","overflowY","padding","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textAnchor","textDecoration","textIndent","textOverflow","textShadow","textTransform","width"],c=function(t,s){var o=s.getAttribute("style");if(t.style&&o!==null&&o!=="")for(var r=0;r<h.length;r+=1){var l=h[r],u=s.style[l];t.style[l]!==void 0&&(t.style[l]=u)}},n=function(t,s,o){return function(r){var l=function(C,P){var D=String.prototype.trim.call(P),M=D.indexOf(":");if(M<0&&C.relative[D.charAt(0)])return D;var x=D.substring(0,M);return C[x+":"]?D:"#"},u=function(C,P){for(var D=[],M=0;M<C.length;M+=1){var x=C[M];if(P.hasAttribute(x)){var R=P.getAttribute(x),j="";s[x]?j=l(s[x],R):j=R,D.push({key:x,value:j})}}return D},a=function(C){var P=void 0;if(C.nodeType===window.Node.ELEMENT_NODE){var D=t[C.tagName];if(D){P=document.createElement(C.tagName);var M=t[C.tagName],x=u(M,C);x.forEach(function(R){P.setAttribute(R.key,R.value)}),o&&c(P,C)}else P=document.createDocumentFragment()}else C.nodeType===window.Node.TEXT_NODE?P=document.createTextNode(C.textContent):P=document.createDocumentFragment();return P},p=function y(C){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,D=document.createDocumentFragment();if(P>150||!C)return D;for(var M=C.firstChild;M;M=M.nextSibling){var x=a(M);M.nodeType===window.Node.ELEMENT_NODE&&x.appendChild(y(M,P+1)),D.appendChild(x)}return D},f=new DOMParser,g=f.parseFromString(r,"text/html"),m=void 0;return g.body?m=p(g.body):m=document.createDocumentFragment(),m}};return{sanitizeHtmlFromJava:n(d,v,!0)}},b,S),b.exports=E},"mw-log/Log":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["mw-log/impl/Modes"]),e(e.dj.r.absMids["mw-log/impl/Levels"]),e(e.dj.r.absMids["mw-log/impl/Backlog"]),e(e.dj.r.absMids["mw-log/util/LogUtils"])],E=e.dj.d(A,function(d,v,h,c){const n="DEFAULT",i=100,t=h.create(i),s={debug:4,log:3,dir:3,table:3,trace:3,time:3,timeEnd:3,group:3,groupCollapsed:3,groupEnd:3,info:2,warn:1,assert:0,error:0};let o={},r=0,l=v.DEBUG,u=d.DEVELOPMENT,a=[],p={};class f{constructor(m){if(p[m]!=null){p[n].error("a logger with the name '"+m+"' already exists - change the name to prevent interference");return}c.makeReadOnlyProperty(this,"name",m),p[this.name]=this,this._timers={},this._threshold=v.DEBUG,this._showTimestamp=!0,c.makeReadOnlyProperty(this,"modes",d),c.makeReadOnlyProperty(this,"levels",v)}static _sanitizeLevel(m){return typeof m=="number"?m:v.DEBUG}static _sanitizeMode(m){return c.objectValues(d).indexOf(m)>-1?m:d.development}get threshold(){return this._threshold}set threshold(m){this._threshold=f._sanitizeLevel(m)}get showTimestamp(){return this._showTimestamp}set showTimestamp(m){this._showTimestamp=!!m}get globalThreshold(){return l}set globalThreshold(m){l=f._sanitizeLevel(m)}get mode(){return u}set mode(m){u=f._sanitizeMode(m)}_shouldLog(m){return l>m&&this._threshold>m}_nameAndTime(){let m=[];return this.name!==n&&m.push(this.name),this._showTimestamp&&m.push(c.currentTimeString()),m}table(m){if(this._shouldLog(s.table)){const y={namespace:this.name,type:"table",message:[m],time:new Date};t.add(y),c.printToConsole("log",this._nameAndTime(),u),c.printToConsole("table",[m],u),c.execCallbacks(o,y)}}trace(){if(this._shouldLog(s.trace)){const m={namespace:this.name,type:"trace",message:null,time:new Date};let C=new Error().stack.split(`
`);for(C[0]==="Error"&&C.shift();C[0].includes("Log.js")||C[0].includes("logger.trace")||C[0]==="trace";)C.shift();C=C.join(`
`),m.message=[C],t.add(m),c.printToConsole("log",this._nameAndTime(),u),c.printToConsole("trace",[],u),c.execCallbacks(o,m)}}time(m){this._shouldLog(s.time)&&(this._timers[m]==null?this._timers[m]=new Date().getTime():this.warn('timer "'+m+'" already exists.'))}timeEnd(m){if(this._shouldLog(s.timeEnd)){const y={namespace:this.name,type:"timeEnd",message:null,time:new Date};if(this._timers[m]!=null){const C=new Date().getTime()-this._timers[m];y.message=[m+": "+C+"ms - timer ended"],t.add(y),c.printToConsole("log",this._nameAndTime().concat(y.message),u),c.execCallbacks(o,y),this._timers[m]=null}else this.warn('timer "'+m+`" doesn't exist.`)}}_group(m,y){if(this._shouldLog(s.group)){const C=y?"groupCollapsed":"group",P={namespace:this.name,type:C,message:[m],time:new Date};a.push(m),t.add(P),c.printToConsole(C,[m],u),c.execCallbacks(o,P)}}groupCollapsed(m){this._group(m,!0)}group(m){this._group(m,!1)}groupEnd(){if(this._shouldLog(s.groupEnd)){const m=a.pop(),y={namespace:this.name,type:"groupEnd",message:[m],time:new Date};t.add(y),c.printToConsole("groupEnd",[],u),c.execCallbacks(o,y)}}assert(m,y){if(this._shouldLog(s.assert)&&!m){const C={namespace:this.name,type:"assert",message:["Assertion failed:",y],time:new Date};t.add(C),C.message.shift();let P=[!1].concat(this._nameAndTime().concat(C.message));c.printToConsole("assert",P,u),c.execCallbacks(o,C)}}_basicLogMethod(m,y,C){if(this._shouldLog(y)){const P={namespace:this.name,type:m,message:C,time:new Date};C=this._nameAndTime().concat(C),t.add(P),c.printToConsole(m,C,u),c.execCallbacks(o,P)}}debug(m){const y=Array.prototype.slice.call(arguments);this._basicLogMethod("debug",s.debug,y)}log(m){const y=Array.prototype.slice.call(arguments);this._basicLogMethod("log",s.log,y)}dir(m){const y=Array.prototype.slice.call(arguments);this._basicLogMethod("dir",s.dir,y)}info(m){const y=Array.prototype.slice.call(arguments);this._basicLogMethod("info",s.info,y)}warn(m){const y=Array.prototype.slice.call(arguments);this._basicLogMethod("warn",s.warn,y)}error(m){const y=Array.prototype.slice.call(arguments);this._basicLogMethod("error",s.error,y)}addCallback(m,y){o[r]=m,y&&t.applyCallback(m);let C={};const P=r;return C.remove=()=>{delete o[P]},r++,C}createLogger(m){const y=new f(m);return y.name?y:p[m]}}return new f(n)},b,S),b.exports=E},"mw-log/impl/Backlog":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["mw-log/util/LogUtils"])],E=e.dj.d(A,function(d){function v(c){let n={},i=[];d.makeReadOnlyProperty(n,"size",c);let t=0;return n.add=function(s){i[t]=s,t=(t+1)%n.size},n.applyCallback=function(s){let o=t+1;i[o]===void 0&&(o=0);let r=0,l=o;for(;r<n.size&&i[l]!==void 0;)s(i[l]),l=(l+1)%c,r++},n}let h={};return h.create=v,h},b,S),b.exports=E},"mw-log/impl/Levels":function(b,S,e){"use strict";var A,E;A=[],E=e.dj.d(A,function(){const d={DEBUG:5,LOG:4,TABLE:4,TIME:4,DIR:4,INFO:3,WARN:2,ASSERT:1,ERROR:1};return Object.freeze(d),d},b,S),b.exports=E},"mw-log/impl/Modes":function(b,S,e){"use strict";var A,E;A=[],E=e.dj.d(A,function(){const d={DEVELOPMENT:"DEVELOPMENT",PRODUCTION:"PRODUCTION"};return Object.freeze(d),d},b,S),b.exports=E},"mw-log/util/LogUtils":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["mw-log/impl/Modes"])],E=e.dj.d(A,function(d){const v={};return v.objectValues=function(h){let c=[];for(let n in h)h.hasOwnProperty(n)&&c.push(h[n]);return c},v.makeReadOnlyProperty=function(h,c,n){Object.defineProperty(h,c,{value:n,writable:!1})},v.execCallbacks=function(h,c){const n=v.objectValues(h);for(let i in n)n[i](c)},v.currentTimeString=function(){const h=new Date;return h.toLocaleTimeString("en-US",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"})+"."+h.getTime()%1e3},v.printToConsole=function(h,c,n){(n!==d.PRODUCTION||h==="error")&&console[h].apply(console,c)},v},b,S),b.exports=E},"mw-messageservice/MessageService":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/createMessageServiceDefaultInstance"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceAsync"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/instanceEnums"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/messageServiceFactory"]),e(e.dj.r.absMids["mw-remote/Remote"])],E=e.dj.d(A,function(d,v,h,c,n){function i(l,u){const a=u._startFunction||u.start,p=u.stop,f=l._startFunction||l.start,g=l.stop,m=function(){f.call(l,[]),a.call(u,[])},y=function(){p.call(u,[]),g.call(l,[])};u._startFunction?u._startFunction=m:u.start=m,l._startFunction?l._startFunction=m:l.start=m,u.stop=y,l.stop=y}const t=d(new v(n,null,null,null,{instanceType:h.MATLAB_SERVICE_HOST.name})),s=new v(n,null,null,null,{instanceType:h.APP_SERVICE_HOST.name});let o;n.enableServerOnWorkerAsync=function(){},n.disableServerOnWorkerAsync=function(){};const r={};return r[h.APP_SERVICE_HOST.name]=()=>(o||(o=d(s),t.isStarted()&&o.start(),i(t,o)),o),r[h.MATLAB_SERVICE_HOST.name]=()=>t,t.create=function(l){return c(r,l)},t},b,S),b.exports=E},"mw-messageservice/messageserviceimpl/MessageServiceAsync":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/config"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/json"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["dojox/cometd/cometd"]),e(e.dj.r.absMids["dojox/cometd/AckExtension"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/transportEnums"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/instanceEnums"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"])],E=e.dj.d(A,function(d,v,h,c,n,i,t,s,o,r,l){const u=i.Utils.setTimeout;i.JSON.toJSON=c.stringify,i.JSON.fromJSON=c.parse;const a=!1;let p=0,f=0;const g={},m=200;setInterval(function(){p+=m,Object.keys(g).forEach(function(D){const M=g[D];M.execTime<=p&&(M.func(),delete g[D])})},m);const y=function(D,M,x,R,j){const w=new i.LongPollingTransport,O=i.Transport.derive(w);O.xhrSend=function(I){let N;return R.remoteSupportsSendPayload?(I.headers=I.headers||{},I.headers.computeToken=R.computeToken,N=j.sendPayload(I.body,R.endPointName,{headers:I.headers})):N=M.sendMessage(I.body,R.url,{headers:I.headers}),N.then(I.onSuccess,function(U){I.onError(U,U)}),{abort:function(){N.cancel()}}};const F=new i.Cometd(D);return i.Utils.setTimeout=function(I,N,U){return U===0?u(I,N,U):(f+=1,g[f]={func:function(){try{N()}catch(K){F._debug("Exception invoking timed function",N,K)}},execTime:p+U},f)},i.Utils.clearTimeout=function(I){delete g[I]},R.remoteSupportsSendPayload?R.endPointAllowsDirectXhr.then(function(I){I.status!=="ENABLED"&&(i.WebSocket=l.WebSocket,l.WebSocket.proxyClient=M)}):(i.WebSocket=l.WebSocket,l.WebSocket.proxyClient=M),F.registerExtension("ack",new t),x[s.WEBSOCKET]&&F.registerTransport(s.WEBSOCKET,new i.WebSocketTransport,0),F.registerTransport(s.LONG_POLLING,O,1),F},C=function(D,M){D.successful?M.resolve(D):(r.warn("Message failed: ",D),M.reject(D))},P=d([],{BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async",logCometdLifecycle:!1,logCometdSubscriptions:!1,constructor:function(D,M,x,R,j){j=j||{},this.remote=D,this.constructCometD=M||y;const w=o[j.instanceType];w&&(this.BASE_PREFIX=w.BASE_PREFIX,this.BASE_END_POINT=w.BASE_END_POINT),this.cometdProperties=R||{connectTimeout:5e3,maxBackoff:1e4,logLevel:"info",maxNetworkDelay:2e4,appendMessageTypeToURL:!1,autoBatch:!0},this._webSocket={try:!0,connectedAtLeastOnce:!1};const O=["maxNetworkDelay","connectTimeout","logLevel"],F=v.cometdProperties;if(F)for(let N=0;N<O.length;N+=1){const U=O[N];F[U]!==void 0&&(this.cometdProperties[U]=F[U])}this.workerProxyAsyncClient=x||new l("remoteWorkerAsyncProducer");const I=this;h.after(this.workerProxyAsyncClient,"onError",function(N){I.cometd&&(I.logCometdLifecycle&&r.info("MessageServiceAsync disconnecting cometd due to IFrame error."),I.cometd.disconnect()),I.onConnectionError(N)},!0),this.subscriptions={},this.recentMessages=[],this._deferredCleanupFunction=function(){I._deferredCleanup=!1,I.recentMessages=[]}},onMessage:function(D){},onConnectionError:function(){},connect:function(){this.routingHost=P.workerHostOverride||this.remote.getWorkerRoutingHost(),this.routingKey=this.remote.getWorkerRoutingKey(),this.computeToken=this.remote.getComputeSessionId();const D=this.remote.getEndPointByName("WORKER_ASYNC_ENDPOINT");this.withCredentials=D?D.withCredentials:!1;const M=this._setUpEndPoint();this.computeToken&&(M.computeToken=this.computeToken),M.remoteSupportsSendPayload||this.workerProxyAsyncClient.setRemotePageHost(this.routingHost,this.routingKey,this.computeToken,"",{withCredentials:this.withCredentials});const x={};P.enableWebsocket&&this._webSocket.try?x.websocket=!0:(x.websocket=!1,this._webSocket.try=!1);const j=this.constructCometD("messageService",this.workerProxyAsyncClient,x,M,this.remote);this.cometd=j,this.logCometdLifecycle&&r.info("MessageServiceAsync constructing new cometd instance.");const w=this._createOneShotMessagePromise("/meta/handshake");this._createListenerForUnknownClient();const O=this,F=new n;return w.then(function(I){O.logCometdLifecycle&&r.info("MessageServiceAsync cometd handshake successful.",I,j.getClientId(),j),j.isDisconnected()?(r.error("MessageServiceAsync cometd handshake successful but still disconnected!"),j.disconnect(),F.reject(I)):(j.getTransport().getType()===s.WEBSOCKET&&(O._webSocket.connectedAtLeastOnce=!0),F.resolve(I))},function(I){if(O.logCometdLifecycle&&r.info("MessageServiceAsync disconnecting cometd due to handshake failure.",I,j.getClientId(),j),j.disconnect(),I.request&&I.request.supportedConnectionTypes){const N=I.request.supportedConnectionTypes;N.length>1&&N[0]===s.WEBSOCKET&&!O._webSocket.connectedAtLeastOnce&&(O._webSocket.try=!1)}F.reject(I)}),this.cometdProperties.url=M.url,j.init(this.cometdProperties),F.promise},disconnect:function(){this.logCometdLifecycle&&r.info("MessageServiceAsync disconnecting cometd due to disconnect call.",this.cometd.getClientId());const D=this._createOneShotMessagePromise("/meta/disconnect");return this.cometd.disconnect(),D},cleanup:function(){this.cometd&&(this.logCometdLifecycle&&r.info("MessageServiceAsync disconnecting cometd due to cleanup call.",this.cometd,this.cometd&&this.cometd.getClientId()),this.cometd.disconnect(),this.cometd=null)},delegateConnected:function(){return this.cometd?!this.cometd.isDisconnected():!1},doPublish:function(D,M){const x=new n;return this.cometd.publish(this._getRequestChannel(D),M,{},function(R){C(R,x)}),x.promise},doSubscribe:function(D){this.logCometdSubscriptions&&r.info("MessageServiceAsync subscribing cometd to channel: "+D);const M=this._createOneShotMessagePromise("/meta/subscribe");return this.subscriptions[D]=this.cometd.subscribe(this._getRequestChannel(D),this,this._handleCometResponse),M},doUnsubscribe:function(D){if(this.subscriptions[D]){this.logCometdSubscriptions&&r.info("MessageServiceAsync unsubscribing cometd from channel: "+D);const M=this._createOneShotMessagePromise("/meta/unsubscribe");return this.cometd.unsubscribe(this.subscriptions[D]),delete this.subscriptions[D],M}else return new n().resolve({successful:!0})},doStartBatch:function(){this.cometd.startBatch()},doEndBatch:function(){this.cometd.endBatch()},doSetLatency:function(D){this.workerProxyAsyncClient.setLatency(D)},doSetErrorRate:function(D){this.workerProxyAsyncClient.setErrorRate(D)},getTransport:function(){return this.cometd&&!this.cometd.isDisconnected()?this.cometd.getTransport().getType():s.UNKNOWN},_handleCometResponse:function(D){this._shouldHandleMessage(D)&&this.onMessage(this._stripBasePrefixAndConvertToJson(D))},_shouldHandleMessage:function(D){return D.id?!1:this.recentMessages.indexOf(D)<0?(this.recentMessages.push(D),this._deferRecentMessagesCleanup(),!0):!1},_deferRecentMessagesCleanup:function(){this._deferredCleanup||(this._deferredCleanup=setTimeout(this._deferredCleanupFunction,0))},_createOneShotMessagePromise:function(D){const M=new n;return this._addOneShotListener(D,function(x){C(x,M)}),M.promise},_addOneShotListener:function(D,M){const x=this,R=this.cometd,j=this.cometd.addListener(D,function(w){R.removeListener(j),M.apply(x,arguments)})},_createListenerForUnknownClient:function(){const D=this.cometd,M=this;D.addListener("/meta/connect",function(x){!x.successful&&x.advice&&x.advice.reconnect==="handshake"&&(D.disconnect(),M.onConnectionError(x.error))})},_setUpEndPoint:function(){let D,M=!1;const x="MESSAGE_SERVICE_ASYNC_ENDPOINT",R=!0,j=!0;let w;return a&&typeof this.remote.sendPayload=="function"?(M=!0,this.remote.createNewEndPoint(x,R,this.BASE_END_POINT,"remoteWorkerAsyncProducer",j),this.remote.setServiceEndPoint(x,this.routingHost,this.routingKey),D=this.remote.getUrlForEndPoint(x),w=this.remote.getEndPointAllowsDirectXhr(x)):(D=this.routingHost||"/",D.slice(-1)!=="/"&&(D+="/"),D+=this.BASE_END_POINT,this.routingKey&&(D+="?routingkey="+this.routingKey)),{remoteSupportsSendPayload:M,url:D,endPointName:x,endPointAllowsDirectXhr:w}},_getRequestChannel:function(D){return this.BASE_PREFIX+D},_stripBasePrefixAndConvertToJson:function(D){return{channel:D.channel.substring(this.BASE_PREFIX.length),data:D.data}}});return P.enableWebsocket=!1,P.workerHostOverride=!1,window.location.search.indexOf("websocket=on")>=0&&(P.enableWebsocket=!0),P},b,S),b.exports=E},"mw-messageservice/messageserviceimpl/MessageServiceBase":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceState"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/transportEnums"])],E=e.dj.d(A,function(d,v,h,c,n,i,t){return d([i],{logSubscriptions:!1,constructor:function(){this.batching=!0,this.typeSerializers=[],this.typeDeserializers={},this.channelSubscriptions={}},setDelegate:function(s){this.inherited("setDelegate",arguments),h.after(this._delegate,"onMessage",v.hitch(this,this.handleMessage),!0)},publish:function(s,o){if(this.isConnected()||this._currentState==="resubscribing"){const r=this._queuePublish(s,this.serialize(o));return this._deferProcessQueue(),r}else return this._queuePublish(s,this.serialize(o))},subscribe:function(s,o,r){if(this.logSubscriptions&&n.info("MessageService subscribe: "+s,o,r),this._addHandler(this.channelSubscriptions,s,o,r),this.isConnected()||this._currentState==="resubscribing"){const l=this._queueSubscribe(s,o,r);return this._deferProcessQueue(),l}else return this._queueSubscribe(s,o,r)},unsubscribe:function(s,o,r){if(this.logSubscriptions&&n.info("MessageService unsubscribe: "+s,o,r),this._removeHandler(this.channelSubscriptions,s,o,r)){if(this._removeQueuedMatchingSubscribe(s,o,r))return new c().resolve();if(this.isConnected()||this._currentState==="resubscribing"){const u=this._queueUnsubscribe(s,o,r);return this._deferProcessQueue(),u}else return new c().resolve()}else return n.error("Not subscribed to channel: "+s+", can't unsubscribe."),new c().reject("Not subscribed to channel: "+s+", can't unsubscribe.")},flush:function(){if(this.isConnected())this._processQueue();else throw new Error("Can only manually flush the queue when connected.")},setLatency:function(s){this._delegate&&this._delegate.doSetLatency&&this._delegate.doSetLatency(s)},setErrorRate:function(s){this._delegate&&this._delegate.doSetErrorRate&&this._delegate.doSetErrorRate(s)},getTransport:function(){return this._delegate&&this._delegate.getTransport?this._delegate.getTransport():t.UNKNOWN},_enterDisconnected:function(){this.inherited("_enterDisconnected",arguments),this._queuedOps=[]},_enterConnecting:function(){this.inherited("_enterConnecting",arguments),Object.keys(this.channelSubscriptions).forEach(function(s){s.subscribed=!1})},_enterConnected:function(){this.inherited("_enterConnected",arguments),this._processQueue()},_enterDisconnecting:function(){this._processQueue(),this.inherited("_enterDisconnecting",arguments)},_queuePublish:function(s,o){const r=new c;return this._queuedOps.push({type:"publish",channel:s,data:o,deferred:r}),r.promise},_queueSubscribe:function(s,o,r){const l=new c;return this._queuedOps.push({type:"subscribe",channel:s,handler:o,scope:r,deferred:l}),l.promise},_removeQueuedMatchingSubscribe:function(s,o,r){let l;for(let u=this._queuedOps.length-1;u>=0;u-=1)if(l=this._queuedOps[u],l.type==="subscribe"&&l.channel===s&&l.handler===o&&l.scope===r){this._queuedOps.splice(u,1);const a=this._delegate&&this._delegate.delegateConnected();return this.isConnected()&&a&&l.deferred.resolve(),!0}},_queueUnsubscribe:function(s,o,r){const l=new c;return this._queuedOps.push({type:"unsubscribe",channel:s,handler:o,scope:r,deferred:l}),l.promise},_processQueue:function(){const s=this._delegate&&this._delegate.delegateConnected();if(!(this.isConnected()&&s)&&this._currentState!=="disconnecting")return;this._delegate.doStartBatch();const r=this._queuedOps;this._queuedOps=[],r.forEach(function(l){let u;l.type==="publish"?u=this._delegate.doPublish(l.channel,l.data):l.type==="subscribe"?u=this._doSubscribe(l.channel,l.handler,l.scope):l.type==="unsubscribe"&&(u=this._doUnsubscribe(l.channel,l.handler,l.scope)),u.then(l.deferred.resolve,l.deferred.reject)},this),this._delegate.doEndBatch()},_deferProcessQueue:function(){if(this.batching&&!this._deferredTimeout){const s=this;this._deferredTimeout=setTimeout(function(){s._deferredTimeout=!1,s._processQueue()},0)}else this.batching||this._processQueue()},_doSubscribe:function(s){if(this.channelSubscriptions[s].subscribed)return new c().resolve();{const o=this._delegate.doSubscribe(s);return this.channelSubscriptions[s].subscribed=!0,o}},_doUnsubscribe:function(s){return this.channelSubscriptions[s]?new c().resolve():this._delegate.doUnsubscribe(s)},handleMessage:function(s){let o;if(s&&s.channel){s.data&&(s.data=this.deserialize(s.data));const r=s.channel.split("/");for(o=1;o<=r.length;o+=1)this._callHandlers(this.channelSubscriptions,r.slice(0,o).concat("**").join("/"),s);this._callHandlers(this.channelSubscriptions,r.slice(0,r.length-1).concat("*").join("/"),s),this._callHandlers(this.channelSubscriptions,r.concat("*").join("/"),s),this._callHandlers(this.channelSubscriptions,s.channel,s)}},registerMessageHandler:function(s,o,r){n.error("registerMessageHandler is not supported any more.")},deregisterMessageHandler:function(s,o,r){n.error("deregisterMessageHandler is not supported any more.")},registerTypeSerializer:function(s,o,r){this.typeSerializers.push({typeMatcher:s,type:o,serializer:r})},registerTypeDeserializer:function(s,o){this.typeDeserializers[s]=o},serialize:function(s){return v.isArray(s)?this._serializeArray(s):s instanceof Number||s instanceof Boolean||v.isString(s)?s:this._serializeObject(s)},deserialize:function(s){return v.isArray(s)?this._deserializeArray(s):s instanceof Number||s instanceof Boolean||v.isString(s)?s:this._deserializeObject(s)},_addHandler:function(s,o,r,l){if(l=l||this,typeof r=="string"&&typeof l[r]!="function"){n.warn("Not adding invalid handler: "+r);return}let u=s[o];u||(u=[],s[o]=u);const a={channel:o,handler:r,scope:l};u.push(a),u.sort(function(p){return p.exclusive?-1:0})},_removeHandler:function(s,o,r,l){l=l||this;const u=s[o],a=this._getHandlerIndex(u,{handler:r,scope:l});return a>=0&&u.splice(a,1),(!u||u.length===0)&&delete s[o],a>=0},_callHandlers:function(s,o,r){let l,u;if(Object.prototype.hasOwnProperty.call(s,o))for(l=s[o],u=0;u<l.length;u+=1)try{typeof l[u].handler=="string"?l[u].scope[l[u].handler].call(l[u].scope,r):l[u].handler.call(l[u].scope,r)}catch(a){const p=2;n.error("Error while executing message handler on channel: "+o+", message: "+JSON.stringify(r,null,p)+", error: ",a)}},_getHandlerIndex:function(s,o){if(!s)return-1;let r;for(r=0;r<s.length;r+=1)if(o.handler===s[r].handler&&o.scope===s[r].scope)return r;return-1},_serializeObject:function(s){let o,r;for(r=0;r<this.typeSerializers.length;r+=1){const l=this.typeSerializers[r];if(l.typeMatcher(s))return{__type__:l.type,__value__:l.serializer.call(this,s)}}if(s instanceof window.Image)return s;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(s[o]=this.serialize(s[o]));return s},_serializeArray:function(s){let o;const r=s.length;for(o=0;o<r;o+=1)s[o]=this.serialize(s[o]);return s},_deserializeObject:function(s){let o;if(s==null)return null;if(Object.prototype.hasOwnProperty.call(s,"__type__")&&Object.prototype.hasOwnProperty.call(s,"__value__"))try{return this.typeDeserializers[s.__type__].call(this,s.__value__)}catch(r){n.error("Error while trying to deserialize: ",s,"Error: ",r)}for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&s[o]!==null&&s[o]!==void 0&&(s[o]=this.deserialize(s[o]));return s},_deserializeArray:function(s){let o;const r=s.length;for(o=0;o<r;o+=1)s[o]=this.deserialize(s[o]);return s}})},b,S),b.exports=E},"mw-messageservice/messageserviceimpl/MessageServiceState":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/Evented"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/promise/all"]),e(e.dj.r.absMids["mw-statemachine/StateMachine"]),e(e.dj.r.absMids["mw-log/Log"])],E=e.dj.d(A,function(d,v,h,c,n,i,t){return d([v],{_MAX_RETRIES:30,logStateChanges:!1,constructor:function(){this._stateOptions={context:this,name:"WraDataService",namespace:"MOTW.wra",defaultSubstate:"disconnected",substates:{disconnected:{transitions:{onEnterState:this._enterDisconnected,start:"connecting"}},connecting:{transitions:{onEnterState:this._enterConnecting,_connectSuccess:"resubscribing",_connectFailure:"reconnecting",stop:"disconnected"}},reconnecting:{transitions:{onEnterState:this._enterReconnecting,_connectSuccess:"resubscribing",_connectFailure:[this._retryFailure,"retryDelay"],stop:"disconnected"}},retryDelay:{transitions:{"timeout 2":"reconnecting",_reconnect:"reconnecting",stop:"disconnected"}},resubscribing:{transitions:{onEnterState:this._enterResubscribing,_resubscribeSuccess:"connected",_resubscribeFailure:"reconnecting",stop:"disconnecting"}},connected:{transitions:{onEnterState:this._enterConnected,_reconnect:"reconnecting",stop:"disconnecting"}},disconnecting:{transitions:{onEnterState:this._enterDisconnecting,_disconnectSuccess:"disconnected",_disconnectFailure:"disconnected","timeout 2":"disconnected"}},fatallyDisconnected:{transitions:{onEnterState:this._enterFatallyDisconnected,stop:"disconnected"}}}}},setDelegate:function(s){if(this._delegate!==s){this._delegate=s;const o=this;c.after(s,"onConnectionError",function(){t.warn("MessageService received connection error, reconnecting"),o._reconnect()},!0),this._states=new i(this._stateOptions),c.after(this._states,"onEnterState",h.hitch(this,this._enterState),!0),this._states.start()}},onConnected:function(){this.emit("connected")},onNewlyConnected:function(){},onDisconnected:function(){this.emit("disconnected")},onReconnected:function(){this.emit("reconnected")},onFatallyDisconnected:function(){this.emit("fatallyDisconnected")},onNotConnected:function(){this.emit("notConnected")},isStarted:function(){return this._currentState!=="disconnecting"&&this._currentState!=="disconnected"},isConnected:function(){return this._currentState==="connected"},isFatallyDisconnected:function(){return this._currentState==="fatallyDisconnected"},isDisconnected:function(){return this._currentState==="disconnected"},start:function(){},stop:function(){},_enterState:function(s){const o=this._currentState;this._currentState=s,this.logStateChanges&&t.info("MessageService state change: "+o+" -> "+s),o==="connected"&&this.onNotConnected(),s==="connected"&&this._previouslyConnected?this.onReconnected():s==="connected"&&!this._previouslyConnected&&this.onNewlyConnected()},_enterDisconnected:function(){this._previouslyConnected=!1,this._delegate.cleanup(),this.onDisconnected()},_enterConnecting:function(){this._retryCount=0,this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_enterReconnecting:function(){this._retryCount+=1,t.info("Reconnecting message service. Attempt "+this._retryCount,arguments),this._delegate.cleanup(),this._delegate.connect().then(this._connectSuccess,this._connectFailure)},_reconnect:function(){},_connectSuccess:function(){},_connectFailure:function(){},_timeoutAction:function(){this.logStateChanges&&t.info("MessageService timeout:",arguments)},_retryFailure:function(){let s;return this._retryCount>=this._MAX_RETRIES&&(t.error("Message service fatally disconnected."),s="fatallyDisconnected"),s},_enterResubscribing:function(){let s,o;const r=[];this._delegate.doStartBatch();for(s in this.channelSubscriptions)Object.prototype.hasOwnProperty.call(this.channelSubscriptions,s)&&(o=this.channelSubscriptions[s],r.push(this._delegate.doSubscribe(s)),o.subscribed=!0);this._delegate.doEndBatch(),n(r).then(this._resubscribeSuccess,this._resubscribeFailure)},_resubscribeSuccess:function(){},_resubscribeFailure:function(){},_enterConnected:function(){this._delegate.delegateConnected()?(this._retryCount=0,this._previouslyConnected&&t.info("Successfully connected."),this._previouslyConnected=!0,this.onConnected()):this._reconnect()},_enterFatallyDisconnected:function(){this.onFatallyDisconnected()},_enterDisconnecting:function(){this._delegate.disconnect().then(this._disconnectSuccess,this._disconnectFailure)},_disconnectSuccess:function(){},_disconnectFailure:function(){}})},b,S),b.exports=E},"mw-messageservice/messageserviceimpl/createMessageServiceDefaultInstance":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/MessageServiceBase"])],E=e.dj.d(A,function(d,v,h,c){return function(i){const t=new c,s={messageService:t,subscribe:d.hitch(t,"subscribe"),unsubscribe:d.hitch(t,"unsubscribe"),publish:d.hitch(t,"publish"),start:d.hitch(t,"start"),stop:d.hitch(t,"stop"),isRunning:d.hitch(t,"isStarted"),isStarted:d.hitch(t,"isStarted"),isConnected:d.hitch(t,"isConnected"),isFatallyDisconnected:d.hitch(t,"isFatallyDisconnected"),isDisconnected:d.hitch(t,"isDisconnected"),setLatency:d.hitch(t,"setLatency"),setErrorRate:d.hitch(t,"setErrorRate"),getTransport:d.hitch(t,"getTransport"),onConnected:function(){},onDisconnected:function(){},onReconnected:function(){},onFatallyDisconnected:function(){},onNotConnected:function(){},on:function(o,r){return h(this.messageService,o,r)},handleMessage:d.hitch(t,"handleMessage"),internalMotwDisableStart:function(){this._startFunction=this.start,this.start=function(){}},internalMotwEnableStart:function(){this._startFunction&&(this.start=this._startFunction,this._startFunction=null)}};return v.after(t,"onConnected",d.hitch(s,"onConnected"),!0),v.after(t,"onDisconnected",d.hitch(s,"onDisconnected"),!0),v.after(t,"onReconnected",d.hitch(s,"onReconnected"),!0),v.after(t,"onFatallyDisconnected",d.hitch(s,"onFatallyDisconnected"),!0),v.after(t,"onNotConnected",d.hitch(s,"onNotConnected"),!0),t.setDelegate(i),s}},b,S),b.exports=E},"mw-messageservice/messageserviceimpl/instanceEnums":function(b,S,e){var A,E;A=[],E=e.dj.d(A,function(){return{APP_SERVICE_HOST:{name:"APP_SERVICE_HOST",BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async/blue"},MATLAB_SERVICE_HOST:{name:"MATLAB_SERVICE_HOST",BASE_PREFIX:"/matlab",BASE_END_POINT:"messageservice/async"}}},b,S),b.exports=E},"mw-messageservice/messageserviceimpl/messageServiceFactory":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["mw-messageservice/messageserviceimpl/instanceEnums"])],E=e.dj.d(A,function(d){const v=/AppServiceHost/i,h=n=>n.serviceName.match(v)!==null,c=(n,i)=>h(i)?n[d.APP_SERVICE_HOST.name]():n[d.MATLAB_SERVICE_HOST.name]();return function(i,t){if(t.serviceName){if(!t.serviceName.length||t.serviceName.length<5)throw new Error("serviceName must be longer than 4 characters")}else throw new Error("Must provide a serviceName");const s=c(i,t),o={};return["subscribe","unsubscribe","publish","isStarted","isConnected","isFatallyDisconnected","isDisconnected","setLatency","setErrorRate","getTransport","on","onConnected","onDisconnected"].forEach(r=>{o[r]=s[r].bind(s)}),o.messageService=s.messageService,o}},b,S),b.exports=E},"mw-messageservice/messageserviceimpl/transportEnums":function(b,S,e){var A,E;A=[],E=e.dj.d(A,function(){return{UNKNOWN:"unknown",LONG_POLLING:"long-polling",WEBSOCKET:"websocket"}},b,S),b.exports=E},"mw-mvm/CapabilitiesList":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["mw-mvm/Capability"])],E=e.dj.d(A,function(d){return{capabilityFullList:[d.InteractiveCommandLine,d.Swing,d.ComplexSwing,d.LocalClient,d.WebWindow,d.ModalDialogs,d.Debugging],getFullCapabilitiesList:function(){return this.capabilityFullList.slice()},getCapabilitiesListDiff:function(h,c){var n=h.filter(function(i){return c.indexOf(i)<0});return n}}},b,S),b.exports=E},"mw-mvm/Capability":function(b,S,e){"use strict";var A,E;A=[],E=e.dj.d(A,function(){var d={};return d.InteractiveCommandLine="InteractiveCommandLine",d.Swing="Swing",d.ComplexSwing="ComplexSwing",d.LocalClient="LocalClient",d.WebWindow="WebWindow",d.ModalDialogs="ModalDialogs",d.Debugging="Debugging",d},b,S),b.exports=E},"mw-mvm/RunOptions":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/CapabilitiesList"]),e(e.dj.r.absMids["mw-mvm/WhenToDequeue"])],E=e.dj.d(A,function(d,v,h){return d(null,{constructor:function(n){typeof n!="object"?this._timeout=n:(this._timeout=n.timeout,this.dequeueMode=n.dequeueMode,this.queueName=n.queueName,this.disableBreakPoints=n.disableBreakpoints,n.capabilitiesList!==void 0&&(this.capabilitiesList=n.capabilitiesList.slice()),n.groupNames!==void 0&&(this.groupNames=n.groupNames.slice()),n.outTextCallback!==void 0&&this.setOutTextCallback(n.outTextCallback),n.errTextCallback!==void 0&&this.setErrTextCallback(n.errTextCallback),n.suppressDebugControlOutput!==void 0&&(this.suppressDebugControlOutput=n.suppressDebugControlOutput),n.outSinkTraits&&(this.outSinkTraits=n.outSinkTraits),n.errSinkTraits&&(this.errSinkTraits=n.errSinkTraits),n.commandWindowColSize&&(this.commandWindowColSize=n.commandWindowColSize),n.commandWindowRowSize&&(this.commandWindowRowSize=n.commandWindowRowSize)),this.eventNames=[],this._eventCallbackMap={}},getTimeOut:function(){return this._timeout},setTimeOut:function(n){this.timeout=n},setDequeueMode:function(n){this.dequeueMode=n},getDequeueMode:function(){return this.dequeueMode},setQueueName:function(n){this.queueName=n},getQueueName:function(){return this.queueName},disableBreakpoints:function(n){this.disableBreakPoints=n},areBreakPointsDisabled:function(){return this.disableBreakPoints},setCallback:function(n,i){this.eventNames.push(n),this._eventCallbackMap[n]=i},getEventCallbacks:function(){return this._eventCallbackMap},getCapabilitiesList:function(){if(this.capabilitiesList!==void 0)return this.capabilitiesList.slice()},setCapabilities:function(n){n?this.capabilitiesList=n.slice():this.capabilitiesList=[]},getGroupNames:function(){if(this.groupNames!==void 0)return this.groupNames.slice()},setGroupNames:function(n){n?this.groupNames=n.slice():this.groupNames=void 0},getCommandWindowColSize:function(){return this.commandWindowColSize},setCommandWindowColSize:function(n){this.commandWindowColSize=n},getCommandWindowRowSize:function(){return this.commandWindowRowSize},setCommandWindowRowSize:function(n){this.commandWindowRowSize=n},setOutTextCallback:function(n,i){this.outSink=n,this.outSinkTraits=i,this.outSink===null?this.useNullOutSink=!0:this.useNullOutSink=!1},setErrTextCallback:function(n,i){this.errSink=n,this.errSinkTraits=i,this.errSink===null?this.useNullErrSink=!0:this.useNullErrSink=!1},getOutTextCallback:function(){if(this.outSink!==void 0)return this.outSink},getErrTextCallback:function(){if(this.errSink!==void 0)return this.errSink},setSuppressDebugControlOutput:function(n){this.suppressDebugControlOutput=n},getSuppressDebugControlOutput:function(){return this.suppressDebugControlOutput},getOutSinkTraits:function(){return this.outSinkTraits},getErrSinkTraits:function(){return this.errSinkTraits},_serializeAndVerifyRunOptions:function(){var n={},i={};if(this.dequeueMode){var t=Object.keys(h).some(function(u){return h[u]===this.dequeueMode}.bind(this));if(!t)return n.error="Unknown Dequeue Mode "+this.dequeueMode,n;i.dequeueMode=this.dequeueMode}if(this.queueName)if(typeof this.queueName=="string"||this.queueName instanceof String)i.queueName=this.queueName;else return n.error="Invalid QueueName",n;if(this.capabilitiesList!==void 0){if(Array.isArray(this.capabilitiesList)){var s=v.getFullCapabilitiesList(),o=this.capabilitiesList.some(function(u){return s.indexOf(u)===-1});if(o)return n.error="Undefined Capability",n}else return n.error="Invalid Capability",n;i.capabilitiesList=this.capabilitiesList.slice()}if(this.outSink!==void 0&&(this.outSink===null?i.useNullOutSink=!0:typeof this.outSink=="function"||this.outSink instanceof Function?i.useNullOutSink=!1:n.error="Invalid outTextCallback"),this.errSink!==void 0&&(this.errSink===null?i.useNullErrSink=!0:typeof this.errSink=="function"||this.errSink instanceof Function?i.useNullErrSink=!1:n.error="Invalid errTextCallback"),this.groupNames!==void 0)if(Array.isArray(this.groupNames)){var r=this.groupNames.every(function(u){return typeof u=="string"||u instanceof String});if(r===!1)return n.error="Invalid groupNames",n;i.groupNames=this.groupNames.slice()}else return n.error="Invalid groupNames",n;if(this._eventCallbackMap!==void 0){var l=Object.keys(this._eventCallbackMap).every(function(u){return typeof this._eventCallbackMap[u]=="function"||this._eventCallbackMap[u]instanceof Function}.bind(this));if(l===!1)return n.error="Invalid setCallback",n}if(this.suppressDebugControlOutput)if(typeof this.suppressDebugControlOutput=="boolean"||this.suppressDebugControlOutput instanceof Boolean)i.suppressDebugControlOutput=this.suppressDebugControlOutput;else return n.error="Invalid suppressDebugControlOutput",n;if(this.errSinkTraits!==void 0&&(i.errSinkTraits=this.errSinkTraits),this.outSinkTraits!==void 0&&(i.outSinkTraits=this.outSinkTraits),this.commandWindowColSize!==void 0)if((typeof this.commandWindowColSize=="number"||this.commandWindowColSize instanceof Number)&&this.commandWindowColSize>=0&&Number.isInteger(this.commandWindowColSize))i.commandWindowColSize=this.commandWindowColSize;else return n.error="Invalid commandWindowColSize",n;if(this.commandWindowRowSize!==void 0)if((typeof this.commandWindowRowSize=="number"||this.commandWindowRowSize instanceof Number)&&this.commandWindowRowSize>=0&&Number.isInteger(this.commandWindowRowSize))i.commandWindowRowSize=this.commandWindowRowSize;else return n.error="Invalid commandWindowRowSize",n;return n.runOptions=i,n}})},b,S),b.exports=E},"mw-mvm/UserMvm":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["mw-mvm/impl/MVM"])],E=e.dj.d(A,function(d){return{getMVM:function(){return d.get("user-mvm")}}},b,S),b.exports=E},"mw-mvm/WhenToDequeue":function(b,S,e){"use strict";var A,E;A=[],E=e.dj.d(A,function(){let d={};return d.DEQUEUE_AT_PPE="DEQUEUE_AT_PPE",d.DEQUEUE_AT_PAUSE="DEQUEUE_AT_PAUSE",d.DEQUEUE_AT_PROMPT="DEQUEUE_AT_PROMPT",d.DEQUEUE_AT_NON_DEBUG_PROMPT="DEQUEUE_AT_NON_DEBUG_PROMPT",d.DEQUEUE_AT_DEBUG_PROMPT="DEQUEUE_AT_DEBUG_PROMPT",d.DEQUEUE_AT_IDLE="DEQUEUE_AT_IDLE",d.DEQUEUE_AT_BOOTSTRAP="DEQUEUE_AT_BOOTSTRAP",d},b,S),b.exports=E},"mw-mvm/impl/AttachDetach":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/ConnectionData"]),e(e.dj.r.absMids["mw-mvm/impl/MVMConnection"])],E=e.dj.d(A,function(d,v,h){return d(null,{constructor:function(c,n){const i={mvmID:n,supportedApiVersions:["r22b0"]},t=new v(c,Promise.resolve("/mvm"));this._attachConnection=new h(t,"attach"),this._detachConnection=new h(t,"detach"),this._attachPromise=this._attachConnection.makeRequest(i).then(function(o){this._apiVersion=o.apiVersion,this._channelPrefix=o.channelPrefix}.bind(this)),this._attachRequestID=i.requestID;const s=new v(c,this.getChannelPrefix());this._stillAliveConnection=new h(s,"connection"),this._stillAliveConnection.subscribe("stillAlive","_stillAlive",this).catch(function(o){this.getChannelPrefix().then(function(){throw o},function(r){if(r!==o)throw o})}.bind(this))},destroy:function(){const c={requestIDtoDetach:this._attachRequestID};this._detachConnection.makeRequest(c).finally(function(){this._attachConnection.destroy(),this._detachConnection.destroy(),this._stillAliveConnection.destroy()}.bind(this))},getAPIVersion:function(){return this._attachPromise.then(function(){return this._apiVersion}.bind(this))},getChannelPrefix:function(){return this._attachPromise.then(function(){return this._channelPrefix}.bind(this))},_stillAlive:function(){}})},b,S),b.exports=E},"mw-mvm/impl/Bang":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["mw-mvm/RunOptions"])],E=e.dj.d(A,function(d){return class{constructor(h){this._mvm=h}process(h){return this._mvm.feval("matlab.internal.singlekeypress.bang.process",0,[h],new d({queueName:"SingleKeyPress"}))}}},b,S),b.exports=E},"mw-mvm/impl/Connection":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"])],E=e.dj.d(A,function(d){return d(null,{constructor:function(v,h,c){this._subscriptionPromise=v,this._subscriptionPromise.catch(function(){}),this._uId=h,this._eventMgr=c},destroy:function(){this.disconnect()},isValid:function(){return this._eventMgr._isConnected(this._uId)?this._subscriptionPromise:Promise.reject("Disconnected")},disconnect:function(){return this._eventMgr._disconnect(this._uId)}})},b,S),b.exports=E},"mw-mvm/impl/ConnectionData":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["mw-log/Log"])],E=e.dj.d(A,function(d){return class{constructor(h,c){d.assert(h!==void 0,"messageService must be defined"),d.assert(c!==void 0,"channelPrefixPromise must be defined"),d.assert(c.then!==void 0,"channelPrefixPromise must be a promise"),this._messageService=h,this._channelPrefixPromise=c,this._requestPromise=this._channelPrefixPromise}onChannelPrefix(){return this._channelPrefixPromise}queueRequest(h,c,n){let i=[this._requestPromise,this._channelPrefixPromise];h&&Symbol.iterator in h&&i.push(...h),this._requestPromise=Promise.all(i).then(c,function(t){n&&n(t)})}getMessageService(){return this._messageService}}},b,S),b.exports=E},"mw-mvm/impl/Debugger":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/MVMConnection"])],E=e.dj.d(A,function(d,v){return d(null,{constructor:function(h){this._setGlobalBreakpointConnection=new v(h,"setGlobalBreakpoint"),this._clearGlobalBreakpointConnection=new v(h,"clearGlobalBreakpoint"),this._setLineBreakpointConnection=new v(h,"setLineBreakpoint"),this._clearLineBreakpointConnection=new v(h,"clearLineBreakpoint"),this._clearAllBreakpointsConnection=new v(h,"clearAllBreakpoints"),this._breakInDebuggerConnection=new v(h,"breakInDebugger")},setLineBreakpoint:function(h){const c={breakpoint:h};return this._setLineBreakpointConnection.makeRequest(c)},setGlobalBreakpoint:function(h){const c={breakpoint:h};return this._setGlobalBreakpointConnection.makeRequest(c)},clearLineBreakpoint:function(h){const c={breakpoint:h};return this._clearLineBreakpointConnection.makeRequest(c)},clearGlobalBreakpoint:function(h){const c={breakpoint:h};return this._clearGlobalBreakpointConnection.makeRequest(c)},clearAllBreakpoints:function(){const h={};return this._clearAllBreakpointsConnection.makeRequest(h)},breakInDebugger:function(){const h={};this._breakInDebuggerConnection.makeRequest(h)},destroy:function(){this._setGlobalBreakpointConnection.destroy(),this._clearGlobalBreakpointConnection.destroy(),this._setLineBreakpointConnection.destroy(),this._clearLineBreakpointConnection.destroy(),this._clearAllBreakpointsConnection.destroy(),this._breakInDebuggerConnection.destroy()}})},b,S),b.exports=E},"mw-mvm/impl/EvalFevalCancel":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["mw-mvm/impl/MVMConnection"]),e(e.dj.r.absMids["mw-mvm/impl/RuntimeException"])],E=e.dj.d(A,function(d,v,h,c){return d(null,{constructor:function(n,i){this._fevalConnection=new h(n,"feval"),this._evalConnection=new h(n,"eval"),this._cancelConnection=new h(n,"cancel"),this._cancelGroupConnection=new h(n,"cancelGroup"),this._interruptConnection=new h(n,"interrupt"),this._textConnection=new h(n,"text"),this._textConnection.subscribe("output","_handleOutput",this).catch(function(t){}),this._textConnection.subscribe("error","_handleError",this).catch(function(t){}),this._eventMgr=i,this._outSinkMap={},this._errSinkMap={}},feval:function(n,i,t,s){if(!this._isFunctionNameValid(n)){const l=new v;return l.reject(new c("inCOMPILE_ERROR","Invalid function name.",1)),l}if(i==null||!(typeof i=="number"||i instanceof Number)||i<0){const l=new v;return l.reject(new c("inCOMPILE_ERROR","Invalid numberOfOutput.",1)),l}let o=[];if(t!==void 0){if(!Array.isArray(t)){const l=new v;return l.reject(new c("inCOMPILE_ERROR","Invalid inputArgs",1)),l}o=t.map(function(l){return JSON.stringify(l)})}const r={function:n,rhsArgs:o,numOutputsExpected:i};return this._commonEvalFevalImpl(s,r,this._fevalConnection)},eval:function(n,i,t){if(!this._isFunctionNameValid(n)){const o=new v;return o.reject(new c("inCOMPILE_ERROR","Invalid function name.",1)),o}const s={command:n,isUserEval:t};return this._commonEvalFevalImpl(i,s,this._evalConnection)},cancelGroup:function(n,i){let t={requestGroupNametoCancel:n};return i!==void 0&&(t.interrupt=i),this._cancelGroupConnection.makeRequest(t)},interrupt:function(){const n={};return this._interruptConnection.makeRequest(n)},_getOutSink:function(n){if(n in this._outSinkMap)return this._outSinkMap[n]},_getErrSink:function(n){if(n in this._errSinkMap)return this._errSinkMap[n]},destroy:function(){this._fevalConnection.destroy(),this._evalConnection.destroy(),this._textConnection.destroy();const n=!1;this._cancelConnection.destroy(n),this._cancelGroupConnection.destroy(n);const i=!1;this._interruptConnection.destroy(i)},_commonEvalFevalImpl:function(n,i,t){let s;const o=new v(function(a,p,f){s&&this._makeCancelRequest(s,f)}.bind(this));let r,l;if(n){if(l=n._serializeAndVerifyRunOptions(),l.error)return o.reject(new c("inCOMPILE_ERROR",l.error,1)),o;l.runOptions.eventConnections=this._prepareRunOptionEvents(n,o),r=n.getTimeOut()}i.runOptions=l?l.runOptions:void 0;const u=t.makeRequest(i,r,this._makeCancelRequest.bind(this));return s=i.requestID,n&&(this._outSinkMap[s]=n.getOutTextCallback(),this._errSinkMap[s]=n.getErrTextCallback()),u.then(function(a){a&&a.result?o.resolve(a.result):o.resolve()},function(a){o.reject(a)}).finally(function(){s in this._outSinkMap&&delete this._outSinkMap[s],s in this._errSinkMap&&delete this._errSinkMap[s]}.bind(this)),o},_handleOutput:function(n){const i=n.data,t=this._getOutSink(i.requestID);t&&t(i.text)},_handleError:function(n){const i=n.data,t=this._getErrSink(i.requestID);t&&t(i.text)},_makeCancelRequest:function(n,i){i===void 0&&(i=!0);const t={interrupt:i,requestIDtoCancel:n};return this._cancelConnection.makeRequest(t)},_prepareRunOptionEvents:function(n,i){const t=n.getEventCallbacks(),s={};return t!==void 0&&Object.keys(t).forEach(function(o){const r=t[o],l=function(a){Promise.resolve().then(function(){r(a)})},u=this._eventMgr._runOptionsSubscribe(o,l);s[u._uId]=o,i.then(function(){u.destroy()},function(){u.destroy()})}.bind(this)),s},_isFunctionNameValid:function(n){return n!=null&&(typeof n=="string"||n instanceof String)}})},b,S),b.exports=E},"mw-mvm/impl/EventManager":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/Connection"]),e(e.dj.r.absMids["mw-mvm/impl/MVMConnection"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-utils/Utils"])],E=e.dj.d(A,function(d,v,h,c,n){return d(null,{constructor:function(i){this._subscribeConnection=new h(i,"subscribeEvent"),this._disconnectConnection=new h(i,"disconnectEvent"),this._eventConnection=new h(i,"event"),this._eventConnection.subscribe("fireEvent","_handleEvent",this).catch(function(t){i.onChannelPrefix().then(function(){throw t},function(s){if(s!==t)throw t})}),this._callbackMap={}},subscribe:function(i,t){if(i===void 0)return new v(Promise.reject(new Error("eventName is not defined")),"invalid",this);const s={eventName:i},o=this._subscribeConnection.makeRequest(s);return this._subscribeHelper(s.requestID,t,o)},destroy:function(){for(const t in this._callbackMap)this._disconnect(t);this._eventConnection.destroy(),this._subscribeConnection.destroy();const i=!1;this._disconnectConnection.destroy(i)},_disconnect:function(i){if(!this._isConnected(i))return Promise.resolve();this._callbackMap[i]=function(){};const t={requestIDtoDisconnect:i};return this._disconnectConnection.makeRequest(t).then(function(){delete this._callbackMap[i]}.bind(this),function(o){throw delete this._callbackMap[i],o}.bind(this))},_runOptionsSubscribe:function(i,t){const s=n.generateUuid();return this._subscribeHelper(s,t,Promise.resolve())},_subscribeHelper:function(i,t,s){return this._callbackMap[i]=t,new v(s,i,this)},_handleEvent:function(i){const t=i.data;if(!this._isConnected(t.requestID))return;this._callbackMap[t.requestID](t.eventData)},_isConnected:function(i){return i in this._callbackMap}})},b,S),b.exports=E},"mw-mvm/impl/MVM":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-messageservice/MessageService"]),e(e.dj.r.absMids["mw-utils/Utils"]),e(e.dj.r.absMids["mw-mvm/impl/AttachDetach"]),e(e.dj.r.absMids["mw-mvm/impl/ConnectionData"]),e(e.dj.r.absMids["mw-mvm/impl/Debugger"]),e(e.dj.r.absMids["mw-mvm/impl/EvalFevalCancel"]),e(e.dj.r.absMids["mw-mvm/impl/EventManager"]),e(e.dj.r.absMids["mw-mvm/impl/RuntimeException"]),e(e.dj.r.absMids["mw-fctrl/Features"]),e(e.dj.r.absMids["mw-mvm/impl/More"]),e(e.dj.r.absMids["mw-mvm/impl/Pause"]),e(e.dj.r.absMids["mw-mvm/impl/Bang"])],E=e.dj.d(A,function(d,v,h,c,n,i,t,s,o,r,l,u,a,p,f){const g=d(null,{_SETSINK_CHANNEL:"/mvm/sinks/set",_RESPONSESINK_CHANNEL:"/mvm/sinks/response",constructor:function(y,C){h.assert(y==="user-mvm","Only user-mvm is supported at this time"),c.isStarted()||c.start(),this._MVMid=y,this._destroyCallback=C,this._refCount=0,this._attach=new i(c,this._MVMid),this._attachID=n.generateUuid(),c.subscribe(this._RESPONSESINK_CHANNEL,"_handleTextEvent",this);const P=new t(c,this._attach.getChannelPrefix());this._eventManager=new r(P),this._evalFevalCancel=new o(P,this._eventManager),this._outputCallback={},this._errorCallback={},this._debugger=new s(P),this._errSinkTraits={},this._outSinkTraits={},this._features=new u(this._MVMid)},feval:function(m,y,C,P){return this._evalFevalCancel.feval(m,y,C,P)},eval:function(m,y,C){return this._evalFevalCancel.eval(m,y,C)},cancelGroup:function(m,y){return this._evalFevalCancel.cancelGroup(m,y)},interrupt:function(){return this._evalFevalCancel.interrupt()},destroy:function(){--this._refCount,!(this._refCount>0)&&(c.unsubscribe(this._RESPONSESINK_CHANNEL,"_handleTextEvent",this).then(function(){},function(y){}),this._features&&this._features.destroy(),this._evalFevalCancel&&this._evalFevalCancel.destroy(),this._eventManager&&this._eventManager.destroy(),this._debugger&&this._debugger.destroy(),this._attach&&this._attach.destroy(),this._destroyCallback())},getFeatures:function(){return this._features},whenMVMReady:function(){return this._attach.getChannelPrefix().then(function(){},function(m){throw new Error("MVM rejected connection")})},setTextCallbacks:function(m){this._outputCallback=m.outputCallback,this._errorCallback=m.errorCallback,this._outSinkTraits=m.outSinkTraits,this._errSinkTraits=m.errSinkTraits,this._attach.getChannelPrefix().then(function(y){c.publish(this._SETSINK_CHANNEL,{attachID:this._attachID,outSinkTraits:this._outSinkTraits,errSinkTraits:this._errSinkTraits})}.bind(this),function(y){})},_handleTextEvent:function(m){const y=m.data;y&&(y.stream===0?typeof this._outputCallback=="function"&&this._outputCallback(y.text):y.stream===1&&typeof this._errorCallback=="function"&&this._errorCallback(y.text))},getEventManager:function(){return this._eventManager},getDebugger:function(){return this._debugger},getMore:function(){return this._more===void 0&&(this._more=new a(this)),this._more},getPause:function(){return this._pause===void 0&&(this._pause=new p(this)),this._pause},getBang:function(){return this._bang===void 0&&(this._bang=new f(this)),this._bang}});return{get:function(m){let y=this._mvmMap[m];return y===void 0&&(y=new g(m,function(){delete this._mvmMap[m]}.bind(this)),this._mvmMap[m]=y),++y._refCount,y},_mvmMap:{}}},b,S),b.exports=E},"mw-mvm/impl/MVMConnection":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/RuntimeException"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-utils/Utils"])],E=e.dj.d(A,function(d,v,h,c){const n=function(){let i,t;return{promise:new Promise(function(o,r){i=o,t=r}),resolve:i,reject:t}};return d(null,{constructor:function(i,t){h.assert(i!==void 0,"connectionData must be defined"),h.assert(t!==void 0,"channelPostfix must be defined"),this._subscriptionPromises=[],this._subscribeArgs=[],this._requestPromiseMap={},this._connectionData=i,this._connectionData.onChannelPrefix().then(function(s){this._channelPrefix=s+"/"+t,this._requestChannel=this._channelPrefix+"/request"}.bind(this),function(s){}),this._subscribeImpl("response","_handleResponse",this).catch(function(s){}),this._cancelPendingSubscriptions=!1},subscribe:function(i,t,s){const o=function(r){Promise.resolve(r).then(function(l){s?s[t](l):t(l)})};return this._subscribeImpl(i,o)},makeRequest:function(i,t,s){const o=c.generateUuid(),r=function(){o in this._requestPromiseMap&&delete this._requestPromiseMap[o]}.bind(this),l=n();let u=l.promise.then(function(a){return r(),a},function(a){throw r(),a});if(this._requestPromiseMap[o]={resolve:l.resolve,reject:l.reject},i.requestID=o,this._connectionData.queueRequest(this._subscriptionPromises,function(){this._connectionData.getMessageService().publish(this._requestChannel,i)}.bind(this),function(a){l.reject(a)}),t!==void 0){const a=setTimeout(this._handleTimeout.bind(this,o,s),t);u=u.finally(function(){clearTimeout(a)})}return u},destroy:function(i){if(i===void 0&&(i=!0),i)for(const t in this._requestPromiseMap)this._requestPromiseMap[t].reject("mvm is being destroyed");for(this._cancelPendingSubscriptions=!0;this._subscribeArgs.length>0;){const t=this._subscribeArgs.shift();this._connectionData.getMessageService().unsubscribe(...t).then(function(){},function(o){})}},_subscribeImpl:function(i,t,s){const o=n();return this._subscriptionPromises.push(o.promise),this._connectionData.onChannelPrefix().then(async function(){if(this._cancelPendingSubscriptions){o.resolve();return}let r;s?r=[this._channelPrefix+"/"+i,t,s]:r=[this._channelPrefix+"/"+i,t],this._subscribeArgs.push(r);try{await this._connectionData.getMessageService().subscribe(...r),o.resolve()}catch(l){o.reject(l)}}.bind(this),function(r){o.reject(r)}),o.promise},_handleTimeout:function(i,t){if(i in this._requestPromiseMap){const s=this._requestPromiseMap[i];delete this._requestPromiseMap[i],s.reject("Canceled because of timeout")}t!==void 0&&t(i)},_handleResponse:function(i){const t=i.data;if(t.requestID in this._requestPromiseMap)if(t.error===void 0)this._requestPromiseMap[t.requestID].resolve(t);else{const s=new v(t.error.status,t.error.msg,t.error.id,t.error.functionName,t.error.frames,t.error.causes);this._requestPromiseMap[t.requestID].reject(s)}}})},b,S),b.exports=E},"mw-mvm/impl/More":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["mw-mvm/RunOptions"])],E=e.dj.d(A,function(d){return class{constructor(h){this._mvm=h}_fevalHelper(h){return this._mvm.feval(h,0,[],new d({queueName:"SingleKeyPress"}))}nextPage(){return this._fevalHelper("matlab.internal.singlekeypress.more.nextpage")}nextLine(){return this._fevalHelper("matlab.internal.singlekeypress.more.nextline")}quit(){return this._fevalHelper("matlab.internal.singlekeypress.more.quit")}}},b,S),b.exports=E},"mw-mvm/impl/Pause":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["mw-mvm/RunOptions"])],E=e.dj.d(A,function(d){return class{constructor(h){this._mvm=h}resume(){return this._mvm.feval("matlab.internal.singlekeypress.pause.resume",0,[],new d({queueName:"SingleKeyPress"}))}}},b,S),b.exports=E},"mw-mvm/impl/RuntimeException":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-mvm/impl/StackFrame"])],E=e.dj.d(A,function(d,v){var h=d(null,{constructor:function(n,i,t,s,o,r){this._status=n,this._msg=i,this._id=t,this._functionName=s,this._frames=[],this._causes=[],o&&o.forEach(function(l){this._frames.push(new v(l.file,l.func,l.line))},this),r&&r.forEach(function(l){this._causes.push(new h(l.status,l.msg,l.id,l.functionName,l.frames,l.causes))},this)},getID:function(){return this._id},getMsg:function(){return this._msg},getExecutionStatus:function(){return this._status},getFunctionName:function(){return this._functionName},getStackFrames:function(){return this._frames},getCauses:function(){return this._causes}});return h},b,S),b.exports=E},"mw-mvm/impl/StackFrame":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"])],E=e.dj.d(A,function(d){return d(null,{constructor:function(h,c,n){this._file=h,this._func=c,this._line=n},getFileName:function(){return this._file},getFunctionName:function(){return this._func},getLineNumber:function(){return this._line}})},b,S),b.exports=E},"mw-remote/EndPointsManager":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/_base/Deferred"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"])],E=e.dj.d(A,function(d,v,h,c,n){return d([],{constructor:function(){this.DirectXhrConstants={ENABLED:"ENABLED",DISABLED:"DISABLED",UNRESOLVED:"UNRESOLVED"},this._setDirectXhrCommunicationState(!1),this._directXhrChecks={},this._initializeEndPointsCollection()},_initializeEndPointsCollection:function(){this.endPointsCollection={ROUTER_LEAF_INSECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json",messages:["RouterLogin","CreateAccount","CurrentUser","Login","UpdateAccount","ServiceRegistry","ClientType","AuthorizationDetails","AcquireMatlab"],iframeProxyName:"remoteProducer",withCredentials:!0,acceptsMessageContainerMessages:!0,directXhr:this.DirectXhrConstants.UNRESOLVED},ROUTER_LEAF_SECURE_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteProducer",withCredentials:!0,acceptsMessageContainerMessages:!0,directXhr:this.DirectXhrConstants.UNRESOLVED},WORKER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!1,iframeProxyUrl:"",pathSuffix:"messageservice/json/secure",messages:[],iframeProxyName:"remoteWorkerProducer",withCredentials:!0,acceptsMessageContainerMessages:!0,directXhr:this.DirectXhrConstants.UNRESOLVED},WORKER_ASYNC_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"messageservice/async",messages:[],iframeProxyName:"remoteWorkerAsyncProducer",withCredentials:!0,acceptsMessageContainerMessages:!0,directXhr:this.DirectXhrConstants.UNRESOLVED},USAGE_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"udc/service/v1/events",messages:["UsageDataEventCollection"],iframeProxyName:"remoteUDCProducer",withCredentials:!1,acceptsMessageContainerMessages:!1,directXhr:this.DirectXhrConstants.UNRESOLVED},HELP_DATA_ROUTER_ENDPOINT:{routingHost:"",routingKey:"",iframeProxy:null,enabled:!0,iframeProxyUrl:"",pathSuffix:"",messages:["HelpDataEventCollection"],iframeProxyName:"doc_center",withCredentials:!1,acceptsMessageContainerMessages:!1,directXhr:this.DirectXhrConstants.UNRESOLVED}}},_setDirectXhrCommunicationState:function(t){this._useDirectXhrForCommunication=t},reset:function(){this._initializeEndPointsCollection(),this._directXhrChecks={}},setUpNewEndPoint:function(t,s,o,r,l){this.endPointsCollection[t]={routingHost:"",routingKey:"",pathSuffix:o,enabled:s,messages:[],iframeProxy:null,iframeProxyName:r,acceptsMessageContainerMessages:l,directXhr:this.DirectXhrConstants.UNRESOLVED}},getPathSuffixForEndPoint:function(t){return this.endPointsCollection[t].pathSuffix},setPathSuffixForEndPoint:function(t,s){this.endPointsCollection[t].pathSuffix=s},getEndPointNames:function(){var t={},s;for(s in this.endPointsCollection)this.endPointsCollection.hasOwnProperty(s)&&(t[s]=s);return t},setRoutingHostAndRoutingKey:function(t,s,o){s&&s.lastIndexOf("/")!==s.length-1&&(s+="/"),this.endPointsCollection[t].routingHost=s,o&&(this.endPointsCollection[t].routingKey=o),this._checkIfEndpointAllowsDirectXhr(t,!0).then(c.hitch(this,this._processEndPointAllowsXhrResponse,t,s))},_processEndPointAllowsXhrResponse:function(t,s,o){this._setEndpointAllowsDirectXhr(o),o.status!==this.DirectXhrConstants.ENABLED&&s&&this._setIframeRoutingHostAndRoutingkey(t)},_setEndpointAllowsDirectXhr:function(t){this.endPointsCollection[t.endPointName]&&t.status in this.DirectXhrConstants&&(this.endPointsCollection[t.endPointName].directXhr=t.status)},_setIframeRoutingHostAndRoutingkey:function(t){var s=this.getIframeProxyClientForEndPoint(t);s&&s.setRemotePageHost(this.endPointsCollection[t].routingHost,this.endPointsCollection[t].routingKey,null,this.endPointsCollection[t].iframeProxyUrl,{withCredentials:this.endPointsCollection[t].withCredentials})},getEndPointAllowsDirectXhr:function(t){return this._checkIfEndpointAllowsDirectXhr(t,!1)},_checkIfEndpointAllowsDirectXhr:function(t,s){if(this._directXhrChecks[t]&&!s)return this._directXhrChecks[t];var o=new h;this._directXhrChecks[t]=o;var r=this.getDirectXhrAllowed(t),l=this.DirectXhrConstants,u={endPointName:t,status:l.UNRESOLVED},a;if(typeof URL=="function")try{a=new URL(this.getRoutingHost(t))}catch(g){return u.status=l.DISABLED,o.resolve(u),o.promise}else a=document.createElement("a"),a.href=this.getRoutingHost(t);if(this._useDirectXhrForCommunication)if(a.origin===window.location.origin)u.status=l.ENABLED,o.resolve(u);else if(r===l.UNRESOLVED){var p=new XMLHttpRequest,f=this.getRemoteUrlForEndPoint(t);p.open("OPTIONS",f),p.send(),p.onload=function(){p.status===200?(u.status=l.ENABLED,o.resolve(u)):(u.status=l.DISABLED,o.resolve(u))},p.onerror=function(){u.status=l.DISABLED,o.resolve(u)}}else u.status=r,o.resolve(u);else u.status=l.DISABLED,o.resolve(u);return o.promise},getRoutingHost:function(t){return this.endPointsCollection[t].routingHost},getRoutingKey:function(t){return this.endPointsCollection[t].routingKey},getMessageTypesMappedToEndPoint:function(t){return this.endPointsCollection[t].messages},isEndPointEnabled:function(t){return this.endPointsCollection[t].enabled},setMessageTypesToEndPoint:function(t,s){this.endPointsCollection[t].messages=s},enableEndPoint:function(t){this.endPointsCollection[t].enabled=!0},getDirectXhrAllowed:function(t){return this.endPointsCollection[t].directXhr},disableEndPoint:function(t){this.endPointsCollection[t].enabled=!1},getEndPointForMessageType:function(t){var s=null,o;for(o in this.endPointsCollection)if(this.endPointsCollection.hasOwnProperty(o)&&(s=v.lastIndexOf(this.endPointsCollection[o].messages,t)>-1?o:s,s)){if(this.isEndPointEnabled(s))break;s=null}return s||this.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT},getRemoteUrlForEndPoint:function(t){var s=this.endPointsCollection[t].routingHost+this.endPointsCollection[t].pathSuffix;return this.endPointsCollection[t].routingKey&&(s=s+"?routingkey="+this.endPointsCollection[t].routingKey),s},setIframeProxyClientForEndPoint:function(t,s){this.endPointsCollection[t].iframeProxy=s},getIframeProxyClientForEndPoint:function(t){var s=this.endPointsCollection[t].iframeProxy;return s||(s=new n(this.endPointsCollection[t].iframeProxyName),this.endPointsCollection[t].iframeProxy=s),s},isEndpointMessageContainerBased:function(t){return t&&this.endPointsCollection[t]?this.endPointsCollection[t].acceptsMessageContainerMessages:!0},addMessagesTypesToEndPoint:function(t,s){this.endPointsCollection[t]&&this.endPointsCollection[t].messages.indexOf(s)===-1&&this.endPointsCollection[t].messages.push(s)},removeMessageTypesFromEndPoint:function(t,s){if(this.endPointsCollection[t]){var o=this.endPointsCollection[t].messages.indexOf(s);o>-1&&this.endPointsCollection[t].messages.splice(o,1)}}})},b,S),b.exports=E},"mw-remote/Remote":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["mw-remote/iframeproxy/IframeProxyClient"]),e(e.dj.r.absMids["mw-remote/impl/FaultManager"]),e(e.dj.r.absMids["mw-remote/impl/RequestManager"]),e(e.dj.r.absMids["mw-remote/impl/ResponseManager"]),e(e.dj.r.absMids["mw-remote/impl/Transaction"]),e(e.dj.r.absMids["mw-remote/impl/AutoDetectedTransaction"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["mw-remote/utils/SendMessageUtil"]),e(e.dj.r.absMids["mw-remote/UploadToWorker"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-remote/utils/RemoteUrlUtils"]),e(e.dj.r.absMids["mw-remote/serviceRegistryLookup!"])],E=e.dj.d(A,function(d,v,h,c,n,i,t,s,o,r,l,u,a,p){var f;return f={reset:function(){var m=[],y=new c,C=new i({faultManager:y}),P=new n({responseManager:C});f.faultManager=y,f.responseManager=C,f.requestManager=P,f._serviceRegistryLookup=p,f._uploadIframeProxyUrlParameters=["?computeToken=","","&routingkey=",""];var D=f.proxyClient=new h;f.createUploadIframeTarget=d.hitch(D,D.createUploadIframeTarget),f.cancelUpload=d.hitch(D,D.cancelUpload),o.setIframeProxyClientForEndPoint(o.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,D),o.setIframeProxyClientForEndPoint(o.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,D),t.construct=function(M){return M=M||{},o.getRoutingHost(o.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT)||f.setEndpoint(),M.allowedMessages=m,M.sendMessage=f.sendMessage,M.computeSessionId=f.getComputeSessionId,new s(M)},f.registerEndpointLevelFaultHandler=d.hitch(y,y.registerEndpointLevelFaultHandler),f.sendMessage=d.hitch(P,P.sendMessage),f.sendPayload=r.sendPayload,f.registerDefaultMessageFactory=d.hitch(P,P.registerDefaultMessageFactory),f.deregisterDefaultMessageFactory=d.hitch(P,P.deregisterDefaultMessageFactory),f.registerResponseHandler=d.hitch(C,C.registerResponseHandler),f.deregisterResponseHandler=d.hitch(C,C.deregisterResponseHandler),f.registerFaultHandler=d.hitch(y,y.registerFaultHandler),f.deregisterFaultHandler=d.hitch(y,y.deregisterFaultHandler),f.registerTopLevelFaultHandler=d.hitch(y,y.registerTopLevelFaultHandler),f.deregisterTopLevelFaultHandler=d.hitch(y,y.deregisterTopLevelFaultHandler),f.setServiceEndPoint=function(M,x,R){o.setRoutingHostAndRoutingKey(M,x,R)},f.setDirectXhrCommunicationState=function(M){o._setDirectXhrCommunicationState(M)},f.setServicePathSuffixForEndPoint=function(M,x){o.setPathSuffixForEndPoint(M,x)},f.ignoreTopLevelFault=f.registerTopLevelFaultHandler,f.setComputeToken=function(M){f._uploadIframeProxyUrlParameters[1]=M.computeSessionId,P.computeToken=M},f.setWorkerEndpoint=function(M,x){f._uploadIframeProxyUrlParameters[3]=x,o.setRoutingHostAndRoutingKey(o.getEndPointNames().WORKER_ENDPOINT,M,x)},f.setEndpoint=function(M){if(!M){var x=f._serviceRegistryLookup.getServiceRegistryEndpoint("primary");x?M=x:(u.info("ServiceRegistryLookup is empty, falling back to localhost"),M="/")}if(!M||M==="/"){var R=(document.getElementsByTagName("base")[0]||{}).href;if(R!==void 0){var j=document.createElement("a");j.display="none",j.href=R,M=j.protocol+"//"+j.hostname+(j.port?":"+j.port:"")+"/"}else M=window.location.protocol+"//"+window.location.host+"/"}o.setRoutingHostAndRoutingKey(o.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT,M),o.setRoutingHostAndRoutingKey(o.getEndPointNames().ROUTER_LEAF_INSECURE_ENDPOINT,M),D.setRemotePageHost(M,void 0,void 0,void 0,{withCredentials:o.endPointsCollection[o.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT].withCredentials})},f.setAllowedMessages=function(M){m=M},f.allowAllMessages=function(){m=[]},f.getEndPoint=function(){return o.getRoutingHost(o.getEndPointNames().ROUTER_LEAF_SECURE_ENDPOINT)},f.getUploadIframeProxyUrl=function(){var M=f.getWorkerRoutingHost(),x=M.slice(-1);return x==="/"&&(M=M.slice(0,-1)),M+D.getUploadIframeProxyUrlPath()+f._uploadIframeProxyUrlParameters.join("")},f.getComputeSessionId=function(){return P.computeToken?P.computeToken.computeSessionId:null},f.getWorkerRoutingHost=function(){var M=o.getRoutingHost(o.getEndPointNames().WORKER_ENDPOINT);if(M)return M;if(M=f._serviceRegistryLookup.getServiceRegistryEndpoint("primary"),!M||M==="/"){var x=(document.getElementsByTagName("base")[0]||{}).href;if(x!==void 0){var R=document.createElement("a");R.display="none",R.href=x,M=R.protocol+"//"+R.hostname+(R.port?":"+R.port:"")+"/"}else M=window.location.protocol+"//"+window.location.host+"/"}return M},f.getWorkerRoutingKey=function(){return o.getRoutingKey(o.getEndPointNames().WORKER_ENDPOINT)},f.upload=function(M,x){return new l().upload(M,x,{endpoint:f.getWorkerRoutingHost(),uploadIframeProxyUrl:f.getUploadIframeProxyUrl()})},f.createWorkerRoutingHostUrl=function(M){return a.createWorkerRoutingHostUrl(M,{host:f.getWorkerRoutingHost(),sessionId:f.getComputeSessionId(),routingKey:f.getWorkerRoutingKey()})},f.getServiceRegistryEndpoint=function(M){return f._serviceRegistryLookup.getServiceRegistryEndpoint(M)},f.enableServerOnWorkerAsync=function(){o.enableEndPoint(o.getEndPointNames().WORKER_ASYNC_ENDPOINT)},f.disableServerOnWorkerAsync=function(){o.disableEndPoint(o.getEndPointNames().WORKER_ASYNC_ENDPOINT)},f.isServerOnWorkerAsyncEnabled=function(){return o.isEndPointEnabled(o.getEndPointNames().WORKER_ASYNC_ENDPOINT)},f.enableServerOnWorker=function(){o.enableEndPoint(o.getEndPointNames().WORKER_ENDPOINT)},f.disableServerOnWorker=function(){o.disableEndPoint(o.getEndPointNames().WORKER_ENDPOINT)},f.isWorkerEndpointEnabled=function(){return o.isEndPointEnabled(o.getEndPointNames().WORKER_ENDPOINT)},f.setWorkerOnlyMessageTypes=function(M){o.setMessageTypesToEndPoint(o.getEndPointNames().WORKER_ENDPOINT,M)},v.after(D,"onError",function(M){M&&y.handleNonTransactionFault(M)},!0),f.createNewEndPoint=function(M,x,R,j,w){var O=this.getEndPointByName(M);O||o.setUpNewEndPoint(M,x,R,j,w)},f.getUrlForEndPoint=function(M){return o.getRemoteUrlForEndPoint(M)},f.getEndPointByName=function(M){return o.getEndPointNames()[M]},f.getEndPointAllowsDirectXhr=function(M){return o.getEndPointAllowsDirectXhr(M)}}},f.reset(),f},b,S),b.exports=E},"mw-remote/RemoteEndPointsManager":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["mw-remote/EndPointsManager"])],E=e.dj.d(A,function(d){var v=null,h=function(){return v===null&&(v=new d),v};return h()},b,S),b.exports=E},"mw-remote/ReplaceUploadIframe":function(b,S,e){"use strict";var A,E;function d(c,n){if(!(c instanceof n))throw new TypeError("Cannot call a class as a function")}function v(c,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(c,t.key,t)}}function h(c,n,i){return n&&v(c.prototype,n),i&&v(c,i),c}A=[],E=e.dj.d(A,function(){"use strict";return function(){function c(n){d(this,c),this._xhr=null,this._uploadDestinationUrl=n.uploadDestinationUrl,this._computeToken=n.computeToken,this._routingkey=n.routingkey,this._fileDestination=n.fileDestination,this._csrfToken=n.csrfToken,this._postMessage=function(i){n.postMessage(i)}}return h(c,[{key:"_postMessageToParent",value:function(i){this._postMessage({data:i})}},{key:"_createFormDataFromFileList",value:function(i){for(var t=new window.FormData,s="uploadFileName",o=0;o<i.length;o++){var r=i[o];t.append(s,r,r.name)}return t}},{key:"_createAndSendXhr",value:function(i){var t=this;this._xhr=new XMLHttpRequest,this._xhr.upload.onprogress=function(s){t._postMessageToParent({type:"updateProgress",loaded:s.loaded,total:s.total})},this._xhr.onload=function(){t._postMessageToParent({type:"uploadFinished",status:t._xhr.status,response:t._xhr.response})},this._xhr.onerror=function(){t._postMessageToParent({type:"uploadError",status:t._xhr.status,response:t._xhr.response})},this._xhr.open("POST","".concat(this._uploadDestinationUrl,"?dest=").concat(this._fileDestination,"&computeToken=").concat(this._computeToken,"&routingkey=").concat(this._routingkey,"&csrfToken=").concat(this._csrfToken),!0),this._xhr.send(i)}},{key:"handleMessage",value:function(i){if(i.data instanceof FileList){var t=this._createFormDataFromFileList(i.data);this._createAndSendXhr(t);return}i.data==="cancelUpload"&&(this._xhr&&this._xhr.abort(),this._postMessageToParent({type:"uploadCanceled"}))}}]),c}()},b,S),b.exports=E},"mw-remote/UploadToWorker":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["dojo/dom-construct"]),e(e.dj.r.absMids["mw-html-utils/HtmlUtils"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["mw-remote/utils/SendMessageUtil"]),e(e.dj.r.absMids["mw-remote/ReplaceUploadIframe"])],E=e.dj.d(A,function(d,v,h,c,n,i,t){return d([],{constructor:function(){},upload:function(o,r,l){var u=this;if(this._uploadHandler=new v(function(){u.postMessageToUploadIframe("cancelUpload"),u._unloadIframe()}),this._workerEndpoint=l.endpoint,o instanceof FileList){var a={csrfToken:void 0,validForMs:void 0},p=i.sendPayload(JSON.stringify({messages:{CreateCsrfToken:[{}]}}),n.getEndPointNames().WORKER_ENDPOINT);return p.then(function(f){if(f.messages.CreateCsrfTokenResponse.forEach(function(D){D.messageFaults&&D.messageFaults.length>0||(a={csrfToken:D.csrfToken,validForMs:D.validForMs})}),window.MW_USE_IFRAME_OUT_OF_MODEL){var g=encodeURI(l.uploadIframeProxyUrl)+"&uploadDestinationUrl="+u._workerEndpoint+"upload?dest="+encodeURIComponent(r)+"&csrfToken="+encodeURIComponent(a.csrfToken);u._createUploadIframe(o,g)}else{var m=new URL(l.uploadIframeProxyUrl),y=m.searchParams,C=y.get("computeToken"),P=y.get("routingkey");u._createUploadIframeNew(o,{uploadDestinationUrl:u._workerEndpoint+"upload",computeToken:C,routingkey:P,fileDestination:encodeURIComponent(r),csrfToken:encodeURIComponent(a.csrfToken)})}}),this._uploadHandler}},_createUploadIframe:function(o,r){var l=this;this._eventCallBack=function(u){if(l.getHostName(u.origin)===l.getHostName(l._workerEndpoint))switch(u.data.type){case"iframeIsReady":l.postMessageToUploadIframe(o);break;case"updateProgress":l._uploadHandler.progress({loaded:u.data.loaded,total:u.data.total});break;case"uploadFinished":l._uploadHandler.resolve({status:u.data.status,response:u.data.response}),l._unloadIframe();break;case"uploadError":l._uploadHandler.reject({status:u.data.status,response:u.data.response});break;default:break}},this._uploadIframe=h.create("iframe",{id:"uploadIframe",src:r,width:0,height:0,style:"visibility: hidden; display: none;"}),document.body.appendChild(this._uploadIframe),window.addEventListener("message",this._eventCallBack,!1)},_createUploadIframeNew:function(o,r){var l=this;this._eventCallBack=function(u){switch(u.data.type){case"updateProgress":l._uploadHandler.progress({loaded:u.data.loaded,total:u.data.total});break;case"uploadFinished":l._uploadHandler.resolve({status:u.data.status,response:u.data.response}),l._unloadIframe();break;case"uploadError":l._uploadHandler.reject({status:u.data.status,response:u.data.response});break;default:break}},r.postMessage=this._eventCallBack,this._ReplaceUploadIframe=new t(r),this.postMessageToUploadIframe(o)},_unloadIframe:function(){window.MW_USE_IFRAME_OUT_OF_MODEL?this._uploadIframe&&(window.removeEventListener("message",this._eventCallBack,!1),this._uploadIframe.parentNode.removeChild(this._uploadIframe),h.destroy(this._uploadIframe),this._uploadIframe=void 0):this._ReplaceUploadIframe=null},getHostName:function(o){var r=c.parseUrl(o);return r.hostname},postMessageToUploadIframe:function(o){window.MW_USE_IFRAME_OUT_OF_MODEL?this._uploadIframe.contentWindow.postMessage(o,this._workerEndpoint):this._ReplaceUploadIframe&&this._ReplaceUploadIframe.handleMessage({data:o})}})},b,S),b.exports=E},"mw-remote/defaultMessageMapping":function(b,S,e){"use strict";var A,E;A=[],E=e.dj.d(A,function(){return{Eval:["CurrentFolder","ListFolder"],"Eval:Ping":[],"Eval:RunFile":["UpdateFile","CurrentFolder","ListFolder"],"Eval:MlsPublishPre":["UpdateFile"],"FEval:liveEvalInstrumentCode":[],Interrupt:[],"FEval:GetFigures":["CurrentFolder","ListFolder"],"FEval:CloseFigure":["FEval:GetFigures"],"FEval:SelectFigure":["FEval:GetFigures"],"FEval:ResetAxes":["FEval:GetFigures"],"FEval:ResizeFigure":["FEval:GetFigures"],"FEval:AxesInteraction2D":["FEval:GetFigures"],"FEval:AxesInteraction3D":["FEval:GetFigures"],CurrentUser:["ServiceRegistry"],RouterLogin:["ServiceRegistry"],CurrentFolder:["ListFolder"],MoveFile:["CurrentFolder"],Variable:[],CloseFile:["SaveSession"],UpdateFile:["SaveSession"],SaveSession:["UpdateFile"],SaveSessionState:["UpdateFile"],Logout:["CloseFile"],UpdateShare:["ListFolder"],AcquireMatlab:["ServiceRegistry"]}},b,S),b.exports=E},"mw-remote/iframeproxy/CheckUrlService":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/dom"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/request/script"]),e(e.dj.r.absMids["mw-log/Log"])],E=e.dj.d(A,function(d,v,h,c){"use strict";function n(i){var t,s,o,r,l;if(!i)throw new Error("Expected a valid url in urlToEmptyJsFile");return t={},t.framedoc=null,s="error",o=h.get(i,t,!0),r=d.byId(o.id,t.frameDoc),l=v(r,s,function(u){c.info("CheckUrlService detected an error accessing url: "+i),o.handleResponse(null,u),l.remove()}),o.promise}return n},b,S),b.exports=E},"mw-remote/iframeproxy/IframeProxyClient":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/connect"]),e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/Deferred"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["dojo/dom-construct"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-remote/iframeproxy/CheckUrlService"]),e(e.dj.r.absMids["mw-remote/iframeproxy/IframeProxyReplace"])],E=e.dj.d(A,function(d,v,h,c,n,i,t,s,o){var r="use_latest",l=v([],{IFRAME_TIMEOUT:2e4,LATEST_VERSION:"1.6",REMOTE_PROXY:"/remote/proxy/",constructor:function(a){this.iframeId=a||"remoteProducer",this._version=null,this._messageId=0,this._loaded=!1,this._pendingQueue=[],this._transactions={},this._uploadTargetCallbacks={},this._checkUrl=null,this._loadTimeoutHandle=null,this._checkUrlTimeout=null,this._errorRate=0},setRemotePageHost:function(a,p,f,g){var m=this,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};a=this._combineUriPaths(a||"","/"),p=p||"",g=g||"",this.computeToken=f,this._withCredentials=this._withCredentials||!1,typeof y.withCredentials=="undefined"||y.withCredentials===null||(this._withCredentials=!!y.withCredentials),!(a===this._host&&p===this._key&&g===this._proxyUrl)&&(this._loaded=!1,this._errorLoading=!1,this._host=a,this._key=p,this._proxyUrl=g,window.MW_USE_IFRAME_OUT_OF_MODEL?(this._version=null,this._setVersion(r)):(this._version=r,this._iframeProxyReplace=new o({parent:{postMessage:function(P){m._handleMessage({data:P})}},withCredentials:this._withCredentials})))},_setVersion:function(a){if((!a||a===r)&&(a=this.LATEST_VERSION),!(this._loaded||a===this._version)){this._version=a;var p=this._calculateUrls(this._host,this._key,a,this._proxyUrl);this._createIframe(p)}},_calculateUrls:function(a,p,f,g){var m=this.REMOTE_PROXY+f+"/iframeProxyRelease.html",y=this.REMOTE_PROXY+f+"/CheckJsFile.js";return g&&(m=g),m=this._combineUriPaths(a,m).split("?")[0],m+=p?"?routingkey="+p:"",y=this._combineUriPaths(a,y),p?y+="?routingkey="+p:y+="?time="+new Date().getTime(),{fastFailUrl:y,iFrameUrl:m}},_createIframe:function(a){var p=a.fastFailUrl,f=this;this._url=a.iFrameUrl,this.remoteIframe&&i.destroy(this.remoteIframe),this.remoteIframe=i.create("iframe",{id:this.iframeId,src:this._url,width:0,height:0,style:"visibility: hidden; display: none;"}),document.body.appendChild(this.remoteIframe),this._checkUrl=null,this._checkUrlTimeout=setTimeout(function(){f._checkUrl=new s(p).then(function(){f._checkUrl=null},function(g){f._checkUrl=null,!(g.dojoType==="cancel"||g.name==="CancelError")&&f._handleLoadTimeoutHitch()})},this.IFRAME_TIMEOUT*.15),this._loadTimeoutHandle=setTimeout(function(){f._handleLoadTimeoutHitch()},this.IFRAME_TIMEOUT),this._messageConnection||(this._messageConnection=d.connect(window,"message",this,this._handleMessage))},_handleLoadTimeoutHitch:function(){if(this._cleanupFailureChecks(),!this._loaded)if(this._version==="1.0")this._handleLoadTimeout();else{var a=(parseFloat(this._version)-.1).toFixed(1).toString();t.info("Unable to load proxy version "+this._version+", trying "+a+"."),this._setVersion(a)}},createUploadIframeTarget:function(a,p,f){this._uploadTargetCallbacks[a]=c.hitch(f||this,p),this._postMessage("createUploadIframe;"+a)},cancelUpload:function(a){this._postMessage("cancelUpload;"+a)},getUploadIframeProxyUrlPath:function(){return this.REMOTE_PROXY+this._version+"/uploadIframeProxy.html"},sendMessage:function(a,p,f){var g=this,m,y,C;this.computeToken&&(f=f||{},f.headers=f.headers||{},f.headers.computeToken=this.computeToken),m=this._getNewMessageId(),y="sendMessage;"+m+";"+p+";",y+=f?JSON.stringify(f,null,0):"{}",y+=";"+a;function P(){g._version==="1.0"?t.warn("Cancelling is not supported by the 1.0 remote proxy."):g._postMessage("abort;"+m)}return C={deferred:new h(P),id:m},this._errorLoading?C.deferred.reject("The iFrame did not load properly: "+this._url):(this._transactions[m]=C,this._postMessage(y)),C.deferred},setLatency:function(a){this._latency=a},setErrorRate:function(a){this._errorRate=a},_postMessage:function(a){this._loaded?this._postMessageNow(a):this._pendingQueue.push(a)},_handleMessage:function(a){var p,f,g,m,y,C,P,D,M,x=!0;if(window.MW_USE_IFRAME_OUT_OF_MODEL&&(x=a.source===this.remoteIframe.contentWindow),x){if(f=a.data.indexOf(";"),g=a.data.substring(0,f),!g)throw new Error("Client unable to parse message, no action specified: "+a.data);switch(g){case"ready":this._cleanupFailureChecks(),this._loaded=!0,this._flushPending();break;case"sendMessageResponse":this._sendMessageResponse(a,f);break;case"uploadIframeMessage":p=a.data.indexOf(";",f+1),m=a.data.substring(f+1,p),y=a.data.substring(p+1,a.data.length),this._uploadTargetCallbacks[m](y);break;case"websocketOpened":this.onWebsocketOpen();break;case"websocketClosed":C=a.data.substring(f+1,a.data.length),P=JSON.parse(C),this.onWebsocketClose(P);break;case"websocketMsg":D=a.data.substring(f+1,a.data.length),M=JSON.parse(D),this.onWebsocketMsg(M);break;case"websocketError":this.onWebsocketError();break;default:throw new Error("Unknown action: "+g+", data: "+a.data)}}},_sendMessageResponse:function(a,p){var f,g,m=a.data.indexOf(";",p+1),y=a.data.indexOf(";",m+1),C=a.data.substring(p+1,m),P=a.data.substring(m+1,y),D=a.data.substring(y+1,a.data.length);if(!C||!P)throw new Error("Invalid message from remote iframe: "+a.data);if(f=this._transactions[C],!f)throw new Error("Unknown transaction id: "+C+", from remote iframe: "+a.data);if(delete this._transactions[C],!f.deferred.isCanceled()){if(P==="success"){try{g=D&&JSON.parse(D)}catch(M){g=D}g=g===""?{}:g,f.deferred.resolve(g);return}this.onError(D),f.deferred.reject(D)}},_cleanupFailureChecks:function(){this._checkUrlTimeout&&clearTimeout(this._checkUrlTimeout),this._loadTimeoutHandle&&clearTimeout(this._loadTimeoutHandle),this._checkUrl&&!this._checkUrl.isFulfilled()&&this._checkUrl.cancel("Timeout Occurred or iFrame Was Loaded before CheckUrl",!1),this._checkUrlTimeout=null,this._loadTimeoutHandle=null,this._checkUrl=null},_handleLoadTimeout:function(){var a,p,f;if(!this._loaded){a={code:"IframeLoadTimeout",description:"Iframe proxy loading failed due to an HTTP error",message:""},f=this._transactions,this._transactions={},this._pendingQueue=[];for(p in f)f.hasOwnProperty(p)&&f[p].deferred.reject("Timeout while loading the iFrame "+this._url+" at "+new Date);this._errorLoading=!0,this.onError(a)}},_postMessageNow:function(a){var p=this,f,g;function m(){if(p._errorRate>0&&Math.random()<p._errorRate&&a.indexOf("sendMessage;")===0){if(f=a.split(";",2)[1],g=p._transactions[f],g){delete p._transactions[f],t.error("Generating simulated error. Request was: ",a);var y="403 Forbidden;403";p.onError(y),g.deferred.reject(y)}}else window.MW_USE_IFRAME_OUT_OF_MODEL?p.remoteIframe.contentWindow.postMessage(a,p._url):p._iframeProxyReplace.handleMessage({data:a})}this._latency?setTimeout(m,this._latency):m()},_flushPending:function(){this._pendingQueue.forEach(this._postMessageNow,this),this._pendingQueue=[]},_getNewMessageId:function(){return this._messageId+=1,this._messageId.toString()},onError:function(){},onWebsocketOpen:function(){},onWebsocketMsg:function(){},onWebsocketClose:function(){},onWebsocketError:function(){},_combineUriPaths:function(){var a=Array.prototype.slice.call(arguments),p=a.reduce(function(f,g){return f.length===0?g:(g.length>0&&(g[0]==="/"&&f.lastIndexOf("/")===f.length-1?g=g.substring(1):g[0]!=="/"&&f.lastIndexOf("/")!==f.length-1&&(f+="/")),f+g)});return p}});return l.WebSocket=v([],{constructor:function(a){var p=this;this.proxyClient=l.WebSocket.proxyClient,this.proxyClient.computeToken&&a.indexOf("?")>=0&&(a=a+"&computeToken="+this.proxyClient.computeToken),this.proxyClient._postMessage("connectWebsocket;"+a),n.after(this.proxyClient,"onWebsocketOpen",function(){p.onopen.apply(p,arguments)},!0),n.after(this.proxyClient,"onWebsocketMsg",function(){p.onmessage.apply(p,arguments)},!0),n.after(this.proxyClient,"onWebsocketClose",function(){p.onclose.apply(p,arguments)},!0),n.after(this.proxyClient,"onWebsocketError",function(){p.onerror.apply(p,arguments)},!0)},onopen:function(){},onmessage:function(){},onclose:function(){},onerror:function(){},send:function(a){this.proxyClient._postMessage("websocketSend;"+a)},close:function(){this.proxyClient._postMessage("closeWebsocket;")}}),l},b,S),b.exports=E},"mw-remote/iframeproxy/IframeProxyReplace":function(b,S,e){"use strict";var A,E;function d(c,n){if(!(c instanceof n))throw new TypeError("Cannot call a class as a function")}function v(c,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(c,t.key,t)}}function h(c,n,i){return n&&v(c.prototype,n),i&&v(c,i),c}A=[],E=e.dj.d(A,function(){return function(){function c(n){d(this,c),this._childIframes=[],this._inFlightTransactions={},this._noop=function(){},this._webSocket=null,this._withCredentials=n.withCredentials||!1,this._parent=n.parent,this.postMessage("ready","")}return h(c,[{key:"postMessage",value:function(i,t){this._parent.postMessage(i+";"+t||"","*")}},{key:"handleXhrResponse",value:function(i,t){var s=i+";success;"+t;this.postMessage("sendMessageResponse",s)}},{key:"handleXhrFault",value:function(i,t,s){var o=i+";fault;"+t+";"+s;this.postMessage("sendMessageResponse",o)}},{key:"handleMessage",value:function(i){var t=this,s,o,r,l,u,a,p,f,g,m,y,C=i.data.indexOf(";"),P=i.data.substring(0,C);if(!P)throw new Error("Unable to parse message, no action specified: "+i.data);switch(P){case"sendMessage":if(s=i.data.indexOf(";",C+1),o=i.data.indexOf(";",s+1),p=i.data.indexOf(";",o+1),r=i.data.substring(C+1,s),l=i.data.substring(s+1,o),f=JSON.parse(i.data.substring(o+1,p)),u=i.data.substring(p+1,i.data.length),r&&l&&u)try{if(g=new XMLHttpRequest,this._inFlightTransactions[r]={xhr:g},m=!1,g.onreadystatechange=function(){var R;g.readyState===0?(m=!0,t.handleXhrFault(r,"XHR readyState 0")):g.readyState===4&&!m&&(m=!0,R=g.status||0,R>=200&&R<300||R===304?t.handleXhrResponse(r,g.responseText):t.handleXhrFault(r,g.responseText,R)),m&&g&&(g.onreadystatechange=t._noop,g=null,delete t._inFlightTransactions[r].xhr,delete t._inFlightTransactions[r])},g.open("POST",l,!0),g.withCredentials=this._withCredentials,g.setRequestHeader("Content-Type",f.contentType?f.contentType:"application/json"),g.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.headers)for(y in f.headers)f.headers.hasOwnProperty(y)&&g.setRequestHeader(y,f.headers[y]);g.send(u)}catch(R){this.handleXhrFault(r,"Unable to send data: "+R.toString())}else throw new Error("Invalid message to send: "+i.data);break;case"createUploadIframe":r=i.data.substring(C+1,i.data.length),document.getElementById(r)||(a=document.createElement("iframe"),a.id=r,a.name=r,a.src="about:blank",a.width=0,a.height=0,a.style="visibility: hidden; display: none;",this._childIframes.push(a),document.body.appendChild(a));break;case"cancelUpload":r=i.data.substring(C+1,i.data.length);var D=document.getElementById(r);D&&(navigator.appVersion.indexOf("MSIE")!==-1?D.contentWindow.document.execCommand("Stop"):D.contentWindow.stop());break;case"abort":r=i.data.substring(C+1,i.data.length),this._inFlightTransactions[r]&&this._inFlightTransactions[r].xhr.abort();break;case"connectWebsocket":var M=i.data.substring(C+1,i.data.length);this._webSocket=new WebSocket(M),this._webSocket.onopen=function(){t._parent.postMessage("websocketOpened;","*")},this._webSocket.onmessage=function(R){var j={data:R.data},w=JSON.stringify(j);t._parent.postMessage("websocketMsg;"+w,"*")},this._webSocket.onclose=function(R){var j={code:R.code,reason:R.reason,wasClean:R.wasClean},w=JSON.stringify(j);t._parent.postMessage("websocketClosed;"+w,"*")},this._webSocket.onerror=function(){t._parent.postMessage("websocketError;","*")};break;case"websocketSend":var x=i.data.substring(C+1,i.data.length);this._webSocket.send(x);break;case"closeWebsocket":this._webSocket.close();break;default:throw new Error("Unknown action: "+P)}}}]),c}()},b,S),b.exports=E},"mw-remote/impl/AutoDetectedTransaction":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-remote/impl/JsonTransaction"]),e(e.dj.r.absMids["mw-remote/utils/SendMessageUtil"])],E=e.dj.d(A,function(d,v,h){return d([v],{_doSend:function(n){return h.sendPayload(n,this.endPointName)}})},b,S),b.exports=E},"mw-remote/impl/FaultManager":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"])],E=e.dj.d(A,function(d,v,h){return v([],{constructor:function(n){n=n||{},this.faultHandlers=n.faultHandlers||{},this.topLevelHandlers=n.topLevelHandlers||[],this.endPointLevelHandlers=n.endPointLevelHandlers||{}},registerFaultHandler:function(n,i,t){t&&(i=h.hitch(t,i)),this.faultHandlers[n]=i},deregisterFaultHandler:function(n){delete this.faultHandlers[n]},registerTopLevelFaultHandler:function(n,i,t){var s;if(t&&(i=h.hitch(t,i)),h.isString(n)){if(n==="*")return s={matcher:n,handler:i},this.defaultTopLevelHandler=i,s;n=this._constructMatcherFromQuery(n)}return s={matcher:n,handler:i},this.topLevelHandlers.push(s),s},registerEndpointLevelFaultHandler:function(n,i,t,s){var o;return s&&(t=h.hitch(s,t)),h.isString(i)&&(i=this._constructMatcherFromQuery(i)),o={matcher:i,handler:t},this.endPointLevelHandlers[n]||(this.endPointLevelHandlers[n]=[]),this.endPointLevelHandlers[n].push(o),o},deregisterTopLevelFaultHandler:function(n){var i=this.topLevelHandlers.indexOf(n);i>-1?this.topLevelHandlers.splice(i,1):n.matcher==="*"&&delete this.defaultTopLevelHandler},_constructMatcherFromQuery:function(n){var i=n.split("||"),t=[];return i.forEach(function(s){s=h.trim(s),s=s.replace(/([.])/g,"\\$1"),s=s.replace(/\*/g,".*"),t.push(new RegExp("^"+s+"$"))}),function(s){return d.some(t,function(o){return o.test(s.faultCode||s.code||"")})}},handleFault:function(n){var i,t=function(r,l){var u,a=n.getMessageClassifier(l);a&&(u=[r,a].join(":"),this.faultHandlers[u]&&this.faultHandlers[u](n.fault,n.context))};for(i in n.requestMessages)if(n.requestMessages.hasOwnProperty(i)){this.faultHandlers[i]&&this.faultHandlers[i](n.fault,n.context);var s=n.requestMessages[i];Array.isArray(s)&&s.forEach(h.hitch(this,t,i))}this.faultHandlers["*"]&&this.faultHandlers["*"](n.fault,n.context),this.endPointLevelHandlers[n.endPointName]?this._handleEndpointLevelFault(n):this._handleTopLevelFault(n)},_handleEndpointLevelFault:function(n){var i=!1,t=d.filter(this.endPointLevelHandlers[n.endPointName],function(s){return s.matcher.call(this,n.fault,n.context)},this);return t.length>0&&t[0].handler&&(i=!0,t[0].handler.call(this,n.fault,n.context,n)),i},_handleTopLevelFault:function(n){var i=d.filter(this.topLevelHandlers,function(s){return s.matcher.call(this,n.fault,n.context)},this),t=i.length>0?i[0].handler:this.defaultTopLevelHandler;t&&t.call(this,n.fault,n.context,n)},handleNonTransactionFault:function(n){var i=d.filter(this.topLevelHandlers,function(s){return s.matcher.call(this,n)},this),t=i.length>0?i[0].handler:this.defaultTopLevelHandler;t&&t.call(this,n)}})},b,S),b.exports=E},"mw-remote/impl/JsonTransaction":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/xhr"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["mw-remote/impl/Transaction"])],E=e.dj.d(A,function(d,v,h,c,n){return d(n,{constructor:function(t){t=t||{},this.uuid=t.uuid||this._generateUuid()},_getRequest:function(t){var s=c.isEndpointMessageContainerBased(this.endPointName),o=null;if(s)o={uuid:this.uuid,messages:t},this.computeToken&&(o.computeToken=this.computeToken);else{var r=Object.keys(t);r.forEach(function(l){o=t[l]})}return this._sanitizeForJson(o),JSON.stringify(o,null,0)},_sanitizeForJson:function(t){var s;if(h.isArray(t))t.forEach(this._sanitizeForJson,this);else if(h.isObject(t))for(s in t)t.hasOwnProperty(s)&&(t[s]===void 0?delete t[s]:(h.isObject(t[s])||h.isArray(t[s]))&&this._sanitizeForJson(t[s]))},_doSend:function(t){return v.post({url:this._getEndpoint(),contentType:"application/json",handleAs:"json",postData:t})},_processResponse:function(t){this.stopTime=new Date().getTime(),t?(t.fault&&(this.fault=t.fault),t.messages?this.responseMessages=t.messages:this.responseMessages=t):this.fault={faultCode:"Connection.Fault",message:"Unable to communicate with server, no response."}},_processFault:function(t){this.stopTime=new Date().getTime(),this.fault={faultCode:"Connection.Fault",message:t}}})},b,S),b.exports=E},"mw-remote/impl/RequestManager":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/array"]),e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/Deferred"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["mw-remote/defaultMessageMapping"]),e(e.dj.r.absMids["mw-remote/impl/Transaction"])],E=e.dj.d(A,function(d,v,h,c,n,i,t){return v([],{defaultMapping:i,constructor:function(o){o=o||{},this.defaultFactories=o.defaultFactories||{},this.mockHandlers=o.mockHandlers||{},this.mapping=o.mapping||this.defaultMapping,this.responseManager=o.responseManager},registerDefaultMessageFactory:function(o,r,l){l&&(r=c.hitch(l,r)),this.defaultFactories[o]=r},deregisterDefaultMessageFactory:function(o){delete this.defaultFactories[o]},registerMockResponseGenerator:function(o,r,l){var u=this;r=c.hitch(l||this,r),this.mockHandlers[o]=function(a,p){var f,g=t.construct(p);f=r(a,g),f||(f=new h,f.callback()),f.addCallback(function(){u.responseManager._processResult(g)})}},deregisterMockResponseGenerator:function(o){delete this.mockHandlers[o]},sendMessage:function(o,r,l){var u={},a={},p,f,g;for(r=r||{},this._createAndFillTransactions(o,r,l,u,a),p=Object.keys(u),f=0;f<p.length;f=f+1)g=p[f],this._callMocks(a[g]),u[g].send(),this.responseManager.handleTransaction(u[g])},_getTransaction:function(o,r){var l=t.construct({context:r,computeToken:this.computeToken,endPointName:o});return l},_getMockTransaction:function(o,r,l){var u=t.construct({context:r,computeToken:this.computeToken,endPointName:o,uuid:l});return u},_createAndFillTransactions:function(o,r,l,u,a){var p,f,g=function(D){var M,x,R,j,w,O,F;if(w=n.getEndPointForMessageType(D),O=u[w],F=a[w],O||(O=this._getTransaction(w,r),F=this._getMockTransaction(w,r,O.uuid),u[w]=O,a[w]=F),this.defaultFactories[D]){if(M=this.defaultFactories[D](O.context),!M)return;x=D.split(":"),R=x[0],j=x.slice(1,x.length).join(":"),this.mockHandlers[D]||O.addRequestMessage(R,M,j),F.addRequestMessage(R,M,j)}},m,y;for(p in o)if(o.hasOwnProperty(p)){var C=n.getEndPointForMessageType(p);m=a[C],y=u[C],u[C]||(y=this._getTransaction(C,r),m=this._getMockTransaction(C,r,y.uuid),u[C]=y,a[C]=m),f=[p,l].join(":"),this.mockHandlers[p]||this.mockHandlers[f]||y.addRequestMessage(p,o[p],l),m.addRequestMessage(p,o[p],l),this.mapping[f]?this.mapping[f].forEach(g,this):this.mapping[p]&&this.mapping[p].forEach(g,this)}},_callMocks:function(o){var r,l,u=o.context;delete o.context;var a=function(f,g){var m,y=r.getMessageClassifier(g);y&&(m=[f,y].join(":"),this.mockHandlers[m]&&this.mockHandlers[m]([g],r))};for(l in o.requestMessages)o.requestMessages.hasOwnProperty(l)&&(r=c.mixin({},o),r.context=u,this.mockHandlers.hasOwnProperty(l)&&this.mockHandlers[l](r.requestMessages[l],r),Array.isArray(r.requestMessages[l])?r.requestMessages[l].forEach(c.hitch(this,a,l)):a(l,r.requestMessages[l]));this.mockHandlers["*"]&&this.mockHandlers["*"](l,r.requestMessages[l],r)}})},b,S),b.exports=E},"mw-remote/impl/ResponseManager":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"])],E=e.dj.d(A,function(d,v,h,c){return d([],{constructor:function(i){i=i||{},this.responseHandlers=i.responseHandlers||{},this.faultManager=i.faultManager,this.transactions=i.transactions||[]},registerResponseHandler:function(i,t,s){s&&(t=v.hitch(s,t)),this.responseHandlers[i]=t},deregisterResponseHandler:function(i){delete this.responseHandlers[i]},handleTransaction:function(i){this.transactions.push(i),i.deferred.addCallback(v.hitch(this,this._processAll,i)),i.deferred.addCallback(v.hitch(this,this._processResult,i)),i.deferred.addErrback(v.hitch(this,this._processAll,i)),i.deferred.addErrback(v.hitch(this,this._processFault,i))},_processAll:function(i){var t;t=this.transactions.indexOf(i),t>=0&&this.transactions.splice(t,1)},_processResult:function(i){i.getResponseMessageTypes().forEach(function(t){var s=i.responseMessages[t],o=[];try{Array.isArray(s)&&(s.forEach(function(l){var u,a=i.getMessageClassifier(l);if(a){u=[t,a].join(":");var p=this,f=!1;i.getRequestMessageTypes().forEach(function(g){var m=i.requestMessages[g];Array.isArray(m)?m.forEach(function(y){p.responseHandlers[u]&&y.uuid===l.uuid&&(p.responseHandlers[u]([l],i.context),f=!0)}):p.responseHandlers[u]&&m.uuid===l.uuid&&(p.responseHandlers[u]([l],i.context),f=!0)}),f||o.push(l)}else o.push(l)},this),o.length>0&&this.responseHandlers[t]&&this.responseHandlers[t](o,i.context),this.responseHandlers["*"]&&this.responseHandlers["*"](t,i.responseMessages[t],i.context))}catch(l){var r=2;h.error(`Remote: Fault occurred while processing response.
Message: `+l.message+`
Type: `+t+`
Response: `+JSON.stringify(s,null,r))}},this),this._processUdcResponses(i),i.fault&&this.faultManager.handleFault(i)},_processUdcResponses:function(i){var t=c.isEndpointMessageContainerBased(i.endPointName);if(!t){var s=Object.keys(i.requestMessages)[0];this.responseHandlers[s]&&this.responseHandlers[s](i.responseMessages)}},_processFault:function(i){this.faultManager.handleFault(i)}})},b,S),b.exports=E},"mw-remote/impl/Transaction":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/Deferred"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["mw-utils/Utils"])],E=e.dj.d(A,function(d,v,h,c,n){return d([],{constructor:function(t){t=t||{},this.requestMessages=t.requestMessages||{},this.responseMessages=t.responseMessages||{},this.context=t.context,this.computeToken=t.computeToken,this.uuidClassifierMap=t.uuidClassifierMap||{},this.endPointName=t.endPointName||null,this.allowedMessages=t.allowedMessages||[],this.ignoreMessageTypes=t.ignoreMessageTypes||[],this.sendMessage=t.sendMessage},addRequestMessage:function(t,s,o){if(!!s){var r=c.isEndpointMessageContainerBased(this.endPointName);this.requestMessages[t]||(this.requestMessages[t]=[]),h.isArray(s)?s.forEach(function(l){this.addRequestMessage(t,l,o)},this):r?(s.uuid=s.uuid||this._generateUuid(),o&&(this.uuidClassifierMap[s.uuid]=o),this.requestMessages[t].push(s)):this.requestMessages[t]=s,this.requestMessages=this._filterMessages(this.requestMessages)}},_filterMessages:function(t){var s={};return this.getRequestMessageTypes().forEach(function(o){(this.allowedMessages.length===0||this.allowedMessages.indexOf(o)>=0)&&(s[o]=t[o])},this),s},getResponseMessageTypes:function(){var t,s=[];for(t in this.responseMessages)this.responseMessages.hasOwnProperty(t)&&s.push(t);return s},getRequestMessageTypes:function(){var t,s=[];for(t in this.requestMessages)this.requestMessages.hasOwnProperty(t)&&s.push(t);return s},getMessageClassifier:function(t){return t&&t.uuid&&this.uuidClassifierMap.hasOwnProperty(t.uuid)?this.uuidClassifierMap[t.uuid]:""},send:function(){this._removeEmptyMessages(),this._isEmpty(this.requestMessages)?(this.deferred=new v,this.deferred.callback()):(this.startTime=new Date().getTime(),this.deferred=this._doSend(this._getRequest(this.requestMessages)),this.deferred.addCallback(this,this._processResponse),this.deferred.addErrback(this,this._processFault))},addIgnoreMessageType:function(t,s){if(this.getRequestMessageTypes().indexOf(t)>-1)if(s){var o;for(o in this.uuidClassifierMap)this.uuidClassifierMap.hasOwnProperty(o)&&s&&this.uuidClassifierMap[o]===s&&this.ignoreMessageTypes.push(t+":"+s)}else this.ignoreMessageTypes.push(t)},_removeEmptyMessages:function(){if(!this._isEmpty(this.requestMessages)){var t;for(t in this.requestMessages)this.requestMessages.hasOwnProperty(t)&&h.isArray(this.requestMessages[t])&&n.getArrayLength(this.requestMessages[t])===0&&delete this.requestMessages[t]}},_isEmpty:function(t){var s;for(s in t)if(t.hasOwnProperty(s))return!1;return!0},_generateUuid:function(){return n.generateUuid()}})},b,S),b.exports=E},"mw-remote/serviceRegistryLookup":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/request/xhr"]),e(e.dj.r.absMids["mw-html-utils/HtmlUtils"])],E=e.dj.d(A,function(d,v){var h=!1,c={};c._serviceData={},c.getServiceRegistryEndpoint=function(o){if(c._serviceData.serviceregistry){var r,l;for(r=c._serviceData.serviceregistry.length,l=0;l<r;l+=1)if(c._serviceData.serviceregistry[l].name===o)return c._serviceData.serviceregistry[l].endpoint}return""};var n=function(r){var l=v.parseQueryString().mre;if(l){var u=new URL(l,window.location.href);if(i(u)){l=u.href;var a=r.serviceregistry;a=Array.isArray(a)?a:[];var p=!1;a.forEach(function(f){f.name&&f.name==="primary"&&(f.endpoint=l,p=!0)}),p||(a.push({name:"primary",endpoint:l}),r.serviceregistry=a)}}return r},i=function(r){return!!(r.origin===window.location.origin||t(r))},t=function(r){var l=r.origin;r.port&&(l=r.origin.replace(":"+r.port,""));var u=[".mathworks.com",".mathworks.cn"];for(var a in u){var p=u[a];if(l.endsWith(p))return!0}return!1},s={_doXhr:function(r,l){return d(r,{handleAs:"json",failOk:!0,method:"GET",timeout:15e3,sync:l})},_reset:function(){h=!1,c._serviceData={}},load:function(r,l,u){if(h)u(c);else{var a=!l.async;s._doXhr("/serviceregistrylookup/1/service",a).then(function(p){p instanceof Object||(p={}),c._serviceData=n(p),h=!0,u(c)},function(){c._serviceData=n({}),h=!0,u(c)})}}};return s},b,S),b.exports=E},"mw-remote/serviceRegistryLookup!":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["mw-remote/serviceRegistryLookup"]),e("mwBundle.richcontent_preview_plugin|00feeeeb8e7f06976b5e2df2628e58e82dbd1d66"),e(e.dj.r.absMids["860c8bd84e18b7d8b67be9b4cb1c65024cd3b63b"])],E=e.dj.d(A,function(d,v){return v(d,"",e.dj.c(),!0)},b,S),b.exports=E},"mw-remote/utils/RemoteUrlUtils":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["mw-log/Log"])],E=e.dj.d(A,function(d){var v=new RegExp("^(?:[a-z]+:)?//","i"),h=["localhost","127.0.0.1","[::1]"];return{createWorkerRoutingHostUrl:function(n,i){var t=n,s="",o="",r=i.host,l=i.sessionId,u=i.routingKey,a=!0;try{if(s=new URL(r),this.isAbsoluteUrl(n))if(o=new URL(n),o.origin&&h.includes(o.hostname)){var p=o.pathname;t=new URL(p,s).href,t=t+o.search}else o.origin&&o.hostname!==s.hostname&&(a=!1);else n&&n.startsWith("/")?t=s+n.substr(1,n.length):t=s+n;return a&&(t+=(t.indexOf("?")>=0?"&":"?")+"mre="+encodeURIComponent(s),u&&l&&(t+="&routingkey="+u+"&computeToken="+encodeURIComponent(l))),t}catch(f){d.error("Input URL is malformed")}return t},isAbsoluteUrl:function(n){return!!v.test(n)}}},b,S),b.exports=E},"mw-remote/utils/SendMessageUtil":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["mw-remote/RemoteEndPointsManager"]),e(e.dj.r.absMids["dojo/_base/xhr"]),e(e.dj.r.absMids["dojo/_base/Deferred"])],E=e.dj.d(A,function(d,v,h){var c=function(t,s,o){var r=d.getIframeProxyClientForEndPoint(s);return r.sendMessage(t,d.getRemoteUrlForEndPoint(s),o)},n=function(t,s,o){var r=o&&o.headers?o.headers:null;return v.post({url:d.getRemoteUrlForEndPoint(s),contentType:"application/json",handleAs:"json",headers:r,postData:t})};return{sendPayload:function(t,s,o){var r=d.getEndPointAllowsDirectXhr(s),l=new h;return r.then(function(u){var a;u.status===d.DirectXhrConstants.ENABLED?a=n(t,s,o):a=c(t,s,o),a.then(function(p){l.resolve(p)})}),l}}},b,S),b.exports=E},"mw-statemachine/StateMachine":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/State"])],E=e.dj.d(A,function(d,v){return d([],{constructor:function(h){h.stateMachine=this,this.state=new v(h)},start:function(){this.state.enter()},stop:function(){this.state.exit()},_changeState:function(h,c){this.state.enter(h,c)},onEnterState:function(h){},onExitState:function(h){}})},b,S),b.exports=E},"mw-statemachine/statemachineimpl/EventTrigger":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/aspect"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],E=e.dj.d(A,function(d,v,h,c,n){return d(n,{constructor:function(){this.connection={}},enable:function(){v.isFunction(this.context[this.name])&&(this.cachedFunction=this.context[this.name]),this.connection=h.after(this.context,this.name,v.hitch(null,this.triggerHandler,this.name),!0)},disable:function(){this.connection.remove(),this.cachedFunction&&(this.context[this.name]=this.cachedFunction)}})},b,S),b.exports=E},"mw-statemachine/statemachineimpl/MessageTrigger":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/topic"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],E=e.dj.d(A,function(d,v,h,c,n){return d(n,{constructor:function(){var i=this.name.split(" ");(i.length<2||i[0]!=="subscribe")&&c.error("Invalid trigger name for a MessageTrigger. Could not parse out the message name."),this.messageId=i[1]||"",this.subscrition={}},enable:function(){this.subscription=h.subscribe(this.messageId,v.hitch(null,this.triggerHandler,this.name))},disable:function(){this.subscription.remove()}})},b,S),b.exports=E},"mw-statemachine/statemachineimpl/RemoteTrigger":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-remote/Remote"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],E=e.dj.d(A,function(d,v,h,c,n){return d(n,{constructor:function(){var i=this.name.split(" ");(i.length<2||i[0]!=="response"&&i[0]!=="fault")&&h.error("Invalid trigger name for a RemoteTrigger. Could not parse out the type of handler."),(!c.registerResponseHandler||!c.registerFaultHandler)&&h.error("The remote package is not available, this type of trigger will not work."),this.messageId=i[1]||"",this.handlerType=i[0]},enable:function(){this.handlerType==="response"?c.registerResponseHandler(this.messageId,v.hitch(null,this.triggerHandler,this.name)):c.registerFaultHandler(this.messageId,v.hitch(null,this.triggerHandler,this.name))},disable:function(){this.handlerType==="response"?c.deregisterResponseHandler(this.messageId):c.deregisterFaultHandler(this.messageId)}})},b,S),b.exports=E},"mw-statemachine/statemachineimpl/State":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/EventTrigger"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/MessageTrigger"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/RemoteTrigger"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/TimeoutTrigger"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/Transition"])],E=e.dj.d(A,function(d,v,h,c,n,i,t,s){var o;return o=d([],{constructor:function(r){this.stateMachine=r.stateMachine||{_changeState:function(){},onEnterState:function(){},onExitState:function(){}},this.namespace=r.namespace||"",this.name=r.name||this.getDefaultName(),this.context=r.context||{},this.data=r.data||{},this.composition=r.composition||"XOR",this.defaultSubstate=r.defaultSubstate||"",this.constructSubstates(r.substates),this.constructTriggersAndTransitions(r.transitions),this.active=r.active||!1},getDefaultName:function(){var r,l;return this.namespace.length>0?(r=this.namespace.split("."),l=r.pop()):h.warn("State: state name is not specified."),l||""},constructSubstates:function(r){var l={},u,a;for(u in r)r.hasOwnProperty(u)&&(a=r[u],a.name&&a.name!==u&&h.error("State: error constructing substate: "+u+", the specified names don't match: "+a.name),a.name=u,a.namespace=a.namespace||[this.namespace,this.name].join("."),a.stateMachine=a.stateMachine||this.stateMachine,a.context=a.context||this.context,l[a.name]=new o(a));this.substates=l},constructTriggersAndTransitions:function(r){var l,u={},a=[],p;for(l in r)r.hasOwnProperty(l)&&(p=this.constructTrigger(l),p&&a.push(p),u[l]=this.constructTransition(l,r[l]));this.transitions=u,this.triggers=a},constructTrigger:function(r){var l,u,a;return l=r.split(" "),l.length===2?l[0]==="subscribe"?a=n:l[0]==="response"||l[0]==="fault"?a=i:l[0]==="timeout"&&(a=t):(r!=="onEnterState"||r!=="onExitState")&&(a=c),a&&(u=new a({name:r,context:this.context,triggerHandler:v.hitch(this,this.handleTrigger)})),u},constructTransition:function(r,l){var u,a;return(v.isFunction(l)||v.isString(l)||v.isArray(l))&&(r==="onEnterState"||r==="onExitState"?(u=l,l={},l.action=u,l.target=""):(a=l,l={},l.target=a)),l.state=this,new s(l)},enter:function(r,l){this.active||(this.active=!0,this.enableTriggers(),this.stateMachine.onEnterState(this.name),this.handleTrigger.apply(this,["onEnterState"].concat(l))),r?this.changeSubstates(r,l):this.changeToDefaultSubstate(l)},exit:function(){var r=this.activeSubstates();this.active=!1,this.disableTriggers(),r.forEach(function(l){l.exit()}),this.handleTrigger("onExitState"),this.stateMachine.onExitState(this.name)},enableTriggers:function(){this.triggers.forEach(function(r){r.enable()})},disableTriggers:function(){this.triggers.forEach(function(r){r.disable()})},handleTrigger:function(r){var l,u;this.transitions[r]&&(u=Array.prototype.slice.call(arguments,1,arguments.length),l=this.transitions[r].handleTrigger(r,u),l&&(v.isString(l)||(u=l.args,l=l.target),this.stateMachine._changeState(l,u)))},changeSubstates:function(r,l){var u=this.activeSubstates();this.substates[r]&&(u.length>=0&&u[0].name!==r&&u.forEach(function(a){a.exit()}),this.substates[r].enter(void 0,l))},changeToDefaultSubstate:function(r){this.activeSubstates().length===0&&this.substates[this.defaultSubstate]&&this.substates[this.defaultSubstate].enter(void 0,r)},activeSubstates:function(){var r=[],l;for(l in this.substates)this.substates.hasOwnProperty(l)&&this.substates[l].active&&r.push(this.substates[l]);return r}}),o},b,S),b.exports=E},"mw-statemachine/statemachineimpl/TimeoutTrigger":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-statemachine/statemachineimpl/Trigger"])],E=e.dj.d(A,function(d,v,h,c){return d(c,{constructor:function(){var n=this.name.split(" ");(n.length<2||n[0]!=="timeout")&&h.error("Invalid trigger name for a TimeoutTrigger. Could not parse out the type of handler."),this.timeoutInSeconds=parseFloat(n[1]),this.handlerType=n[0]},enable:function(){this.disable(),this.timeoutHandle=setTimeout(v.hitch(null,this.triggerHandler,this.name),this.timeoutInSeconds*1e3)},disable:function(){this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}})},b,S),b.exports=E},"mw-statemachine/statemachineimpl/Transition":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["mw-log/Log"])],E=e.dj.d(A,function(d,v,h){return d([],{constructor:function(c){this.state={},this.target="",this.condition=null,this.action=null,d.safeMixin(this,c)},handleTrigger:function(c,n){var i="";return this.checkCondition(c,n)&&(this.runAction(c,n),i=this.getTarget(c,this.target,n)),i},checkCondition:function(c,n){if(!this.condition)return!0;var i=v.hitch(this.state.context,this.condition);return i.apply(null,[c,this.state.data].concat(n))},runAction:function(c,n){var i,t=this;this.action&&(i=v.hitch(this.state.context,this.action),i.apply(null,[c,t.state.data].concat(n)))},getTarget:function(c,n,i){var t,s,o,r;if(v.isString(n))s=n;else if(v.isFunction(n))o=v.hitch(this.state.context,n),s=o.apply(null,[c,this.state.data].concat(i));else if(v.isArray(n))for(t=0;t<n.length;t+=1){if(s=this.getTarget(c,n[t],i),v.isString(s)){s={target:s},v.mixin(s,r);break}if(s&&s.target){v.mixin(s,r);break}r=s||{}}else h.warn("Transition: improper target: ",n);return s}})},b,S),b.exports=E},"mw-statemachine/statemachineimpl/Trigger":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"])],E=e.dj.d(A,function(d){return d([],{constructor:function(v){this.name="",this.context={},this.triggerHandler=v.triggerHandler||function(){},d.safeMixin(this,v)},enable:function(){},disable:function(){}})},b,S),b.exports=E},"mw-utils/Utils":function(b,S,e){"use strict";var A,E;A=[e(e.dj.r.absMids["dojo/_base/lang"]),e(e.dj.r.absMids["dojo/_base/window"]),e(e.dj.r.absMids["mw-utils/deprecation"])],E=e.dj.d(A,function(d,v,h){return{generateUuid:function(){return"xxxxxxxx".replace(/[xy]/g,function(n){var i=Math.random()*16|0,t=n==="x"?i:i&3|8;return t.toString(16)}).toUpperCase()},isImageData:function(n){return!!n&&(v.global.ImageData&&n instanceof v.global.ImageData||n.hasOwnProperty("width")&&n.hasOwnProperty("height")&&n.hasOwnProperty("data"))},isArray:function(n){return h.deprecated({deprecated:{module:"MW/utils/Utils",method:"isArray"},geckNumber:1444368}),Array.isArray(n)},getArrayLength:function(n){var i=0;return d.isArray(n)?(n.forEach(function(t){t&&(i+=1)}),i):!1},isWhitespace:function(n){var i=/^\s+$/;return i.test(n)},removeSurroundingNewLines:function(n){for(;n.charAt(0)===`
`;)n=n.substring(1);for(;n.charAt(n.length-1)===`
`;)n=n.substring(0,n.length-1);return n},getFirstUniqueElement:function(n,i){var t=null;return i.some(function(s){if(n.indexOf(s)===-1)return t=s,!0}),t},unionOfWordSets:function(n,i,t){n=this._stringToArray(n),i=this._stringToArray(i);var s=this.unionOfArrays(n,i);return t?s.join(" "):s},intersectionOfWordSets:function(n,i,t){n=this._stringToArray(n),i=this._stringToArray(i);var s=this.intersectionOfArrays(n,i);return t?s.join(" "):s},differenceOfWordSets:function(n,i,t){n=this._stringToArray(n),i=this._stringToArray(i);var s=this.unique(this.differenceOfArrays(n,i));return t?s.join(" "):s},unionOfArrays:function(n,i){return this.unique(n.concat(i))},intersectionOfArrays:function(n,i){return this.nonunique(n.concat(i))},differenceOfArrays:function(n,i){if(window.Map===void 0)return this._legacyDifferenceOfArrays(n,i);var t,s,o,r=new Map,l=[];for(o=0;o<i.length;o++)r.set(i[o],null);for(o=0;o<n.length;o++)s=n[o],t=r.has(s),t||l.push(s);return l},_legacyDifferenceOfArrays:function(n,i){return this.unique(n.filter(function(t){return i.indexOf(t)===-1}))},unique:function(n){return n.filter(function(i,t){return n.indexOf(i)===t})},nonunique:function(n){return this.unique(n.filter(function(i,t){return n.indexOf(i)!==t}))},arrayEquals:function(n,i,t){if(n===i)return!0;if(n.length!==i.length)return!1;t||(t=function(l,u){return l===u});for(var s=0,o=n.length;s<o;s++)if(!t(n[s],i[s]))return!1;return!0},removeEmptyElements:function(n){return n.filter(function(i){return!(i===""||i===null||i===void 0)})},_stringToArray:function(n){return this._isString(n)?this.removeEmptyElements(n.split(" ")):n},_isString:function(n){return typeof n=="string"||n instanceof String}}},b,S),b.exports=E},"mw-utils/deprecation":function(b,S,e){"use strict";var A,E,d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v};A=[e(e.dj.r.absMids["dojo/_base/config"]),e(e.dj.r.absMids["mw-log/Log"])],E=e.dj.d(A,function(v,h){var c={deprecated:function(i){var t,s,o=!!v.isDebug||!!window.showDeprecationsAsErrors;o&&this._isConfigValid(i)&&(s=!!window.showDeprecationsAsErrors||i.deprecationLevel===this.ERROR?this.ERROR:this.WARN,t="DEPRECATED: ",i.deprecated&&(t+=i.deprecated.module,i.deprecated.method&&(t+="."+i.deprecated.method+"()"),t+="."),i.replacement&&(t+=" Use "+i.replacement.module,i.replacement.method&&(t+="."+i.replacement.method+"()"),t+=" instead."),i.removalVersion&&(t+=" Will be removed in version: "+i.removalVersion+"."),i.geckNumber&&(t+=" Please use g"+i.geckNumber+" to track latest information regarding this deprecation"),i.additionalInformation&&(t+=" "+i.additionalInformation),h[s](t))},_isConfigValid:function(i){var t=!!i.deprecated&&d(i.deprecated)==="object"&&i.deprecated.hasOwnProperty("module");return i.replacement&&(t=t&&d(i.replacement)==="object"&&i.replacement.hasOwnProperty("module")),i.geckNumber&&(t=t&&typeof i.geckNumber=="number"),t||h.error("Supplied deprecationConfig properties are not valid. Please refer to http://inside.mathworks.com/wiki/Web_Widgets_Deprecation_API for right API"),t}};return Object.defineProperties(c,{WARN:{value:"warn",enumerable:!0},ERROR:{value:"error",enumerable:!0}}),c},b,S),b.exports=E},"richcontent_preview_plugin/_impl/RichContentPreviewPlugin":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/on"]),e(e.dj.r.absMids["dojo/Deferred"]),e.dj.c(b.i),e(e.dj.r.absMids["mw-utils/Utils"]),e(e.dj.r.absMids["mw-log/Log"]),e(e.dj.r.absMids["mw-mvm/UserMvm"]),e(e.dj.r.absMids["mw-mvm/RunOptions"]),e(e.dj.r.absMids["mw-mvm/WhenToDequeue"]),e(e.dj.r.absMids["mw-remote/Remote"]),e(e.dj.r.absMids["dojo/domReady!"])],E=e.dj.d(A,function(d,v,h,c,n,i,t,s,o,r){var l={};return d([],{constructor:function(u){},getTitle:function(){},_getTitleImpl:function(u){},getUpperRightMetadata:function(){},_getUpperRightMetadataImpl:function(u){},getPrimaryMetadata:function(){},_getPrimaryMetadataImpl:function(u){},getSecondaryMetadata:function(){},_getSecondaryMetadataImpl:function(u){},getRichContent:function(){return{getRichContentFcn:this._getRichContentImpl.bind(this),overridePriority:3}},_getRichContentImpl:function(u){return{richContent:this._getImageImpl(u),isWidget:!1}},_getWidgetImpl:function(u){},_getImageImpl:async function(u){let a=t.getMVM();var p=u.path+"?v="+u.modifiedUtc;if(l[p])return this._createImageElementFromUrl(l[p]);try{let f=await a.feval("matlab.ui.internal.URLUtils.getURLToUserFile",1,[u.path],new s({dequeueMode:o.DEQUEUE_AT_PPE})),g=this.getWorkerRoutingHost()+f[0]+"?v="+u.modifiedUtc;return l[p]=g,this._createImageElementFromUrl(g)}catch(f){f._id&&f._msg?i.error("Loading image preview failed with error: "+f._id+"; "+f._msg):i.error("loading image preview failed with error: "+JSON.stringify(f))}},getWorkerRoutingHost:function(){var u=r.getWorkerRoutingHost();return u.replace(/\/$/,"")},_createImageElementFromUrl:function(u){var a=document.createElement("img");return a.src=u,a},getRichContentLabel:function(){},_getRichContentLabelImpl:function(u){}})},b,S),b.exports=E},"richcontent_preview_plugin/index":function(b,S,e){var A,E;A=[e(e.dj.r.absMids["dojo/_base/declare"]),e(e.dj.r.absMids["dojo/Deferred"]),e(e.dj.r.absMids["richcontent_preview_plugin/_impl/RichContentPreviewPlugin"])],E=e.dj.d(A,function(d,v,h){return{initialize:function(c){var n=new v,i=d([h])();return n.resolve({exports:{richContentPreviewPlugin:i}}),n.promise}}},b,S),b.exports=E}},[[0,"runtime~mwBundle.richcontent_preview_plugin"]]]);
